{
  "version": 3,
  "sources": ["../../../../node_modules/.deno/js-binary-schema-parser@2.0.3/node_modules/js-binary-schema-parser/lib/index.js", "../../../../node_modules/.deno/js-binary-schema-parser@2.0.3/node_modules/js-binary-schema-parser/lib/parsers/uint8.js", "../../../../node_modules/.deno/js-binary-schema-parser@2.0.3/node_modules/js-binary-schema-parser/lib/schemas/gif.js", "../../../../node_modules/.deno/gifuct-js@2.1.2/node_modules/gifuct-js/lib/deinterlace.js", "../../../../node_modules/.deno/gifuct-js@2.1.2/node_modules/gifuct-js/lib/lzw.js", "../../../../node_modules/.deno/gifuct-js@2.1.2/node_modules/gifuct-js/lib/index.js", "../../../../node_modules/.deno/gif.js@0.2.0/node_modules/gif.js/dist/node_modules/browser-pack/_prelude.js", "../../../../node_modules/.deno/gif.js@0.2.0/node_modules/gif.js/dist/node_modules/events/events.js", "../../../../node_modules/.deno/gif.js@0.2.0/node_modules/gif.js/dist/src/browser.coffee", "../../../../node_modules/.deno/gif.js@0.2.0/node_modules/gif.js/dist/src/gif.coffee", "../../../../node_modules/.deno/file-type@10.11.0/node_modules/file-type/index.js", "../../../../node_modules/.deno/image-type@4.1.0/node_modules/image-type/index.js", "../../../../node_modules/.deno/super-image-cropper@1.0.22/node_modules/super-image-cropper/dist/lib/decoder.js", "../../../../node_modules/.deno/gif-build-worker-js@1.0.2/node_modules/gif-build-worker-js/dist/lib/gif.worker.js", "../../../../node_modules/.deno/gif-build-worker-js@1.0.2/node_modules/gif-build-worker-js/dist/index.js", "../../../../node_modules/.deno/super-image-cropper@1.0.22/node_modules/super-image-cropper/dist/lib/synthetic-gif.js", "../../../../node_modules/.deno/super-image-cropper@1.0.22/node_modules/super-image-cropper/dist/lib/cropper.js", "../../../../node_modules/.deno/super-image-cropper@1.0.22/node_modules/super-image-cropper/dist/lib/helper.js", "../../../../node_modules/.deno/super-image-cropper@1.0.22/node_modules/super-image-cropper/dist/index.js"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.conditional = exports.parse = void 0;\n\nvar parse = function parse(stream, schema) {\n  var result = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : result;\n\n  if (Array.isArray(schema)) {\n    schema.forEach(function (partSchema) {\n      return parse(stream, partSchema, result, parent);\n    });\n  } else if (typeof schema === 'function') {\n    schema(stream, result, parent, parse);\n  } else {\n    var key = Object.keys(schema)[0];\n\n    if (Array.isArray(schema[key])) {\n      parent[key] = {};\n      parse(stream, schema[key], result, parent[key]);\n    } else {\n      parent[key] = schema[key](stream, result, parent, parse);\n    }\n  }\n\n  return result;\n};\n\nexports.parse = parse;\n\nvar conditional = function conditional(schema, conditionFunc) {\n  return function (stream, result, parent, parse) {\n    if (conditionFunc(stream, result, parent)) {\n      parse(stream, schema, result, parent);\n    }\n  };\n};\n\nexports.conditional = conditional;\n\nvar loop = function loop(schema, continueFunc) {\n  return function (stream, result, parent, parse) {\n    var arr = [];\n    var lastStreamPos = stream.pos;\n\n    while (continueFunc(stream, result, parent)) {\n      var newParent = {};\n      parse(stream, schema, result, newParent); // cases when whole file is parsed but no termination is there and stream position is not getting updated as well\n      // it falls into infinite recursion, null check to avoid the same\n\n      if (stream.pos === lastStreamPos) {\n        break;\n      }\n\n      lastStreamPos = stream.pos;\n      arr.push(newParent);\n    }\n\n    return arr;\n  };\n};\n\nexports.loop = loop;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readBits = exports.readArray = exports.readUnsigned = exports.readString = exports.peekBytes = exports.readBytes = exports.peekByte = exports.readByte = exports.buildStream = void 0;\n\n// Default stream and parsers for Uint8TypedArray data type\nvar buildStream = function buildStream(uint8Data) {\n  return {\n    data: uint8Data,\n    pos: 0\n  };\n};\n\nexports.buildStream = buildStream;\n\nvar readByte = function readByte() {\n  return function (stream) {\n    return stream.data[stream.pos++];\n  };\n};\n\nexports.readByte = readByte;\n\nvar peekByte = function peekByte() {\n  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function (stream) {\n    return stream.data[stream.pos + offset];\n  };\n};\n\nexports.peekByte = peekByte;\n\nvar readBytes = function readBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos += length);\n  };\n};\n\nexports.readBytes = readBytes;\n\nvar peekBytes = function peekBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos + length);\n  };\n};\n\nexports.peekBytes = peekBytes;\n\nvar readString = function readString(length) {\n  return function (stream) {\n    return Array.from(readBytes(length)(stream)).map(function (value) {\n      return String.fromCharCode(value);\n    }).join('');\n  };\n};\n\nexports.readString = readString;\n\nvar readUnsigned = function readUnsigned(littleEndian) {\n  return function (stream) {\n    var bytes = readBytes(2)(stream);\n    return littleEndian ? (bytes[1] << 8) + bytes[0] : (bytes[0] << 8) + bytes[1];\n  };\n};\n\nexports.readUnsigned = readUnsigned;\n\nvar readArray = function readArray(byteSize, totalOrFunc) {\n  return function (stream, result, parent) {\n    var total = typeof totalOrFunc === 'function' ? totalOrFunc(stream, result, parent) : totalOrFunc;\n    var parser = readBytes(byteSize);\n    var arr = new Array(total);\n\n    for (var i = 0; i < total; i++) {\n      arr[i] = parser(stream);\n    }\n\n    return arr;\n  };\n};\n\nexports.readArray = readArray;\n\nvar subBitsTotal = function subBitsTotal(bits, startIndex, length) {\n  var result = 0;\n\n  for (var i = 0; i < length; i++) {\n    result += bits[startIndex + i] && Math.pow(2, length - i - 1);\n  }\n\n  return result;\n};\n\nvar readBits = function readBits(schema) {\n  return function (stream) {\n    var _byte = readByte()(stream); // convert the byte to bit array\n\n\n    var bits = new Array(8);\n\n    for (var i = 0; i < 8; i++) {\n      bits[7 - i] = !!(_byte & 1 << i);\n    } // convert the bit array to values based on the schema\n\n\n    return Object.keys(schema).reduce(function (res, key) {\n      var def = schema[key];\n\n      if (def.length) {\n        res[key] = subBitsTotal(bits, def.index, def.length);\n      } else {\n        res[key] = bits[def.index];\n      }\n\n      return res;\n    }, {});\n  };\n};\n\nexports.readBits = readBits;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _ = require(\"../\");\n\nvar _uint = require(\"../parsers/uint8\");\n\n// a set of 0x00 terminated subblocks\nvar subBlocksSchema = {\n  blocks: function blocks(stream) {\n    var terminator = 0x00;\n    var chunks = [];\n    var streamSize = stream.data.length;\n    var total = 0;\n\n    for (var size = (0, _uint.readByte)()(stream); size !== terminator; size = (0, _uint.readByte)()(stream)) {\n      // size becomes undefined for some case when file is corrupted and  terminator is not proper \n      // null check to avoid recursion\n      if (!size) break; // catch corrupted files with no terminator\n\n      if (stream.pos + size >= streamSize) {\n        var availableSize = streamSize - stream.pos;\n        chunks.push((0, _uint.readBytes)(availableSize)(stream));\n        total += availableSize;\n        break;\n      }\n\n      chunks.push((0, _uint.readBytes)(size)(stream));\n      total += size;\n    }\n\n    var result = new Uint8Array(total);\n    var offset = 0;\n\n    for (var i = 0; i < chunks.length; i++) {\n      result.set(chunks[i], offset);\n      offset += chunks[i].length;\n    }\n\n    return result;\n  }\n}; // global control extension\n\nvar gceSchema = (0, _.conditional)({\n  gce: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    byteSize: (0, _uint.readByte)()\n  }, {\n    extras: (0, _uint.readBits)({\n      future: {\n        index: 0,\n        length: 3\n      },\n      disposal: {\n        index: 3,\n        length: 3\n      },\n      userInput: {\n        index: 6\n      },\n      transparentColorGiven: {\n        index: 7\n      }\n    })\n  }, {\n    delay: (0, _uint.readUnsigned)(true)\n  }, {\n    transparentColorIndex: (0, _uint.readByte)()\n  }, {\n    terminator: (0, _uint.readByte)()\n  }]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xf9;\n}); // image pipeline block\n\nvar imageSchema = (0, _.conditional)({\n  image: [{\n    code: (0, _uint.readByte)()\n  }, {\n    descriptor: [{\n      left: (0, _uint.readUnsigned)(true)\n    }, {\n      top: (0, _uint.readUnsigned)(true)\n    }, {\n      width: (0, _uint.readUnsigned)(true)\n    }, {\n      height: (0, _uint.readUnsigned)(true)\n    }, {\n      lct: (0, _uint.readBits)({\n        exists: {\n          index: 0\n        },\n        interlaced: {\n          index: 1\n        },\n        sort: {\n          index: 2\n        },\n        future: {\n          index: 3,\n          length: 2\n        },\n        size: {\n          index: 5,\n          length: 3\n        }\n      })\n    }]\n  }, (0, _.conditional)({\n    lct: (0, _uint.readArray)(3, function (stream, result, parent) {\n      return Math.pow(2, parent.descriptor.lct.size + 1);\n    })\n  }, function (stream, result, parent) {\n    return parent.descriptor.lct.exists;\n  }), {\n    data: [{\n      minCodeSize: (0, _uint.readByte)()\n    }, subBlocksSchema]\n  }]\n}, function (stream) {\n  return (0, _uint.peekByte)()(stream) === 0x2c;\n}); // plain text block\n\nvar textSchema = (0, _.conditional)({\n  text: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    preData: function preData(stream, result, parent) {\n      return (0, _uint.readBytes)(parent.text.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0x01;\n}); // application block\n\nvar applicationSchema = (0, _.conditional)({\n  application: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    id: function id(stream, result, parent) {\n      return (0, _uint.readString)(parent.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xff;\n}); // comment block\n\nvar commentSchema = (0, _.conditional)({\n  comment: [{\n    codes: (0, _uint.readBytes)(2)\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xfe;\n});\nvar schema = [{\n  header: [{\n    signature: (0, _uint.readString)(3)\n  }, {\n    version: (0, _uint.readString)(3)\n  }]\n}, {\n  lsd: [{\n    width: (0, _uint.readUnsigned)(true)\n  }, {\n    height: (0, _uint.readUnsigned)(true)\n  }, {\n    gct: (0, _uint.readBits)({\n      exists: {\n        index: 0\n      },\n      resolution: {\n        index: 1,\n        length: 3\n      },\n      sort: {\n        index: 4\n      },\n      size: {\n        index: 5,\n        length: 3\n      }\n    })\n  }, {\n    backgroundColorIndex: (0, _uint.readByte)()\n  }, {\n    pixelAspectRatio: (0, _uint.readByte)()\n  }]\n}, (0, _.conditional)({\n  gct: (0, _uint.readArray)(3, function (stream, result) {\n    return Math.pow(2, result.lsd.gct.size + 1);\n  })\n}, function (stream, result) {\n  return result.lsd.gct.exists;\n}), // content frames\n{\n  frames: (0, _.loop)([gceSchema, applicationSchema, commentSchema, imageSchema, textSchema], function (stream) {\n    var nextCode = (0, _uint.peekByte)()(stream); // rather than check for a terminator, we should check for the existence\n    // of an ext or image block to avoid infinite loops\n    //var terminator = 0x3B;\n    //return nextCode !== terminator;\n\n    return nextCode === 0x21 || nextCode === 0x2c;\n  })\n}];\nvar _default = schema;\nexports[\"default\"] = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deinterlace = void 0;\n\n/**\r\n * Deinterlace function from https://github.com/shachaf/jsgif\r\n */\nvar deinterlace = function deinterlace(pixels, width) {\n  var newPixels = new Array(pixels.length);\n  var rows = pixels.length / width;\n\n  var cpRow = function cpRow(toRow, fromRow) {\n    var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n  }; // See appendix E.\n\n\n  var offsets = [0, 4, 2, 1];\n  var steps = [8, 8, 4, 2];\n  var fromRow = 0;\n\n  for (var pass = 0; pass < 4; pass++) {\n    for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n      cpRow(toRow, fromRow);\n      fromRow++;\n    }\n  }\n\n  return newPixels;\n};\n\nexports.deinterlace = deinterlace;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lzw = void 0;\n\n/**\r\n * javascript port of java LZW decompression\r\n * Original java author url: https://gist.github.com/devunwired/4479231\r\n */\nvar lzw = function lzw(minCodeSize, data, pixelCount) {\n  var MAX_STACK_SIZE = 4096;\n  var nullCode = -1;\n  var npix = pixelCount;\n  var available, clear, code_mask, code_size, end_of_information, in_code, old_code, bits, code, i, datum, data_size, first, top, bi, pi;\n  var dstPixels = new Array(pixelCount);\n  var prefix = new Array(MAX_STACK_SIZE);\n  var suffix = new Array(MAX_STACK_SIZE);\n  var pixelStack = new Array(MAX_STACK_SIZE + 1); // Initialize GIF data stream decoder.\n\n  data_size = minCodeSize;\n  clear = 1 << data_size;\n  end_of_information = clear + 1;\n  available = clear + 2;\n  old_code = nullCode;\n  code_size = data_size + 1;\n  code_mask = (1 << code_size) - 1;\n\n  for (code = 0; code < clear; code++) {\n    prefix[code] = 0;\n    suffix[code] = code;\n  } // Decode GIF pixel stream.\n\n\n  var datum, bits, count, first, top, pi, bi;\n  datum = bits = count = first = top = pi = bi = 0;\n\n  for (i = 0; i < npix;) {\n    if (top === 0) {\n      if (bits < code_size) {\n        // get the next byte\n        datum += data[bi] << bits;\n        bits += 8;\n        bi++;\n        continue;\n      } // Get the next code.\n\n\n      code = datum & code_mask;\n      datum >>= code_size;\n      bits -= code_size; // Interpret the code\n\n      if (code > available || code == end_of_information) {\n        break;\n      }\n\n      if (code == clear) {\n        // Reset decoder.\n        code_size = data_size + 1;\n        code_mask = (1 << code_size) - 1;\n        available = clear + 2;\n        old_code = nullCode;\n        continue;\n      }\n\n      if (old_code == nullCode) {\n        pixelStack[top++] = suffix[code];\n        old_code = code;\n        first = code;\n        continue;\n      }\n\n      in_code = code;\n\n      if (code == available) {\n        pixelStack[top++] = first;\n        code = old_code;\n      }\n\n      while (code > clear) {\n        pixelStack[top++] = suffix[code];\n        code = prefix[code];\n      }\n\n      first = suffix[code] & 0xff;\n      pixelStack[top++] = first; // add a new string to the table, but only if space is available\n      // if not, just continue with current table until a clear code is found\n      // (deferred clear code implementation as per GIF spec)\n\n      if (available < MAX_STACK_SIZE) {\n        prefix[available] = old_code;\n        suffix[available] = first;\n        available++;\n\n        if ((available & code_mask) === 0 && available < MAX_STACK_SIZE) {\n          code_size++;\n          code_mask += available;\n        }\n      }\n\n      old_code = in_code;\n    } // Pop a pixel off the pixel stack.\n\n\n    top--;\n    dstPixels[pi++] = pixelStack[top];\n    i++;\n  }\n\n  for (i = pi; i < npix; i++) {\n    dstPixels[i] = 0; // clear missing pixels\n  }\n\n  return dstPixels;\n};\n\nexports.lzw = lzw;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decompressFrames = exports.decompressFrame = exports.parseGIF = void 0;\n\nvar _gif = _interopRequireDefault(require(\"js-binary-schema-parser/lib/schemas/gif\"));\n\nvar _jsBinarySchemaParser = require(\"js-binary-schema-parser\");\n\nvar _uint = require(\"js-binary-schema-parser/lib/parsers/uint8\");\n\nvar _deinterlace = require(\"./deinterlace\");\n\nvar _lzw = require(\"./lzw\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar parseGIF = function parseGIF(arrayBuffer) {\n  var byteData = new Uint8Array(arrayBuffer);\n  return (0, _jsBinarySchemaParser.parse)((0, _uint.buildStream)(byteData), _gif[\"default\"]);\n};\n\nexports.parseGIF = parseGIF;\n\nvar generatePatch = function generatePatch(image) {\n  var totalPixels = image.pixels.length;\n  var patchData = new Uint8ClampedArray(totalPixels * 4);\n\n  for (var i = 0; i < totalPixels; i++) {\n    var pos = i * 4;\n    var colorIndex = image.pixels[i];\n    var color = image.colorTable[colorIndex] || [0, 0, 0];\n    patchData[pos] = color[0];\n    patchData[pos + 1] = color[1];\n    patchData[pos + 2] = color[2];\n    patchData[pos + 3] = colorIndex !== image.transparentIndex ? 255 : 0;\n  }\n\n  return patchData;\n};\n\nvar decompressFrame = function decompressFrame(frame, gct, buildImagePatch) {\n  if (!frame.image) {\n    console.warn('gif frame does not have associated image.');\n    return;\n  }\n\n  var image = frame.image; // get the number of pixels\n\n  var totalPixels = image.descriptor.width * image.descriptor.height; // do lzw decompression\n\n  var pixels = (0, _lzw.lzw)(image.data.minCodeSize, image.data.blocks, totalPixels); // deal with interlacing if necessary\n\n  if (image.descriptor.lct.interlaced) {\n    pixels = (0, _deinterlace.deinterlace)(pixels, image.descriptor.width);\n  }\n\n  var resultImage = {\n    pixels: pixels,\n    dims: {\n      top: frame.image.descriptor.top,\n      left: frame.image.descriptor.left,\n      width: frame.image.descriptor.width,\n      height: frame.image.descriptor.height\n    }\n  }; // color table\n\n  if (image.descriptor.lct && image.descriptor.lct.exists) {\n    resultImage.colorTable = image.lct;\n  } else {\n    resultImage.colorTable = gct;\n  } // add per frame relevant gce information\n\n\n  if (frame.gce) {\n    resultImage.delay = (frame.gce.delay || 10) * 10; // convert to ms\n\n    resultImage.disposalType = frame.gce.extras.disposal; // transparency\n\n    if (frame.gce.extras.transparentColorGiven) {\n      resultImage.transparentIndex = frame.gce.transparentColorIndex;\n    }\n  } // create canvas usable imagedata if desired\n\n\n  if (buildImagePatch) {\n    resultImage.patch = generatePatch(resultImage);\n  }\n\n  return resultImage;\n};\n\nexports.decompressFrame = decompressFrame;\n\nvar decompressFrames = function decompressFrames(parsedGif, buildImagePatches) {\n  return parsedGif.frames.filter(function (f) {\n    return f.image;\n  }).map(function (f) {\n    return decompressFrame(f, parsedGif.gct, buildImagePatches);\n  });\n};\n\nexports.decompressFrames = decompressFrames;", "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n", "### CoffeeScript version of the browser detection from MooTools ###\n\nua = navigator.userAgent.toLowerCase()\nplatform = navigator.platform.toLowerCase()\nUA = ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) or [null, 'unknown', 0]\nmode = UA[1] == 'ie' && document.documentMode\n\nbrowser =\n  name: if UA[1] is 'version' then UA[3] else UA[1]\n  version: mode or parseFloat(if UA[1] is 'opera' && UA[4] then UA[4] else UA[2])\n\n  platform:\n    name: if ua.match(/ip(?:ad|od|hone)/) then 'ios' else (ua.match(/(?:webos|android)/) or platform.match(/mac|win|linux/) or ['other'])[0]\n\nbrowser[browser.name] = true\nbrowser[browser.name + parseInt(browser.version, 10)] = true\nbrowser.platform[browser.platform.name] = true\n\nmodule.exports = browser\n", "{EventEmitter} = require 'events'\nbrowser = require './browser.coffee'\n\nclass GIF extends EventEmitter\n\n  defaults =\n    workerScript: 'gif.worker.js'\n    workers: 2\n    repeat: 0 # repeat forever, -1 = repeat once\n    background: '#fff'\n    quality: 10 # pixel sample interval, lower is better\n    width: null # size derermined from first frame if possible\n    height: null\n    transparent: null\n    debug: false\n    dither: false # see GIFEncoder.js for dithering options\n\n  frameDefaults =\n    delay: 500 # ms\n    copy: false\n\n  constructor: (options) ->\n    @running = false\n\n    @options = {}\n    @frames = []\n\n    @freeWorkers = []\n    @activeWorkers = []\n\n    @setOptions options\n    for key, value of defaults\n      @options[key] ?= value\n\n  setOption: (key, value) ->\n    @options[key] = value\n    if @_canvas? and key in ['width', 'height']\n      @_canvas[key] = value\n\n  setOptions: (options) ->\n    @setOption key, value for own key, value of options\n\n  addFrame: (image, options={}) ->\n    frame = {}\n    frame.transparent = @options.transparent\n    for key of frameDefaults\n      frame[key] = options[key] or frameDefaults[key]\n\n    # use the images width and height for options unless already set\n    @setOption 'width', image.width unless @options.width?\n    @setOption 'height', image.height unless @options.height?\n\n    if ImageData? and image instanceof ImageData\n       frame.data = image.data\n    else if (CanvasRenderingContext2D? and image instanceof CanvasRenderingContext2D) or (WebGLRenderingContext? and image instanceof WebGLRenderingContext)\n      if options.copy\n        frame.data = @getContextData image\n      else\n        frame.context = image\n    else if image.childNodes?\n      if options.copy\n        frame.data = @getImageData image\n      else\n        frame.image = image\n    else\n      throw new Error 'Invalid image'\n\n    @frames.push frame\n\n  render: ->\n    throw new Error 'Already running' if @running\n\n    if not @options.width? or not @options.height?\n      throw new Error 'Width and height must be set prior to rendering'\n\n    @running = true\n    @nextFrame = 0\n    @finishedFrames = 0\n\n    @imageParts = (null for i in [0...@frames.length])\n    numWorkers = @spawnWorkers()\n    # we need to wait for the palette\n    if @options.globalPalette == true\n      @renderNextFrame()\n    else\n      @renderNextFrame() for i in [0...numWorkers]\n\n    @emit 'start'\n    @emit 'progress', 0\n\n  abort: ->\n    loop\n      worker = @activeWorkers.shift()\n      break unless worker?\n      @log 'killing active worker'\n      worker.terminate()\n    @running = false\n    @emit 'abort'\n\n  # private\n\n  spawnWorkers: ->\n    numWorkers = Math.min(@options.workers, @frames.length)\n    [@freeWorkers.length...numWorkers].forEach (i) =>\n      @log \"spawning worker #{ i }\"\n      worker = new Worker @options.workerScript\n      worker.onmessage = (event) =>\n        @activeWorkers.splice @activeWorkers.indexOf(worker), 1\n        @freeWorkers.push worker\n        @frameFinished event.data\n      @freeWorkers.push worker\n    return numWorkers\n\n  frameFinished: (frame) ->\n    @log \"frame #{ frame.index } finished - #{ @activeWorkers.length } active\"\n    @finishedFrames++\n    @emit 'progress', @finishedFrames / @frames.length\n    @imageParts[frame.index] = frame\n    # remember calculated palette, spawn the rest of the workers\n    if @options.globalPalette == true\n      @options.globalPalette = frame.globalPalette\n      @log 'global palette analyzed'\n      @renderNextFrame() for i in [1...@freeWorkers.length] if @frames.length > 2\n    if null in @imageParts\n      @renderNextFrame()\n    else\n      @finishRendering()\n\n  finishRendering: ->\n    len = 0\n    for frame in @imageParts\n      len += (frame.data.length - 1) * frame.pageSize + frame.cursor\n    len += frame.pageSize - frame.cursor\n    @log \"rendering finished - filesize #{ Math.round(len / 1000) }kb\"\n    data = new Uint8Array len\n    offset = 0\n    for frame in @imageParts\n      for page, i in frame.data\n        data.set page, offset\n        if i is frame.data.length - 1\n          offset += frame.cursor\n        else\n          offset += frame.pageSize\n\n    image = new Blob [data],\n      type: 'image/gif'\n\n    @emit 'finished', image, data\n\n  renderNextFrame: ->\n    throw new Error 'No free workers' if @freeWorkers.length is 0\n    return if @nextFrame >= @frames.length # no new frame to render\n\n    frame = @frames[@nextFrame++]\n    worker = @freeWorkers.shift()\n    task = @getTask frame\n\n    @log \"starting frame #{ task.index + 1 } of #{ @frames.length }\"\n    @activeWorkers.push worker\n    worker.postMessage task#, [task.data.buffer]\n\n  getContextData: (ctx) ->\n    return ctx.getImageData(0, 0, @options.width, @options.height).data\n\n  getImageData: (image) ->\n    if not @_canvas?\n      @_canvas = document.createElement 'canvas'\n      @_canvas.width = @options.width\n      @_canvas.height = @options.height\n\n    ctx = @_canvas.getContext '2d'\n    ctx.setFill = @options.background\n    ctx.fillRect 0, 0, @options.width, @options.height\n    ctx.drawImage image, 0, 0\n\n    return @getContextData ctx\n\n  getTask: (frame) ->\n    index = @frames.indexOf frame\n    task =\n      index: index\n      last: index is (@frames.length - 1)\n      delay: frame.delay\n      transparent: frame.transparent\n      width: @options.width\n      height: @options.height\n      quality: @options.quality\n      dither: @options.dither\n      globalPalette: @options.globalPalette\n      repeat: @options.repeat\n      canTransfer: (browser.name is 'chrome')\n\n    if frame.data?\n      task.data = frame.data\n    else if frame.context?\n      task.data = @getContextData frame.context\n    else if frame.image?\n      task.data = @getImageData frame.image\n    else\n      throw new Error 'Invalid frame'\n\n    return task\n\n  log: (args...) ->\n    return unless @options.debug\n    console.log args...\n\n\nmodule.exports = GIF\n", "'use strict';\nconst toBytes = s => [...s].map(c => c.charCodeAt(0));\nconst xpiZipFilename = toBytes('META-INF/mozilla.rsa');\nconst oxmlContentTypes = toBytes('[Content_Types].xml');\nconst oxmlRels = toBytes('_rels/.rels');\n\nfunction readUInt64LE(buf, offset = 0) {\n\tlet n = buf[offset];\n\tlet mul = 1;\n\tlet i = 0;\n\twhile (++i < 8) {\n\t\tmul *= 0x100;\n\t\tn += buf[offset + i] * mul;\n\t}\n\n\treturn n;\n}\n\nconst fileType = input => {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer || Buffer.isBuffer(input))) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buf = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\tif (!(buf && buf.length > 1)) {\n\t\treturn null;\n\t}\n\n\tconst check = (header, options) => {\n\t\toptions = Object.assign({\n\t\t\toffset: 0\n\t\t}, options);\n\n\t\tfor (let i = 0; i < header.length; i++) {\n\t\t\t// If a bitmask is set\n\t\t\tif (options.mask) {\n\t\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\t\tif (header[i] !== (options.mask[i] & buf[i + options.offset])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (header[i] !== buf[i + options.offset]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst checkString = (header, options) => check(toBytes(header), options);\n\n\tif (check([0xFF, 0xD8, 0xFF])) {\n\t\treturn {\n\t\t\text: 'jpg',\n\t\t\tmime: 'image/jpeg'\n\t\t};\n\t}\n\n\tif (check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'png',\n\t\t\tmime: 'image/png'\n\t\t};\n\t}\n\n\tif (check([0x47, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'gif',\n\t\t\tmime: 'image/gif'\n\t\t};\n\t}\n\n\tif (check([0x57, 0x45, 0x42, 0x50], {offset: 8})) {\n\t\treturn {\n\t\t\text: 'webp',\n\t\t\tmime: 'image/webp'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'flif',\n\t\t\tmime: 'image/flif'\n\t\t};\n\t}\n\n\t// Needs to be before `tif` check\n\tif (\n\t\t(check([0x49, 0x49, 0x2A, 0x0]) || check([0x4D, 0x4D, 0x0, 0x2A])) &&\n\t\tcheck([0x43, 0x52], {offset: 8})\n\t) {\n\t\treturn {\n\t\t\text: 'cr2',\n\t\t\tmime: 'image/x-canon-cr2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x49, 0x49, 0x2A, 0x0]) ||\n\t\tcheck([0x4D, 0x4D, 0x0, 0x2A])\n\t) {\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4D])) {\n\t\treturn {\n\t\t\text: 'bmp',\n\t\t\tmime: 'image/bmp'\n\t\t};\n\t}\n\n\tif (check([0x49, 0x49, 0xBC])) {\n\t\treturn {\n\t\t\text: 'jxr',\n\t\t\tmime: 'image/vnd.ms-photo'\n\t\t};\n\t}\n\n\tif (check([0x38, 0x42, 0x50, 0x53])) {\n\t\treturn {\n\t\t\text: 'psd',\n\t\t\tmime: 'image/vnd.adobe.photoshop'\n\t\t};\n\t}\n\n\t// Zip-based file formats\n\t// Need to be before the `zip` check\n\tif (check([0x50, 0x4B, 0x3, 0x4])) {\n\t\tif (\n\t\t\tcheck([0x6D, 0x69, 0x6D, 0x65, 0x74, 0x79, 0x70, 0x65, 0x61, 0x70, 0x70, 0x6C, 0x69, 0x63, 0x61, 0x74, 0x69, 0x6F, 0x6E, 0x2F, 0x65, 0x70, 0x75, 0x62, 0x2B, 0x7A, 0x69, 0x70], {offset: 30})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'epub',\n\t\t\t\tmime: 'application/epub+zip'\n\t\t\t};\n\t\t}\n\n\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\tif (check(xpiZipFilename, {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'xpi',\n\t\t\t\tmime: 'application/x-xpinstall'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.text', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odt',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.text'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.spreadsheet', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'ods',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.presentation', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odp',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation'\n\t\t\t};\n\t\t}\n\n\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t// We look for:\n\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t// - one entry indicating specific type of file.\n\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\tconst findNextZipHeaderIndex = (arr, startAt = 0) => arr.findIndex((el, i, arr) => i >= startAt && arr[i] === 0x50 && arr[i + 1] === 0x4B && arr[i + 2] === 0x3 && arr[i + 3] === 0x4);\n\n\t\tlet zipHeaderIndex = 0; // The first zip header was already found at index 0\n\t\tlet oxmlFound = false;\n\t\tlet type = null;\n\n\t\tdo {\n\t\t\tconst offset = zipHeaderIndex + 30;\n\n\t\t\tif (!oxmlFound) {\n\t\t\t\toxmlFound = (check(oxmlContentTypes, {offset}) || check(oxmlRels, {offset}));\n\t\t\t}\n\n\t\t\tif (!type) {\n\t\t\t\tif (checkString('word/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('ppt/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('xl/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (oxmlFound && type) {\n\t\t\t\treturn type;\n\t\t\t}\n\n\t\t\tzipHeaderIndex = findNextZipHeaderIndex(buf, offset);\n\t\t} while (zipHeaderIndex >= 0);\n\n\t\t// No more zip parts available in the buffer, but maybe we are almost certain about the type?\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x50, 0x4B]) &&\n\t\t(buf[2] === 0x3 || buf[2] === 0x5 || buf[2] === 0x7) &&\n\t\t(buf[3] === 0x4 || buf[3] === 0x6 || buf[3] === 0x8)\n\t) {\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\tif (check([0x75, 0x73, 0x74, 0x61, 0x72], {offset: 257})) {\n\t\treturn {\n\t\t\text: 'tar',\n\t\t\tmime: 'application/x-tar'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) &&\n\t\t(buf[6] === 0x0 || buf[6] === 0x1)\n\t) {\n\t\treturn {\n\t\t\text: 'rar',\n\t\t\tmime: 'application/x-rar-compressed'\n\t\t};\n\t}\n\n\tif (check([0x1F, 0x8B, 0x8])) {\n\t\treturn {\n\t\t\text: 'gz',\n\t\t\tmime: 'application/gzip'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x5A, 0x68])) {\n\t\treturn {\n\t\t\text: 'bz2',\n\t\t\tmime: 'application/x-bzip2'\n\t\t};\n\t}\n\n\tif (check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\treturn {\n\t\t\text: '7z',\n\t\t\tmime: 'application/x-7z-compressed'\n\t\t};\n\t}\n\n\tif (check([0x78, 0x01])) {\n\t\treturn {\n\t\t\text: 'dmg',\n\t\t\tmime: 'application/x-apple-diskimage'\n\t\t};\n\t}\n\n\tif (check([0x33, 0x67, 0x70, 0x35]) || // 3gp5\n\t\t(\n\t\t\tcheck([0x0, 0x0, 0x0]) && check([0x66, 0x74, 0x79, 0x70], {offset: 4}) &&\n\t\t\t\t(\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x31], {offset: 8}) || // MP41\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x32], {offset: 8}) || // MP42\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x6D], {offset: 8}) || // ISOM\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x32], {offset: 8}) || // ISO2\n\t\t\t\t\tcheck([0x6D, 0x6D, 0x70, 0x34], {offset: 8}) || // MMP4\n\t\t\t\t\tcheck([0x4D, 0x34, 0x56], {offset: 8}) || // M4V\n\t\t\t\t\tcheck([0x64, 0x61, 0x73, 0x68], {offset: 8}) // DASH\n\t\t\t\t)\n\t\t)) {\n\t\treturn {\n\t\t\text: 'mp4',\n\t\t\tmime: 'video/mp4'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x54, 0x68, 0x64])) {\n\t\treturn {\n\t\t\text: 'mid',\n\t\t\tmime: 'audio/midi'\n\t\t};\n\t}\n\n\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\tif (check([0x1A, 0x45, 0xDF, 0xA3])) {\n\t\tconst sliced = buf.subarray(4, 4 + 4096);\n\t\tconst idPos = sliced.findIndex((el, i, arr) => arr[i] === 0x42 && arr[i + 1] === 0x82);\n\n\t\tif (idPos !== -1) {\n\t\t\tconst docTypePos = idPos + 3;\n\t\t\tconst findDocType = type => [...type].every((c, i) => sliced[docTypePos + i] === c.charCodeAt(0));\n\n\t\t\tif (findDocType('matroska')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mkv',\n\t\t\t\t\tmime: 'video/x-matroska'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (findDocType('webm')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'webm',\n\t\t\t\t\tmime: 'video/webm'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tif (check([0x0, 0x0, 0x0, 0x14, 0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20]) ||\n\t\tcheck([0x66, 0x72, 0x65, 0x65], {offset: 4}) || // Type: `free`\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20], {offset: 4}) ||\n\t\tcheck([0x6D, 0x64, 0x61, 0x74], {offset: 4}) || // MJPEG\n\t\tcheck([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) || // Type: `moov`\n\t\tcheck([0x77, 0x69, 0x64, 0x65], {offset: 4})) {\n\t\treturn {\n\t\t\text: 'mov',\n\t\t\tmime: 'video/quicktime'\n\t\t};\n\t}\n\n\t// RIFF file format which might be AVI, WAV, QCP, etc\n\tif (check([0x52, 0x49, 0x46, 0x46])) {\n\t\tif (check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'avi',\n\t\t\t\tmime: 'video/vnd.avi'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'wav',\n\t\t\t\tmime: 'audio/vnd.wave'\n\t\t\t};\n\t\t}\n\n\t\t// QLCM, QCP file\n\t\tif (check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'qcp',\n\t\t\t\tmime: 'audio/qcelp'\n\t\t\t};\n\t\t}\n\t}\n\n\t// ASF_Header_Object first 80 bytes\n\tif (check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t// Search for header should be in first 1KB of file.\n\n\t\tlet offset = 30;\n\t\tdo {\n\t\t\tconst objectSize = readUInt64LE(buf, offset + 16);\n\t\t\tif (check([0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65], {offset})) {\n\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\tif (check([0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found audio:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wma',\n\t\t\t\t\t\tmime: 'audio/x-ms-wma'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (check([0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found video:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wmv',\n\t\t\t\t\t\tmime: 'video/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\toffset += objectSize;\n\t\t} while (offset + 24 <= buf.length);\n\n\t\t// Default to ASF generic extension\n\t\treturn {\n\t\t\text: 'asf',\n\t\t\tmime: 'application/vnd.ms-asf'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x0, 0x0, 0x1, 0xBA]) ||\n\t\tcheck([0x0, 0x0, 0x1, 0xB3])\n\t) {\n\t\treturn {\n\t\t\text: 'mpg',\n\t\t\tmime: 'video/mpeg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x74, 0x79, 0x70, 0x33, 0x67], {offset: 4})) {\n\t\treturn {\n\t\t\text: '3gp',\n\t\t\tmime: 'video/3gpp'\n\t\t};\n\t}\n\n\t// Check for MPEG header at different starting offsets\n\tfor (let start = 0; start < 2 && start < (buf.length - 16); start++) {\n\t\tif (\n\t\t\tcheck([0x49, 0x44, 0x33], {offset: start}) || // ID3 header\n\t\t\tcheck([0xFF, 0xE2], {offset: start, mask: [0xFF, 0xE2]}) // MPEG 1 or 2 Layer 3 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xE4], {offset: start, mask: [0xFF, 0xE4]}) // MPEG 1 or 2 Layer 2 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF8], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 2 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF0], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 4 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp4',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x4D, 0x34, 0x41], {offset: 4})\n\t) {\n\t\treturn { // MPEG-4 layer 3 (audio)\n\t\t\text: 'm4a',\n\t\t\tmime: 'audio/mp4' // RFC 4337\n\t\t};\n\t}\n\n\t// Needs to be before `ogg` check\n\tif (check([0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64], {offset: 28})) {\n\t\treturn {\n\t\t\text: 'opus',\n\t\t\tmime: 'audio/opus'\n\t\t};\n\t}\n\n\t// If 'OggS' in first  bytes, then OGG container\n\tif (check([0x4F, 0x67, 0x67, 0x53])) {\n\t\t// This is a OGG container\n\n\t\t// If ' theora' in header.\n\t\tif (check([0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogv',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01video' in header.\n\t\tif (check([0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogm',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\tif (check([0x7F, 0x46, 0x4C, 0x41, 0x43], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'oga',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\tif (check([0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'spx',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01vorbis' in header\n\t\tif (check([0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogg',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\treturn {\n\t\t\text: 'ogx',\n\t\t\tmime: 'application/ogg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x4C, 0x61, 0x43])) {\n\t\treturn {\n\t\t\text: 'flac',\n\t\t\tmime: 'audio/x-flac'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x41, 0x43, 0x20])) { // 'MAC '\n\t\treturn {\n\t\t\text: 'ape',\n\t\t\tmime: 'audio/ape'\n\t\t};\n\t}\n\n\tif (check([0x77, 0x76, 0x70, 0x6B])) { // 'wvpk'\n\t\treturn {\n\t\t\text: 'wv',\n\t\t\tmime: 'audio/wavpack'\n\t\t};\n\t}\n\n\tif (check([0x23, 0x21, 0x41, 0x4D, 0x52, 0x0A])) {\n\t\treturn {\n\t\t\text: 'amr',\n\t\t\tmime: 'audio/amr'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x50, 0x44, 0x46])) {\n\t\treturn {\n\t\t\text: 'pdf',\n\t\t\tmime: 'application/pdf'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x5A])) {\n\t\treturn {\n\t\t\text: 'exe',\n\t\t\tmime: 'application/x-msdownload'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x43 || buf[0] === 0x46) &&\n\t\tcheck([0x57, 0x53], {offset: 1})\n\t) {\n\t\treturn {\n\t\t\text: 'swf',\n\t\t\tmime: 'application/x-shockwave-flash'\n\t\t};\n\t}\n\n\tif (check([0x7B, 0x5C, 0x72, 0x74, 0x66])) {\n\t\treturn {\n\t\t\text: 'rtf',\n\t\t\tmime: 'application/rtf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x61, 0x73, 0x6D])) {\n\t\treturn {\n\t\t\text: 'wasm',\n\t\t\tmime: 'application/wasm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x46]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff',\n\t\t\tmime: 'font/woff'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x32]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff2',\n\t\t\tmime: 'font/woff2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4C, 0x50], {offset: 34}) &&\n\t\t(\n\t\t\tcheck([0x00, 0x00, 0x01], {offset: 8}) ||\n\t\t\tcheck([0x01, 0x00, 0x02], {offset: 8}) ||\n\t\t\tcheck([0x02, 0x00, 0x02], {offset: 8})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'eot',\n\t\t\tmime: 'application/vnd.ms-fontobject'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'ttf',\n\t\t\tmime: 'font/ttf'\n\t\t};\n\t}\n\n\tif (check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\treturn {\n\t\t\text: 'otf',\n\t\t\tmime: 'font/otf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x01, 0x00])) {\n\t\treturn {\n\t\t\text: 'ico',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x02, 0x00])) {\n\t\treturn {\n\t\t\text: 'cur',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x56, 0x01])) {\n\t\treturn {\n\t\t\text: 'flv',\n\t\t\tmime: 'video/x-flv'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x21])) {\n\t\treturn {\n\t\t\text: 'ps',\n\t\t\tmime: 'application/postscript'\n\t\t};\n\t}\n\n\tif (check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\treturn {\n\t\t\text: 'xz',\n\t\t\tmime: 'application/x-xz'\n\t\t};\n\t}\n\n\tif (check([0x53, 0x51, 0x4C, 0x69])) {\n\t\treturn {\n\t\t\text: 'sqlite',\n\t\t\tmime: 'application/x-sqlite3'\n\t\t};\n\t}\n\n\tif (check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\treturn {\n\t\t\text: 'nes',\n\t\t\tmime: 'application/x-nintendo-nes-rom'\n\t\t};\n\t}\n\n\tif (check([0x43, 0x72, 0x32, 0x34])) {\n\t\treturn {\n\t\t\text: 'crx',\n\t\t\tmime: 'application/x-google-chrome-extension'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4D, 0x53, 0x43, 0x46]) ||\n\t\tcheck([0x49, 0x53, 0x63, 0x28])\n\t) {\n\t\treturn {\n\t\t\text: 'cab',\n\t\t\tmime: 'application/vnd.ms-cab-compressed'\n\t\t};\n\t}\n\n\t// Needs to be before `ar` check\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E, 0x0A, 0x64, 0x65, 0x62, 0x69, 0x61, 0x6E, 0x2D, 0x62, 0x69, 0x6E, 0x61, 0x72, 0x79])) {\n\t\treturn {\n\t\t\text: 'deb',\n\t\t\tmime: 'application/x-deb'\n\t\t};\n\t}\n\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E])) {\n\t\treturn {\n\t\t\text: 'ar',\n\t\t\tmime: 'application/x-unix-archive'\n\t\t};\n\t}\n\n\tif (check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\treturn {\n\t\t\text: 'rpm',\n\t\t\tmime: 'application/x-rpm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x1F, 0xA0]) ||\n\t\tcheck([0x1F, 0x9D])\n\t) {\n\t\treturn {\n\t\t\text: 'Z',\n\t\t\tmime: 'application/x-compress'\n\t\t};\n\t}\n\n\tif (check([0x4C, 0x5A, 0x49, 0x50])) {\n\t\treturn {\n\t\t\text: 'lz',\n\t\t\tmime: 'application/x-lzip'\n\t\t};\n\t}\n\n\tif (check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\treturn {\n\t\t\text: 'msi',\n\t\t\tmime: 'application/x-msi'\n\t\t};\n\t}\n\n\tif (check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\treturn {\n\t\t\text: 'mxf',\n\t\t\tmime: 'application/mxf'\n\t\t};\n\t}\n\n\tif (check([0x47], {offset: 4}) && (check([0x47], {offset: 192}) || check([0x47], {offset: 196}))) {\n\t\treturn {\n\t\t\text: 'mts',\n\t\t\tmime: 'video/mp2t'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4C, 0x45, 0x4E, 0x44, 0x45, 0x52])) {\n\t\treturn {\n\t\t\text: 'blend',\n\t\t\tmime: 'application/x-blender'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x50, 0x47, 0xFB])) {\n\t\treturn {\n\t\t\text: 'bpg',\n\t\t\tmime: 'image/bpg'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t// JPEG-2000 family\n\n\t\tif (check([0x6A, 0x70, 0x32, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jp2',\n\t\t\t\tmime: 'image/jp2'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x78, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpx',\n\t\t\t\tmime: 'image/jpx'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x6D, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpm',\n\t\t\t\tmime: 'image/jpm'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x6A, 0x70, 0x32], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'mj2',\n\t\t\t\tmime: 'image/mj2'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0x46, 0x4F, 0x52, 0x4D])) {\n\t\treturn {\n\t\t\text: 'aif',\n\t\t\tmime: 'audio/aiff'\n\t\t};\n\t}\n\n\tif (checkString('<?xml ')) {\n\t\treturn {\n\t\t\text: 'xml',\n\t\t\tmime: 'application/xml'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\treturn {\n\t\t\text: 'mobi',\n\t\t\tmime: 'application/x-mobipocket-ebook'\n\t\t};\n\t}\n\n\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\tif (check([0x66, 0x74, 0x79, 0x70], {offset: 4})) {\n\t\tif (check([0x6D, 0x69, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x73, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif-sequence'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x69, 0x63], {offset: 8}) || check([0x68, 0x65, 0x69, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x76, 0x63], {offset: 8}) || check([0x68, 0x65, 0x76, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic-sequence'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'ktx',\n\t\t\tmime: 'image/ktx'\n\t\t};\n\t}\n\n\tif (check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\treturn {\n\t\t\text: 'dcm',\n\t\t\tmime: 'application/dicom'\n\t\t};\n\t}\n\n\t// Musepack, SV7\n\tif (check([0x4D, 0x50, 0x2B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\t// Musepack, SV8\n\tif (check([0x4D, 0x50, 0x43, 0x4B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x45, 0x47, 0x49, 0x4E, 0x3A])) {\n\t\treturn {\n\t\t\text: 'ics',\n\t\t\tmime: 'text/calendar'\n\t\t};\n\t}\n\n\tif (check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'glb',\n\t\t\tmime: 'model/gltf-binary'\n\t\t};\n\t}\n\n\tif (check([0xD4, 0xC3, 0xB2, 0xA1]) || check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\treturn {\n\t\t\text: 'pcap',\n\t\t\tmime: 'application/vnd.tcpdump.pcap'\n\t\t};\n\t}\n\n\treturn null;\n};\n\nmodule.exports = fileType;\n// TODO: Remove this for the next major release\nmodule.exports.default = fileType;\n\nObject.defineProperty(fileType, 'minimumBytes', {value: 4100});\n\nmodule.exports.stream = readableStream => new Promise((resolve, reject) => {\n\t// Using `eval` to work around issues when bundling with Webpack\n\tconst stream = eval('require')('stream'); // eslint-disable-line no-eval\n\n\treadableStream.once('readable', () => {\n\t\tconst pass = new stream.PassThrough();\n\t\tconst chunk = readableStream.read(module.exports.minimumBytes) || readableStream.read();\n\t\ttry {\n\t\t\tpass.fileType = fileType(chunk);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\n\t\treadableStream.unshift(chunk);\n\n\t\tif (stream.pipeline) {\n\t\t\tresolve(stream.pipeline(readableStream, pass, () => {}));\n\t\t} else {\n\t\t\tresolve(readableStream.pipe(pass));\n\t\t}\n\t});\n});\n", "'use strict';\nconst fileType = require('file-type');\n\nconst imageExts = new Set([\n\t'jpg',\n\t'png',\n\t'gif',\n\t'webp',\n\t'flif',\n\t'cr2',\n\t'tif',\n\t'bmp',\n\t'jxr',\n\t'psd',\n\t'ico',\n\t'bpg',\n\t'jp2',\n\t'jpm',\n\t'jpx',\n\t'heic',\n\t'cur',\n\t'dcm'\n]);\n\nconst imageType = input => {\n\tconst ret = fileType(input);\n\treturn imageExts.has(ret && ret.ext) ? ret : null;\n};\n\nmodule.exports = imageType;\n// TODO: Remove this for the next major release\nmodule.exports.default = imageType;\n\nObject.defineProperty(imageType, 'minimumBytes', {value: fileType.minimumBytes});\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { parseGIF, decompressFrames } from 'gifuct-js';\r\nvar Decoder = /** @class */ (function () {\r\n    function Decoder(url) {\r\n        Object.defineProperty(this, \"url\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: url\r\n        });\r\n        Object.defineProperty(this, \"parseGIF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Validates and fixes frames that have lost pixels.\r\n         * @param gif\r\n         */\r\n        Object.defineProperty(this, \"validateAndFixFrame\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: function (gif) {\r\n                var currentGce = null;\r\n                for (var _i = 0, _a = gif.frames; _i < _a.length; _i++) {\r\n                    var frame = _a[_i];\r\n                    currentGce = frame.gce ? frame.gce : currentGce;\r\n                    // fix loosing graphic control extension for same frames\r\n                    if (\"image\" in frame && !(\"gce\" in frame)) {\r\n                        frame.gce = currentGce;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(Decoder.prototype, \"decode\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var imageData;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.fetchImageData(this.url)];\r\n                        case 1:\r\n                            imageData = _a.sent();\r\n                            this.parseGIF = parseGIF(imageData);\r\n                            this.validateAndFixFrame(this.parseGIF);\r\n                            return [2 /*return*/, this.parseGIF];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Decoder.prototype, \"decompressFrames\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var parsedFrames, frames;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!!this.parseGIF) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.decode()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [4 /*yield*/, decompressFrames(this.parseGIF, true)];\r\n                        case 3:\r\n                            parsedFrames = _a.sent();\r\n                            frames = this.generate2ImageData(parsedFrames);\r\n                            // const frames = this.generate2ImageDataWithPixelsModified(\r\n                            //   this.handlePixels(parsedFrames),\r\n                            //   parsedFrames\r\n                            // )\r\n                            return [2 /*return*/, {\r\n                                    frames: frames,\r\n                                    delays: parsedFrames.map(function (item) { return item.delay; }),\r\n                                    parsedFrames: parsedFrames,\r\n                                }];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Generates ImageData objects from parsed frames.\r\n     * @param frames\r\n     */\r\n    Object.defineProperty(Decoder.prototype, \"generate2ImageData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parsedFrames) {\r\n            return parsedFrames\r\n                .map(function (item) {\r\n                var frameDims = item === null || item === void 0 ? void 0 : item.dims;\r\n                var image = new ImageData(frameDims.width, frameDims.height);\r\n                image.data.set(item.patch);\r\n                return image;\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Generates ImageData objects from frames with modified pixels.\r\n     * @param frames\r\n     */\r\n    Object.defineProperty(Decoder.prototype, \"generate2ImageDataWithPixelsModified\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (frames, parsedFrames) {\r\n            var _this = this;\r\n            return frames\r\n                .map(function (item, index) {\r\n                var _a;\r\n                var frameDims = (_a = parsedFrames[index]) === null || _a === void 0 ? void 0 : _a.dims;\r\n                var lsd = _this.parseGIF.lsd;\r\n                var image = new ImageData(lsd.width, lsd.height);\r\n                image.data.set(new Uint8ClampedArray(item));\r\n                return image;\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @param {string} url\r\n     * @returns\r\n     */\r\n    Object.defineProperty(Decoder.prototype, \"fetchImageData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (url) {\r\n            return new Promise(function (resolve, reject) {\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open('GET', url, true);\r\n                xhr.responseType = 'arraybuffer';\r\n                xhr.onload = function (e) {\r\n                    if (!(e.target instanceof XMLHttpRequest))\r\n                        return;\r\n                    if (e.target.status !== 200 && e.target.status !== 304) {\r\n                        reject('Status Error: ' + e.target.status);\r\n                        return;\r\n                    }\r\n                    var data = e.target.response;\r\n                    if (data.toString().indexOf('ArrayBuffer') > 0) {\r\n                        data = new Uint8Array(data);\r\n                    }\r\n                    resolve(data);\r\n                };\r\n                xhr.onerror = function (e) {\r\n                    reject(e);\r\n                };\r\n                xhr.send();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Decoder.prototype, \"handlePixels\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (frames) {\r\n            var options = this.parseGIF.lsd;\r\n            var size = options.width * options.height * 4;\r\n            var readyFrames = [];\r\n            for (var i = 0; i < frames.length; ++i) {\r\n                var frame = frames[i];\r\n                var typedArray = i === 0 || frames[i - 1].disposalType === 2\r\n                    ? new Uint8ClampedArray(size)\r\n                    : readyFrames[i - 1].slice();\r\n                readyFrames.push(this.putPixels(typedArray, frame, options));\r\n            }\r\n            return readyFrames;\r\n        }\r\n    });\r\n    Object.defineProperty(Decoder.prototype, \"putPixels\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (typedArray, frame, gifSize) {\r\n            if (!frame.dims)\r\n                return typedArray;\r\n            var _a = frame.dims, width = _a.width, height = _a.height, dy = _a.top, dx = _a.left;\r\n            var offset = dy * gifSize.width + dx;\r\n            for (var y = 0; y < height; y++) {\r\n                for (var x = 0; x < width; x++) {\r\n                    var pPos = y * width + x;\r\n                    var colorIndex = frame.pixels[pPos];\r\n                    var taPos = offset + y * gifSize.width + x;\r\n                    var color = frame.colorTable[colorIndex] || [0, 0, 0];\r\n                    if (colorIndex === frame.transparentIndex) {\r\n                        typedArray[taPos * 4] = 0;\r\n                        typedArray[taPos * 4 + 1] = 0;\r\n                        typedArray[taPos * 4 + 2] = 0;\r\n                        typedArray[taPos * 4 + 3] = 0;\r\n                    }\r\n                    else {\r\n                        typedArray[taPos * 4] = color[0];\r\n                        typedArray[taPos * 4 + 1] = color[1];\r\n                        typedArray[taPos * 4 + 2] = color[2];\r\n                        typedArray[taPos * 4 + 3] = 255;\r\n                    }\r\n                }\r\n            }\r\n            return typedArray;\r\n        }\r\n    });\r\n    return Decoder;\r\n}());\r\nexport { Decoder };\r\n", "// gif.worker.js 0.2.0 - https://github.com/jnordberg/gif.js\r\nexport default \"(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\\\"function\\\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\\\"Cannot find module '\\\"+o+\\\"'\\\");throw f.code=\\\"MODULE_NOT_FOUND\\\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\\\"function\\\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var NeuQuant=require(\\\"./TypedNeuQuant.js\\\");var LZWEncoder=require(\\\"./LZWEncoder.js\\\");function ByteArray(){this.page=-1;this.pages=[];this.newPage()}ByteArray.pageSize=4096;ByteArray.charMap={};for(var i=0;i<256;i++)ByteArray.charMap[i]=String.fromCharCode(i);ByteArray.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(ByteArray.pageSize);this.cursor=0};ByteArray.prototype.getData=function(){var rv=\\\"\\\";for(var p=0;p<this.pages.length;p++){for(var i=0;i<ByteArray.pageSize;i++){rv+=ByteArray.charMap[this.pages[p][i]]}}return rv};ByteArray.prototype.writeByte=function(val){if(this.cursor>=ByteArray.pageSize)this.newPage();this.pages[this.page][this.cursor++]=val};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++)this.writeByte(string.charCodeAt(i))};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++)this.writeByte(array[i])};function GIFEncoder(width,height){this.width=~~width;this.height=~~height;this.transparent=null;this.transIndex=0;this.repeat=-1;this.delay=0;this.image=null;this.pixels=null;this.indexedPixels=null;this.colorDepth=null;this.colorTab=null;this.neuQuant=null;this.usedEntry=new Array;this.palSize=7;this.dispose=-1;this.firstFrame=true;this.sample=10;this.dither=false;this.globalPalette=false;this.out=new ByteArray}GIFEncoder.prototype.setDelay=function(milliseconds){this.delay=Math.round(milliseconds/10)};GIFEncoder.prototype.setFrameRate=function(fps){this.delay=Math.round(100/fps)};GIFEncoder.prototype.setDispose=function(disposalCode){if(disposalCode>=0)this.dispose=disposalCode};GIFEncoder.prototype.setRepeat=function(repeat){this.repeat=repeat};GIFEncoder.prototype.setTransparent=function(color){this.transparent=color};GIFEncoder.prototype.addFrame=function(imageData){this.image=imageData;this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null;this.getImagePixels();this.analyzePixels();if(this.globalPalette===true)this.globalPalette=this.colorTab;if(this.firstFrame){this.writeLSD();this.writePalette();if(this.repeat>=0){this.writeNetscapeExt()}}this.writeGraphicCtrlExt();this.writeImageDesc();if(!this.firstFrame&&!this.globalPalette)this.writePalette();this.writePixels();this.firstFrame=false};GIFEncoder.prototype.finish=function(){this.out.writeByte(59)};GIFEncoder.prototype.setQuality=function(quality){if(quality<1)quality=1;this.sample=quality};GIFEncoder.prototype.setDither=function(dither){if(dither===true)dither=\\\"FloydSteinberg\\\";this.dither=dither};GIFEncoder.prototype.setGlobalPalette=function(palette){this.globalPalette=palette};GIFEncoder.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};GIFEncoder.prototype.writeHeader=function(){this.out.writeUTFBytes(\\\"GIF89a\\\")};GIFEncoder.prototype.analyzePixels=function(){if(!this.colorTab){this.neuQuant=new NeuQuant(this.pixels,this.sample);this.neuQuant.buildColormap();this.colorTab=this.neuQuant.getColormap()}if(this.dither){this.ditherPixels(this.dither.replace(\\\"-serpentine\\\",\\\"\\\"),this.dither.match(/-serpentine/)!==null)}else{this.indexPixels()}this.pixels=null;this.colorDepth=8;this.palSize=7;if(this.transparent!==null){this.transIndex=this.findClosest(this.transparent,true)}};GIFEncoder.prototype.indexPixels=function(imgq){var nPix=this.pixels.length/3;this.indexedPixels=new Uint8Array(nPix);var k=0;for(var j=0;j<nPix;j++){var index=this.findClosestRGB(this.pixels[k++]&255,this.pixels[k++]&255,this.pixels[k++]&255);this.usedEntry[index]=true;this.indexedPixels[j]=index}};GIFEncoder.prototype.ditherPixels=function(kernel,serpentine){var kernels={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!kernel||!kernels[kernel]){throw\\\"Unknown dithering kernel: \\\"+kernel}var ds=kernels[kernel];var index=0,height=this.height,width=this.width,data=this.pixels;var direction=serpentine?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var y=0;y<height;y++){if(serpentine)direction=direction*-1;for(var x=direction==1?0:width-1,xend=direction==1?width:0;x!==xend;x+=direction){index=y*width+x;var idx=index*3;var r1=data[idx];var g1=data[idx+1];var b1=data[idx+2];idx=this.findClosestRGB(r1,g1,b1);this.usedEntry[idx]=true;this.indexedPixels[index]=idx;idx*=3;var r2=this.colorTab[idx];var g2=this.colorTab[idx+1];var b2=this.colorTab[idx+2];var er=r1-r2;var eg=g1-g2;var eb=b1-b2;for(var i=direction==1?0:ds.length-1,end=direction==1?ds.length:0;i!==end;i+=direction){var x1=ds[i][1];var y1=ds[i][2];if(x1+x>=0&&x1+x<width&&y1+y>=0&&y1+y<height){var d=ds[i][0];idx=index+x1+y1*width;idx*=3;data[idx]=Math.max(0,Math.min(255,data[idx]+er*d));data[idx+1]=Math.max(0,Math.min(255,data[idx+1]+eg*d));data[idx+2]=Math.max(0,Math.min(255,data[idx+2]+eb*d))}}}}};GIFEncoder.prototype.findClosest=function(c,used){return this.findClosestRGB((c&16711680)>>16,(c&65280)>>8,c&255,used)};GIFEncoder.prototype.findClosestRGB=function(r,g,b,used){if(this.colorTab===null)return-1;if(this.neuQuant&&!used){return this.neuQuant.lookupRGB(r,g,b)}var c=b|g<<8|r<<16;var minpos=0;var dmin=256*256*256;var len=this.colorTab.length;for(var i=0,index=0;i<len;index++){var dr=r-(this.colorTab[i++]&255);var dg=g-(this.colorTab[i++]&255);var db=b-(this.colorTab[i++]&255);var d=dr*dr+dg*dg+db*db;if((!used||this.usedEntry[index])&&d<dmin){dmin=d;minpos=index}}return minpos};GIFEncoder.prototype.getImagePixels=function(){var w=this.width;var h=this.height;this.pixels=new Uint8Array(w*h*3);var data=this.image;var srcPos=0;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];srcPos++}}};GIFEncoder.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33);this.out.writeByte(249);this.out.writeByte(4);var transp,disp;if(this.transparent===null){transp=0;disp=0}else{transp=1;disp=2}if(this.dispose>=0){disp=dispose&7}disp<<=2;this.out.writeByte(0|disp|0|transp);this.writeShort(this.delay);this.out.writeByte(this.transIndex);this.out.writeByte(0)};GIFEncoder.prototype.writeImageDesc=function(){this.out.writeByte(44);this.writeShort(0);this.writeShort(0);this.writeShort(this.width);this.writeShort(this.height);if(this.firstFrame||this.globalPalette){this.out.writeByte(0)}else{this.out.writeByte(128|0|0|0|this.palSize)}};GIFEncoder.prototype.writeLSD=function(){this.writeShort(this.width);this.writeShort(this.height);this.out.writeByte(128|112|0|this.palSize);this.out.writeByte(0);this.out.writeByte(0)};GIFEncoder.prototype.writeNetscapeExt=function(){this.out.writeByte(33);this.out.writeByte(255);this.out.writeByte(11);this.out.writeUTFBytes(\\\"NETSCAPE2.0\\\");this.out.writeByte(3);this.out.writeByte(1);this.writeShort(this.repeat);this.out.writeByte(0)};GIFEncoder.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var n=3*256-this.colorTab.length;for(var i=0;i<n;i++)this.out.writeByte(0)};GIFEncoder.prototype.writeShort=function(pValue){this.out.writeByte(pValue&255);this.out.writeByte(pValue>>8&255)};GIFEncoder.prototype.writePixels=function(){var enc=new LZWEncoder(this.width,this.height,this.indexedPixels,this.colorDepth);enc.encode(this.out)};GIFEncoder.prototype.stream=function(){return this.out};module.exports=GIFEncoder},{\\\"./LZWEncoder.js\\\":2,\\\"./TypedNeuQuant.js\\\":3}],2:[function(require,module,exports){var EOF=-1;var BITS=12;var HSIZE=5003;var masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function LZWEncoder(width,height,pixels,colorDepth){var initCodeSize=Math.max(2,colorDepth);var accum=new Uint8Array(256);var htab=new Int32Array(HSIZE);var codetab=new Int32Array(HSIZE);var cur_accum,cur_bits=0;var a_count;var free_ent=0;var maxcode;var clear_flg=false;var g_init_bits,ClearCode,EOFCode;function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs)}function cl_block(outs){cl_hash(HSIZE);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs)}function cl_hash(hsize){for(var i=0;i<hsize;++i)htab[i]=-1}function compress(init_bits,outs){var fcode,c,i,ent,disp,hsize_reg,hshift;g_init_bits=init_bits;clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;ent=nextPixel();hshift=0;for(fcode=HSIZE;fcode<65536;fcode*=2)++hshift;hshift=8-hshift;hsize_reg=HSIZE;cl_hash(hsize_reg);output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<BITS)+ent;i=c<<hshift^ent;if(htab[i]===fcode){ent=codetab[i];continue}else if(htab[i]>=0){disp=hsize_reg-i;if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]===fcode){ent=codetab[i];continue outer_loop}}while(htab[i]>=0)}output(ent,outs);ent=c;if(free_ent<1<<BITS){codetab[i]=free_ent++;htab[i]=fcode}else{cl_block(outs)}}output(ent,outs);output(EOFCode,outs)}function encode(outs){outs.writeByte(initCodeSize);remaining=width*height;curPixel=0;compress(initCodeSize+1,outs);outs.writeByte(0)}function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0}}function MAXCODE(n_bits){return(1<<n_bits)-1}function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixels[curPixel++];return pix&255}function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false}else{++n_bits;if(n_bits==BITS)maxcode=1<<BITS;else maxcode=MAXCODE(n_bits)}}if(code==EOFCode){while(cur_bits>0){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}flush_char(outs)}}this.encode=encode}module.exports=LZWEncoder},{}],3:[function(require,module,exports){var ncycles=100;var netsize=256;var maxnetpos=netsize-1;var netbiasshift=4;var intbiasshift=16;var intbias=1<<intbiasshift;var gammashift=10;var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;var betagamma=intbias<<gammashift-betashift;var initrad=netsize>>3;var radiusbiasshift=6;var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;var radiusdec=30;var alphabiasshift=10;var initalpha=1<<alphabiasshift;var alphadec;var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;function NeuQuant(pixels,samplefac){var network;var netindex;var bias;var freq;var radpower;function init(){network=[];netindex=new Int32Array(256);bias=new Int32Array(netsize);freq=new Int32Array(netsize);radpower=new Int32Array(netsize>>3);var i,v;for(i=0;i<netsize;i++){v=(i<<netbiasshift+8)/netsize;network[i]=new Float64Array([v,v,v,0]);freq[i]=intbias/netsize;bias[i]=0}}function unbiasnet(){for(var i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i}}function altersingle(alpha,i,b,g,r){network[i][0]-=alpha*(network[i][0]-b)/initalpha;network[i][1]-=alpha*(network[i][1]-g)/initalpha;network[i][2]-=alpha*(network[i][2]-r)/initalpha}function alterneigh(radius,i,b,g,r){var lo=Math.abs(i-radius);var hi=Math.min(i+radius,netsize);var j=i+1;var k=i-1;var m=1;var p,a;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}if(k>lo){p=network[k--];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}}}function contest(b,g,r){var bestd=~(1<<31);var bestbiasd=bestd;var bestpos=-1;var bestbiaspos=bestpos;var i,n,dist,biasdist,betafreq;for(i=0;i<netsize;i++){n=network[i];dist=Math.abs(n[0]-b)+Math.abs(n[1]-g)+Math.abs(n[2]-r);if(dist<bestd){bestd=dist;bestpos=i}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos}function inxbuild(){var i,j,p,q,smallpos,smallval,previouscol=0,startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){smallpos=j;smallval=q[1]}}q=network[smallpos];if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j}if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++)netindex[j]=i;previouscol=smallval;startpos=i}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++)netindex[j]=maxnetpos}function inxsearch(b,g,r){var a,p,dist;var bestd=1e3;var best=-1;var i=netindex[g];var j=i-1;while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;if(dist>=bestd)i=netsize;else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}if(j>=0){p=network[j];dist=g-p[1];if(dist>=bestd)j=-1;else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}}return best}function learn(){var i;var lengthcount=pixels.length;var alphadec=30+(samplefac-1)/3;var samplepixels=lengthcount/(3*samplefac);var delta=~~(samplepixels/ncycles);var alpha=initalpha;var radius=initradius;var rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));var step;if(lengthcount<minpicturebytes){samplefac=1;step=3}else if(lengthcount%prime1!==0){step=3*prime1}else if(lengthcount%prime2!==0){step=3*prime2}else if(lengthcount%prime3!==0){step=3*prime3}else{step=3*prime4}var b,g,r,j;var pix=0;i=0;while(i<samplepixels){b=(pixels[pix]&255)<<netbiasshift;g=(pixels[pix+1]&255)<<netbiasshift;r=(pixels[pix+2]&255)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);pix+=step;if(pix>=lengthcount)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}}}function buildColormap(){init();learn();unbiasnet();inxbuild()}this.buildColormap=buildColormap;function getColormap(){var map=[];var index=[];for(var i=0;i<netsize;i++)index[network[i][3]]=i;var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2]}return map}this.getColormap=getColormap;this.lookupRGB=inxsearch}module.exports=NeuQuant},{}],4:[function(require,module,exports){var GIFEncoder,renderFrame;GIFEncoder=require(\\\"./GIFEncoder.js\\\");renderFrame=function(frame){var encoder,page,stream,transfer;encoder=new GIFEncoder(frame.width,frame.height);if(frame.index===0){encoder.writeHeader()}else{encoder.firstFrame=false}encoder.setTransparent(frame.transparent);encoder.setRepeat(frame.repeat);encoder.setDelay(frame.delay);encoder.setQuality(frame.quality);encoder.setDither(frame.dither);encoder.setGlobalPalette(frame.globalPalette);encoder.addFrame(frame.data);if(frame.last){encoder.finish()}if(frame.globalPalette===true){frame.globalPalette=encoder.getGlobalPalette()}stream=encoder.stream();frame.data=stream.pages;frame.cursor=stream.cursor;frame.pageSize=stream.constructor.pageSize;if(frame.canTransfer){transfer=function(){var i,len,ref,results;ref=frame.data;results=[];for(i=0,len=ref.length;i<len;i++){page=ref[i];results.push(page.buffer)}return results}();return self.postMessage(frame,transfer)}else{return self.postMessage(frame)}};self.onmessage=function(event){return renderFrame(event.data)}},{\\\"./GIFEncoder.js\\\":1}]},{},[4]);\";\r\n//# sourceMappingURL=gif.worker.js.map\r\n", "import worker from './lib/gif.worker';\r\nexport var transformToUrl = function () {\r\n    var gifWorker2Blob = new Blob([GifWorker], { type: 'application/javascript' });\r\n    var workerScript = URL.createObjectURL(gifWorker2Blob);\r\n    return workerScript;\r\n};\r\nexport var GifWorker = worker;\r\n", "import { transformToUrl as gifWorkerTransformToUrl } from 'gif-build-worker-js';\r\nimport GIF from 'gif.js';\r\nimport { OutputType } from '../index';\r\nvar SyntheticGIF = /** @class */ (function () {\r\n    function SyntheticGIF(_a) {\r\n        var frames = _a.frames, commonCropOptions = _a.commonCropOptions, frameDelays = _a.frameDelays, _b = _a.gifJsOptions, gifJsOptions = _b === void 0 ? {} : _b, outputType = _a.outputType;\r\n        Object.defineProperty(this, \"cropperJsOpts\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"frames\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"frameDelays\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"gifJsOptions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"outputType\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.cropperJsOpts = commonCropOptions.cropperJsOpts;\r\n        this.frames = frames;\r\n        this.frameDelays = frameDelays;\r\n        this.gifJsOptions = gifJsOptions;\r\n        this.outputType = outputType;\r\n    }\r\n    Object.defineProperty(SyntheticGIF.prototype, \"bootstrap\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var gifWorkerUrl = gifWorkerTransformToUrl();\r\n                var gifOptions = Object.assign({\r\n                    workers: 2,\r\n                    quality: 10,\r\n                    workerScript: gifWorkerUrl,\r\n                    width: _this.cropperJsOpts.width,\r\n                    height: _this.cropperJsOpts.height,\r\n                    transparent: 'transparent',\r\n                }, _this.gifJsOptions || {});\r\n                var gif = new GIF(gifOptions);\r\n                gif.on('finished', function (blob) {\r\n                    if (_this.outputType === OutputType.BLOB) {\r\n                        resolve(blob);\r\n                    }\r\n                    else if (_this.outputType === OutputType.BASE64) {\r\n                        resolve(_this.convertBlob2Base64(blob));\r\n                    }\r\n                    else {\r\n                        var blobUrl = window.URL.createObjectURL(blob);\r\n                        resolve(blobUrl);\r\n                    }\r\n                });\r\n                _this.frames.forEach(function (frame, idx) {\r\n                    gif.addFrame(frame, { delay: _this.frameDelays[idx], copy: true });\r\n                });\r\n                gif.render();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SyntheticGIF.prototype, \"convertBlob2Base64\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (blob) {\r\n            return new Promise(function (resolve, reject) {\r\n                var reader = new FileReader();\r\n                reader.onload = function (event) {\r\n                    var _a;\r\n                    resolve((_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.result);\r\n                };\r\n                reader.onerror = function (e) {\r\n                    reject(e);\r\n                };\r\n                reader.readAsDataURL(blob);\r\n            });\r\n        }\r\n    });\r\n    return SyntheticGIF;\r\n}());\r\nexport { SyntheticGIF };\r\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar FrameCropper = /** @class */ (function () {\r\n    function FrameCropper(props) {\r\n        Object.defineProperty(this, \"frames\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"parsedFrames\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"commonCropOptions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"convertorCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"containerCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"convertCtx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"containerCtx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"cropperJsOpts\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"offsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"offsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"containerCenterX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"containerCenterY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"resultFrames\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        this.init(props);\r\n    }\r\n    Object.defineProperty(FrameCropper.prototype, \"init\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_a) {\r\n            var commonCropOptions = _a.commonCropOptions;\r\n            this.commonCropOptions = commonCropOptions;\r\n            this.cropperJsOpts = commonCropOptions.cropperJsOpts;\r\n            // 重置状态\r\n            this.resultFrames = [];\r\n            if (!this.containerCanvas || !this.convertorCanvas) {\r\n                this.setupCanvas();\r\n            }\r\n            this.setCanvasWH();\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"cropGif\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parsedFrameInfo) {\r\n            var _a, _b;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var frames, parsedFrames, frameIdx, currentFrame, currentFrameParseInfo, imageData;\r\n                return __generator(this, function (_c) {\r\n                    frames = parsedFrameInfo.frames, parsedFrames = parsedFrameInfo.parsedFrames;\r\n                    this.frames = frames;\r\n                    this.parsedFrames = parsedFrames;\r\n                    frameIdx = 0;\r\n                    while (frameIdx < this.frames.length) {\r\n                        currentFrame = this.frames[frameIdx];\r\n                        currentFrameParseInfo = this.parsedFrames[frameIdx];\r\n                        // disposalType 2 should clear canvas\r\n                        if (currentFrameParseInfo.disposalType !== 1) {\r\n                            this.containerCtx.clearRect(0, 0, this.containerCanvas.width, this.containerCanvas.height);\r\n                        }\r\n                        // 添加gif背景颜色\r\n                        if (this.containerCtx.globalCompositeOperation && ((_a = this.cropperJsOpts) === null || _a === void 0 ? void 0 : _a.background)) {\r\n                            this.containerCtx.fillStyle = ((_b = this.cropperJsOpts) === null || _b === void 0 ? void 0 : _b.background) || \"\";\r\n                            this.containerCtx.globalCompositeOperation = \"destination-over\";\r\n                            this.containerCtx.fillRect(0, 0, this.containerCanvas.width, this.containerCanvas.height);\r\n                            this.containerCtx.globalCompositeOperation = \"source-over\";\r\n                        }\r\n                        // 裁剪转换当前帧\r\n                        if (!currentFrame)\r\n                            continue;\r\n                        imageData = this.transformFrame(this.drawImgDataToCanvas(currentFrame, frameIdx));\r\n                        this.resultFrames.push(imageData);\r\n                        // debug\r\n                        this.ifDebugRun(imageData, frameIdx);\r\n                        frameIdx++;\r\n                    }\r\n                    return [2 /*return*/, this.resultFrames];\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"cropStaticImage\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (canvasImageContainer) {\r\n            return this.transformFrame(canvasImageContainer);\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"transformFrame\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (canvasImageContainer) {\r\n            this.containerCtx.save();\r\n            // 判断偏移方向\r\n            this.containerCtx.translate(this.containerCenterX, this.containerCenterY);\r\n            this.containerCtx.rotate((this.cropperJsOpts.rotate * Math.PI) / 180);\r\n            this.containerCtx.scale(this.cropperJsOpts.scaleX, this.cropperJsOpts.scaleY);\r\n            this.containerCtx.drawImage(canvasImageContainer, -this.convertorCanvas.width / 2, -this.convertorCanvas.height / 2);\r\n            this.containerCtx.restore();\r\n            var moveCropBoxDirection = this.commonCropOptions.withoutCropperJs ? -1 : 1;\r\n            var imageData = this.containerCtx.getImageData(moveCropBoxDirection * this.cropperJsOpts.x + this.offsetX, moveCropBoxDirection * this.cropperJsOpts.y + this.offsetY, this.cropperJsOpts.width, this.cropperJsOpts.height);\r\n            return imageData;\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"drawImgDataToCanvas\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (frame, index) {\r\n            var _a;\r\n            var dims = (_a = this.parsedFrames[index]) === null || _a === void 0 ? void 0 : _a.dims;\r\n            this.convertCtx.clearRect(0, 0, this.convertorCanvas.width, this.convertorCanvas.height);\r\n            this.convertCtx.putImageData(frame, dims.left, dims.top);\r\n            return this.convertorCanvas;\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"ifDebugRun\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (imageData, index) {\r\n            // debug\r\n            var isDebug = location.search.includes('isCropDebug=true');\r\n            isDebug && index && this.renderEachFrame(imageData, index);\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"renderEachFrame\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (frame, index) {\r\n            var _a;\r\n            var dims = (_a = this.parsedFrames[index]) === null || _a === void 0 ? void 0 : _a.dims;\r\n            var eachCanvas = document.createElement('canvas');\r\n            // set w h\r\n            eachCanvas.width = this.convertorCanvas.width;\r\n            eachCanvas.height = this.convertorCanvas.height;\r\n            // put image\r\n            var ctx = eachCanvas.getContext('2d');\r\n            if (!ctx)\r\n                return;\r\n            ctx === null || ctx === void 0 ? void 0 : ctx.putImageData(frame, dims.left, dims.top);\r\n            // write index\r\n            ctx.fillStyle = 'red';\r\n            ctx.strokeStyle = \"blue\";\r\n            ctx.lineWidth = 5;\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.font = '70px orbitron';\r\n            ctx.fillText(String(index), 10, 50);\r\n            ctx.restore();\r\n            ctx.closePath();\r\n            // append to screen\r\n            document.body.appendChild(eachCanvas);\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"setupCanvas\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var containerCanvas = (this.containerCanvas = document.createElement('canvas'));\r\n            var convertorCanvas = (this.convertorCanvas = document.createElement('canvas'));\r\n            containerCanvas.className = 'containerCanvas';\r\n            convertorCanvas.className = 'convertorCanvas';\r\n            containerCanvas.style.display = 'none';\r\n            convertorCanvas.style.display = 'none';\r\n            var containerCtx = containerCanvas.getContext('2d');\r\n            var convertCtx = convertorCanvas.getContext('2d');\r\n            containerCtx && (this.containerCtx = containerCtx);\r\n            convertCtx && (this.convertCtx = convertCtx);\r\n            document.body.appendChild(convertorCanvas);\r\n            document.body.appendChild(containerCanvas);\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"setCanvasWH\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // 计算弧度\r\n            var radian = (Math.PI / 180) * this.cropperJsOpts.rotate;\r\n            var imageData = this.commonCropOptions.imageData;\r\n            // 计算旋转后的容器宽高\r\n            var rotatedBoxWidth = imageData.naturalWidth;\r\n            // Math.abs(imageData.naturalWidth * Math.cos(radian)) +\r\n            // Math.abs(imageData.naturalHeight * Math.sin(radian));\r\n            var rotatedBoxHeight = imageData.naturalHeight;\r\n            // Math.abs(imageData.naturalHeight * Math.cos(radian)) +\r\n            // Math.abs(imageData.naturalWidth * Math.sin(radian));\r\n            // 计算偏移量\r\n            this.offsetX = -Math.min(this.cropperJsOpts.x, 0);\r\n            this.offsetY = -Math.min(this.cropperJsOpts.y, 0);\r\n            // 计算容器中心位置\r\n            this.containerCenterX = this.offsetX + rotatedBoxWidth / 2;\r\n            this.containerCenterY = this.offsetY + rotatedBoxHeight / 2;\r\n            // 设置容器宽高\r\n            this.containerCanvas.width = Math.max(this.offsetX + rotatedBoxWidth, this.offsetX + this.cropperJsOpts.width, this.cropperJsOpts.x + this.cropperJsOpts.width);\r\n            this.containerCanvas.height = Math.max(this.offsetY + rotatedBoxHeight, this.offsetY + this.cropperJsOpts.height, this.cropperJsOpts.y + this.cropperJsOpts.height);\r\n            this.convertorCanvas.width = imageData.naturalWidth;\r\n            this.convertorCanvas.height = imageData.naturalHeight;\r\n            // 清理画布\r\n            this.containerCtx.clearRect(0, 0, this.containerCanvas.width, this.containerCanvas.height);\r\n            this.convertCtx.clearRect(0, 0, this.convertorCanvas.width, this.convertorCanvas.height);\r\n        }\r\n    });\r\n    Object.defineProperty(FrameCropper.prototype, \"frameToImgData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (ctx, frame) {\r\n            if (!ctx)\r\n                return;\r\n            var totalPixels = frame.pixels.length;\r\n            var imgData = ctx.createImageData(frame.dims.width, frame.dims.height);\r\n            var patchData = imgData.data;\r\n            for (var i = 0; i < totalPixels; i++) {\r\n                var pos = i * 4;\r\n                var colorIndex = frame.pixels[i];\r\n                var color = frame.colorTable[colorIndex];\r\n                patchData[pos] = color[0];\r\n                patchData[pos + 1] = color[1];\r\n                patchData[pos + 2] = color[2];\r\n                patchData[pos + 3] = colorIndex !== frame.transparentIndex ? 255 : 0;\r\n            }\r\n            return imgData;\r\n        }\r\n    });\r\n    return FrameCropper;\r\n}());\r\nexport { FrameCropper };\r\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport imageType from 'image-type';\r\nexport var getImageInfo = function (params) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var _a, src, imageInstance;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                _a = params.src, src = _a === void 0 ? '' : _a;\r\n                if (!src)\r\n                    return [2 /*return*/, {\r\n                            width: 0,\r\n                            height: 0,\r\n                            naturalWidth: 0,\r\n                            naturalHeight: 0,\r\n                        }];\r\n                return [4 /*yield*/, loadImage(params)];\r\n            case 1:\r\n                imageInstance = (_b.sent()).imageInstance;\r\n                return [2 /*return*/, {\r\n                        width: imageInstance.width,\r\n                        height: imageInstance.height,\r\n                        naturalWidth: imageInstance.naturalWidth,\r\n                        naturalHeight: imageInstance.naturalHeight,\r\n                    }];\r\n        }\r\n    });\r\n}); };\r\nexport var getImageType = function (imageBufferData) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var imageTypeInfo;\r\n    return __generator(this, function (_a) {\r\n        imageTypeInfo = imageType(new Uint8Array(imageBufferData));\r\n        return [2 /*return*/, imageTypeInfo];\r\n    });\r\n}); };\r\nexport var loadImage = function (params) {\r\n    var _a = params.src, src = _a === void 0 ? '' : _a, crossOrigin = params.crossOrigin;\r\n    return new Promise(function (resolve, reject) {\r\n        var image = new Image();\r\n        if (typeof crossOrigin !== 'undefined') {\r\n            image.crossOrigin = crossOrigin;\r\n        }\r\n        image.onload = function (data) { return __awaiter(void 0, void 0, void 0, function () {\r\n            var _a, _b;\r\n            var _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        _a = resolve;\r\n                        _c = {\r\n                            imageInstance: image,\r\n                            data: data\r\n                        };\r\n                        _b = getImageType;\r\n                        return [4 /*yield*/, transformImageData2ArrayBuffer(image)];\r\n                    case 1: return [4 /*yield*/, _b.apply(void 0, [_d.sent()])];\r\n                    case 2:\r\n                        _a.apply(void 0, [(_c.imageType = _d.sent(),\r\n                                _c)]);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        image.src = src;\r\n        image.onerror = reject;\r\n    });\r\n};\r\nexport var transformImageData2ArrayBuffer = function (image) {\r\n    var canvas = document.createElement('canvas');\r\n    canvas.width = image.width;\r\n    canvas.height = image.height;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(image, 0, 0);\r\n    var dataUrl = canvas.toDataURL();\r\n    var base64Data = dataUrl.split(',')[1];\r\n    var binaryData = atob(base64Data);\r\n    var len = binaryData.length;\r\n    var bytes = new Uint8Array(len);\r\n    for (var i = 0; i < len; i++) {\r\n        bytes[i] = binaryData.charCodeAt(i);\r\n    }\r\n    return bytes.buffer;\r\n};\r\nexport var getImageBufferFromRemote = function (url) {\r\n    if (url === void 0) { url = ''; }\r\n    return new Promise(function (resolve, reject) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', url);\r\n        xhr.responseType = 'arraybuffer';\r\n        xhr.onload = function () {\r\n            resolve(xhr.response);\r\n        };\r\n        xhr.onerror = reject;\r\n        xhr.send();\r\n    });\r\n};\r\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport Cropper from 'cropperjs';\r\nimport { Decoder } from './lib/decoder';\r\nimport { SyntheticGIF } from './lib/synthetic-gif';\r\nimport { FrameCropper } from './lib/cropper';\r\nimport { getImageInfo, loadImage } from './lib/helper';\r\nexport var OutputType;\r\n(function (OutputType) {\r\n    OutputType[\"BASE64\"] = \"base64\";\r\n    OutputType[\"BLOB\"] = \"blob\";\r\n    OutputType[\"BLOB_URL\"] = \"blobURL\";\r\n})(OutputType || (OutputType = {}));\r\nvar SuperImageCropper = /** @class */ (function () {\r\n    function SuperImageCropper() {\r\n        Object.defineProperty(this, \"cropperJsInstance\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"imageInstance\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"preImageSrc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: ''\r\n        });\r\n        Object.defineProperty(this, \"parsedFrameInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"commonCropOptions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"frameCropperInstance\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"inputCropperOptions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"imageTypeInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n    }\r\n    Object.defineProperty(SuperImageCropper.prototype, \"crop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (inputCropperOptions) {\r\n            var _a;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var checkResult, resultFrames;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.userInputValidator(inputCropperOptions);\r\n                            this.inputCropperOptions = this.cleanUserInput(inputCropperOptions);\r\n                            return [4 /*yield*/, this.init()];\r\n                        case 1:\r\n                            _b.sent();\r\n                            return [4 /*yield*/, this.decodeGIF()];\r\n                        case 2:\r\n                            _b.sent();\r\n                            return [4 /*yield*/, this.checkIsStaticImage()];\r\n                        case 3:\r\n                            checkResult = _b.sent();\r\n                            if (!checkResult.isStatic) return [3 /*break*/, 4];\r\n                            return [2 /*return*/, this.handleStaticImage(checkResult.imageInfo.imageInstance)];\r\n                        case 4: return [4 /*yield*/, this.cropFrames()];\r\n                        case 5:\r\n                            resultFrames = _b.sent();\r\n                            return [2 /*return*/, this.saveGif(resultFrames, ((_a = this.parsedFrameInfo) === null || _a === void 0 ? void 0 : _a.delays) || [])];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"init\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _a, _b, _c;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var defaultOptions, targetConfig, imageData, _d;\r\n                return __generator(this, function (_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            this.cropperJsInstance = this.inputCropperOptions.cropperInstance;\r\n                            defaultOptions = {\r\n                                width: 100,\r\n                                height: 100,\r\n                                scaleX: 1,\r\n                                scaleY: 1,\r\n                                x: 0,\r\n                                y: 0,\r\n                                rotate: 0,\r\n                                left: 0,\r\n                                top: 0\r\n                            };\r\n                            targetConfig = Object.assign(defaultOptions, this.inputCropperOptions.cropperJsOpts || {}, ((_a = this.cropperJsInstance) === null || _a === void 0 ? void 0 : _a.getData()) || {});\r\n                            _d = ((_b = this.cropperJsInstance) === null || _b === void 0 ? void 0 : _b.getImageData());\r\n                            if (_d) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, getImageInfo({\r\n                                    src: this.inputCropperOptions.src,\r\n                                    crossOrigin: this.inputCropperOptions.crossOrigin\r\n                                })];\r\n                        case 1:\r\n                            _d = (_e.sent());\r\n                            _e.label = 2;\r\n                        case 2:\r\n                            imageData = _d || {};\r\n                            this.commonCropOptions = {\r\n                                cropperJsOpts: this.imageDataFormat(targetConfig, imageData),\r\n                                imageData: imageData,\r\n                                cropBoxData: ((_c = this.cropperJsInstance) === null || _c === void 0 ? void 0 : _c.getCropBoxData()) || targetConfig,\r\n                                withoutCropperJs: !this.cropperJsInstance\r\n                            };\r\n                            this.commonCropOptions.cropperJsOpts.rotate = this.normalizeRotate(this.commonCropOptions.cropperJsOpts.rotate);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"cleanUserInput\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cropperOptions) {\r\n            var cropperInstance = cropperOptions.cropperInstance;\r\n            if (cropperInstance) {\r\n                delete cropperOptions['cropperJsOpts'];\r\n                delete cropperOptions['src'];\r\n            }\r\n            return cropperOptions;\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"userInputValidator\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cropperOptions) {\r\n            var cropperInstance = cropperOptions.cropperInstance, cropperJsOpts = cropperOptions.cropperJsOpts, src = cropperOptions.src;\r\n            if (!cropperInstance) {\r\n                if (!cropperJsOpts) {\r\n                    throw new Error('If cropperInstance is not specified, cropperJsOpts must be specified.');\r\n                }\r\n                else if (!src) {\r\n                    throw new Error('If cropperInstance is not specified, src must be specified.');\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"normalizeRotate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (rotation) {\r\n            return rotation < 0 ? 360 + (rotation % 360) : rotation;\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"imageDataFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (targetConfig, imageData) {\r\n            targetConfig.left = targetConfig.x;\r\n            targetConfig.top = targetConfig.y;\r\n            targetConfig.width = targetConfig.width || imageData.naturalWidth;\r\n            targetConfig.height = targetConfig.height || imageData.naturalHeight;\r\n            return targetConfig;\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"createCropperInstance\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var _a, _b;\r\n                if (!options.src) {\r\n                    throw new Error('Option src must be specified.');\r\n                }\r\n                var img = document.createElement('img');\r\n                img.src = options.src;\r\n                if (_this.imageInstance) {\r\n                    document.body.removeChild(_this.imageInstance);\r\n                    (_a = _this.cropperJsInstance) === null || _a === void 0 ? void 0 : _a.destroy();\r\n                }\r\n                // 创建新的 image 图片 DOM\r\n                _this.imageInstance = document.createElement('img');\r\n                _this.imageInstance.src = options.src;\r\n                _this.imageInstance.style.display = 'none';\r\n                document.body.append(_this.imageInstance);\r\n                if (_this.preImageSrc !== options.src) {\r\n                    _this.preImageSrc = options.src;\r\n                    _this.imageInstance.src = options.src;\r\n                }\r\n                // 实例化一个 cropper\r\n                var newInstance = new Cropper(_this.imageInstance, {\r\n                    viewMode: 1,\r\n                    background: !!((_b = options.cropperJsOpts) === null || _b === void 0 ? void 0 : _b.background),\r\n                    data: options.cropperJsOpts,\r\n                    autoCrop: true\r\n                });\r\n                // 隐藏裁剪 DOM\r\n                _this.imageInstance.addEventListener('ready', function () {\r\n                    var _a;\r\n                    if (newInstance.cropper) {\r\n                        newInstance.cropper.style.display = 'none';\r\n                        if (((_a = options.cropperJsOpts) === null || _a === void 0 ? void 0 : _a.width) && _this.imageInstance) {\r\n                            _this.imageInstance.style.width = options.cropperJsOpts.width + 'px';\r\n                        }\r\n                        resolve(newInstance);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"decodeGIF\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _a;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var decoder, parsedFrameInfo;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            decoder = new Decoder(this.inputCropperOptions.src || ((_a = this.cropperJsInstance) === null || _a === void 0 ? void 0 : _a.url) || '');\r\n                            return [4 /*yield*/, decoder.decompressFrames()];\r\n                        case 1:\r\n                            parsedFrameInfo = _b.sent();\r\n                            this.parsedFrameInfo = parsedFrameInfo;\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"ensureFrameCropperExist\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.frameCropperInstance) {\r\n                this.frameCropperInstance = new FrameCropper({\r\n                    commonCropOptions: this.commonCropOptions\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"cropFrames\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.ensureFrameCropperExist();\r\n                    this.frameCropperInstance.init({\r\n                        commonCropOptions: this.commonCropOptions\r\n                    });\r\n                    return [2 /*return*/, this.frameCropperInstance.cropGif(this.parsedFrameInfo)];\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"saveGif\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (resultFrames, frameDelays) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var syntheticGIF;\r\n                return __generator(this, function (_a) {\r\n                    syntheticGIF = new SyntheticGIF({\r\n                        frames: resultFrames,\r\n                        commonCropOptions: this.commonCropOptions,\r\n                        frameDelays: frameDelays,\r\n                        gifJsOptions: this.inputCropperOptions.gifJsOptions,\r\n                        outputType: this.inputCropperOptions.outputType,\r\n                    });\r\n                    return [2 /*return*/, syntheticGIF.bootstrap()];\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"checkIsStaticImage\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _a, _b, _c, _d;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var url, imageInfo;\r\n                return __generator(this, function (_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            url = (_b = (_a = this.cropperJsInstance) === null || _a === void 0 ? void 0 : _a.url) !== null && _b !== void 0 ? _b : (_c = this.inputCropperOptions) === null || _c === void 0 ? void 0 : _c.src;\r\n                            return [4 /*yield*/, loadImage({\r\n                                    src: url,\r\n                                    crossOrigin: this.inputCropperOptions.crossOrigin,\r\n                                })];\r\n                        case 1:\r\n                            imageInfo = _e.sent();\r\n                            return [2 /*return*/, {\r\n                                    isStatic: ((_d = imageInfo === null || imageInfo === void 0 ? void 0 : imageInfo.imageType) === null || _d === void 0 ? void 0 : _d.mime) !== 'image/gif',\r\n                                    imageInfo: imageInfo,\r\n                                }];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(SuperImageCropper.prototype, \"handleStaticImage\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (imageInstance) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var canvas, ctx, croppedImageData;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            canvas = document.createElement('canvas');\r\n                            ctx = canvas.getContext('2d');\r\n                            canvas.width = imageInstance.width;\r\n                            canvas.height = imageInstance.height;\r\n                            ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(imageInstance, 0, 0);\r\n                            this.ensureFrameCropperExist();\r\n                            // 每次重新裁剪需要初始化一下裁剪区域相关数据\r\n                            this.frameCropperInstance.init({\r\n                                commonCropOptions: this.commonCropOptions\r\n                            });\r\n                            return [4 /*yield*/, this.frameCropperInstance.cropStaticImage(canvas)];\r\n                        case 1:\r\n                            croppedImageData = _a.sent();\r\n                            ctx === null || ctx === void 0 ? void 0 : ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n                            canvas.width = croppedImageData.width;\r\n                            canvas.height = croppedImageData.height;\r\n                            ctx === null || ctx === void 0 ? void 0 : ctx.putImageData(croppedImageData, 0, 0);\r\n                            return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                                    var _a, _b;\r\n                                    var _c = _this.inputCropperOptions.outputType, outputType = _c === void 0 ? OutputType.BLOB_URL : _c;\r\n                                    if (outputType === OutputType.BASE64) {\r\n                                        resolve(canvas.toDataURL((_a = _this.imageTypeInfo) === null || _a === void 0 ? void 0 : _a.mime));\r\n                                    }\r\n                                    else {\r\n                                        canvas.toBlob(function (blob) {\r\n                                            if (!blob)\r\n                                                return reject(null);\r\n                                            if (outputType === OutputType.BLOB) {\r\n                                                resolve(blob);\r\n                                            }\r\n                                            else {\r\n                                                var blobUrl = window.URL.createObjectURL(blob);\r\n                                                resolve(blobUrl);\r\n                                            }\r\n                                        }, (_b = _this.imageTypeInfo) === null || _b === void 0 ? void 0 : _b.mime);\r\n                                    }\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    return SuperImageCropper;\r\n}());\r\nexport { SuperImageCropper };\r\n"],
  "mappings": ";;;;;;;;;;AAAA;AAAA,6GAAAA,UAAA;AAAA;AAEA,WAAO,eAAeA,UAAS,cAAc;AAAA,MAC3C,OAAO;AAAA,IACT,CAAC;AACD,IAAAA,SAAQ,OAAOA,SAAQ,cAAcA,SAAQ,QAAQ;AAErD,QAAI,QAAQ,SAASC,OAAMC,SAAQ,QAAQ;AACzC,UAAI,SAAS,UAAU,SAAS,KAAK,UAAU,CAAC,MAAM,SAAY,UAAU,CAAC,IAAI,CAAC;AAClF,UAAI,SAAS,UAAU,SAAS,KAAK,UAAU,CAAC,MAAM,SAAY,UAAU,CAAC,IAAI;AAEjF,UAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,eAAO,QAAQ,SAAU,YAAY;AACnC,iBAAOD,OAAMC,SAAQ,YAAY,QAAQ,MAAM;AAAA,QACjD,CAAC;AAAA,MACH,WAAW,OAAO,WAAW,YAAY;AACvC,eAAOA,SAAQ,QAAQ,QAAQD,MAAK;AAAA,MACtC,OAAO;AACL,YAAI,MAAM,OAAO,KAAK,MAAM,EAAE,CAAC;AAE/B,YAAI,MAAM,QAAQ,OAAO,GAAG,CAAC,GAAG;AAC9B,iBAAO,GAAG,IAAI,CAAC;AACf,UAAAA,OAAMC,SAAQ,OAAO,GAAG,GAAG,QAAQ,OAAO,GAAG,CAAC;AAAA,QAChD,OAAO;AACL,iBAAO,GAAG,IAAI,OAAO,GAAG,EAAEA,SAAQ,QAAQ,QAAQD,MAAK;AAAA,QACzD;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAEA,IAAAD,SAAQ,QAAQ;AAEhB,QAAI,cAAc,SAASG,aAAY,QAAQ,eAAe;AAC5D,aAAO,SAAUD,SAAQ,QAAQ,QAAQD,QAAO;AAC9C,YAAI,cAAcC,SAAQ,QAAQ,MAAM,GAAG;AACzC,UAAAD,OAAMC,SAAQ,QAAQ,QAAQ,MAAM;AAAA,QACtC;AAAA,MACF;AAAA,IACF;AAEA,IAAAF,SAAQ,cAAc;AAEtB,QAAI,OAAO,SAASI,MAAK,QAAQ,cAAc;AAC7C,aAAO,SAAUF,SAAQ,QAAQ,QAAQD,QAAO;AAC9C,YAAI,MAAM,CAAC;AACX,YAAI,gBAAgBC,QAAO;AAE3B,eAAO,aAAaA,SAAQ,QAAQ,MAAM,GAAG;AAC3C,cAAI,YAAY,CAAC;AACjB,UAAAD,OAAMC,SAAQ,QAAQ,QAAQ,SAAS;AAGvC,cAAIA,QAAO,QAAQ,eAAe;AAChC;AAAA,UACF;AAEA,0BAAgBA,QAAO;AACvB,cAAI,KAAK,SAAS;AAAA,QACpB;AAEA,eAAO;AAAA,MACT;AAAA,IACF;AAEA,IAAAF,SAAQ,OAAO;AAAA;AAAA;;;ACjEf;AAAA,qHAAAK,UAAA;AAAA;AAEA,WAAO,eAAeA,UAAS,cAAc;AAAA,MAC3C,OAAO;AAAA,IACT,CAAC;AACD,IAAAA,SAAQ,WAAWA,SAAQ,YAAYA,SAAQ,eAAeA,SAAQ,aAAaA,SAAQ,YAAYA,SAAQ,YAAYA,SAAQ,WAAWA,SAAQ,WAAWA,SAAQ,cAAc;AAGvL,QAAI,cAAc,SAASC,aAAY,WAAW;AAChD,aAAO;AAAA,QACL,MAAM;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAEA,IAAAD,SAAQ,cAAc;AAEtB,QAAI,WAAW,SAASE,YAAW;AACjC,aAAO,SAAUC,SAAQ;AACvB,eAAOA,QAAO,KAAKA,QAAO,KAAK;AAAA,MACjC;AAAA,IACF;AAEA,IAAAH,SAAQ,WAAW;AAEnB,QAAI,WAAW,SAASI,YAAW;AACjC,UAAI,SAAS,UAAU,SAAS,KAAK,UAAU,CAAC,MAAM,SAAY,UAAU,CAAC,IAAI;AACjF,aAAO,SAAUD,SAAQ;AACvB,eAAOA,QAAO,KAAKA,QAAO,MAAM,MAAM;AAAA,MACxC;AAAA,IACF;AAEA,IAAAH,SAAQ,WAAW;AAEnB,QAAI,YAAY,SAASK,WAAU,QAAQ;AACzC,aAAO,SAAUF,SAAQ;AACvB,eAAOA,QAAO,KAAK,SAASA,QAAO,KAAKA,QAAO,OAAO,MAAM;AAAA,MAC9D;AAAA,IACF;AAEA,IAAAH,SAAQ,YAAY;AAEpB,QAAI,YAAY,SAASM,WAAU,QAAQ;AACzC,aAAO,SAAUH,SAAQ;AACvB,eAAOA,QAAO,KAAK,SAASA,QAAO,KAAKA,QAAO,MAAM,MAAM;AAAA,MAC7D;AAAA,IACF;AAEA,IAAAH,SAAQ,YAAY;AAEpB,QAAI,aAAa,SAASO,YAAW,QAAQ;AAC3C,aAAO,SAAUJ,SAAQ;AACvB,eAAO,MAAM,KAAK,UAAU,MAAM,EAAEA,OAAM,CAAC,EAAE,IAAI,SAAU,OAAO;AAChE,iBAAO,OAAO,aAAa,KAAK;AAAA,QAClC,CAAC,EAAE,KAAK,EAAE;AAAA,MACZ;AAAA,IACF;AAEA,IAAAH,SAAQ,aAAa;AAErB,QAAI,eAAe,SAASQ,cAAa,cAAc;AACrD,aAAO,SAAUL,SAAQ;AACvB,YAAI,QAAQ,UAAU,CAAC,EAAEA,OAAM;AAC/B,eAAO,gBAAgB,MAAM,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,KAAK,MAAM,CAAC;AAAA,MAC9E;AAAA,IACF;AAEA,IAAAH,SAAQ,eAAe;AAEvB,QAAI,YAAY,SAASS,WAAU,UAAU,aAAa;AACxD,aAAO,SAAUN,SAAQ,QAAQ,QAAQ;AACvC,YAAI,QAAQ,OAAO,gBAAgB,aAAa,YAAYA,SAAQ,QAAQ,MAAM,IAAI;AACtF,YAAI,SAAS,UAAU,QAAQ;AAC/B,YAAI,MAAM,IAAI,MAAM,KAAK;AAEzB,iBAAS,IAAI,GAAG,IAAI,OAAO,KAAK;AAC9B,cAAI,CAAC,IAAI,OAAOA,OAAM;AAAA,QACxB;AAEA,eAAO;AAAA,MACT;AAAA,IACF;AAEA,IAAAH,SAAQ,YAAY;AAEpB,QAAI,eAAe,SAASU,cAAa,MAAM,YAAY,QAAQ;AACjE,UAAI,SAAS;AAEb,eAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,kBAAU,KAAK,aAAa,CAAC,KAAK,KAAK,IAAI,GAAG,SAAS,IAAI,CAAC;AAAA,MAC9D;AAEA,aAAO;AAAA,IACT;AAEA,QAAI,WAAW,SAASC,UAAS,QAAQ;AACvC,aAAO,SAAUR,SAAQ;AACvB,YAAI,QAAQ,SAAS,EAAEA,OAAM;AAG7B,YAAI,OAAO,IAAI,MAAM,CAAC;AAEtB,iBAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,eAAK,IAAI,CAAC,IAAI,CAAC,EAAE,QAAQ,KAAK;AAAA,QAChC;AAGA,eAAO,OAAO,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,KAAK;AACpD,cAAI,MAAM,OAAO,GAAG;AAEpB,cAAI,IAAI,QAAQ;AACd,gBAAI,GAAG,IAAI,aAAa,MAAM,IAAI,OAAO,IAAI,MAAM;AAAA,UACrD,OAAO;AACL,gBAAI,GAAG,IAAI,KAAK,IAAI,KAAK;AAAA,UAC3B;AAEA,iBAAO;AAAA,QACT,GAAG,CAAC,CAAC;AAAA,MACP;AAAA,IACF;AAEA,IAAAH,SAAQ,WAAW;AAAA;AAAA;;;ACzHnB;AAAA,mHAAAY,UAAA;AAAA;AAEA,WAAO,eAAeA,UAAS,cAAc;AAAA,MAC3C,OAAO;AAAA,IACT,CAAC;AACD,IAAAA,SAAQ,SAAS,IAAI;AAErB,QAAI,IAAI;AAER,QAAI,QAAQ;AAGZ,QAAI,kBAAkB;AAAA,MACpB,QAAQ,SAAS,OAAOC,SAAQ;AAC9B,YAAI,aAAa;AACjB,YAAI,SAAS,CAAC;AACd,YAAI,aAAaA,QAAO,KAAK;AAC7B,YAAI,QAAQ;AAEZ,iBAAS,QAAQ,GAAG,MAAM,UAAU,EAAEA,OAAM,GAAG,SAAS,YAAY,QAAQ,GAAG,MAAM,UAAU,EAAEA,OAAM,GAAG;AAGxG,cAAI,CAAC,KAAM;AAEX,cAAIA,QAAO,MAAM,QAAQ,YAAY;AACnC,gBAAI,gBAAgB,aAAaA,QAAO;AACxC,mBAAO,MAAM,GAAG,MAAM,WAAW,aAAa,EAAEA,OAAM,CAAC;AACvD,qBAAS;AACT;AAAA,UACF;AAEA,iBAAO,MAAM,GAAG,MAAM,WAAW,IAAI,EAAEA,OAAM,CAAC;AAC9C,mBAAS;AAAA,QACX;AAEA,YAAI,SAAS,IAAI,WAAW,KAAK;AACjC,YAAI,SAAS;AAEb,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,iBAAO,IAAI,OAAO,CAAC,GAAG,MAAM;AAC5B,oBAAU,OAAO,CAAC,EAAE;AAAA,QACtB;AAEA,eAAO;AAAA,MACT;AAAA,IACF;AAEA,QAAI,aAAa,GAAG,EAAE,aAAa;AAAA,MACjC,KAAK,CAAC;AAAA,QACJ,QAAQ,GAAG,MAAM,WAAW,CAAC;AAAA,MAC/B,GAAG;AAAA,QACD,WAAW,GAAG,MAAM,UAAU;AAAA,MAChC,GAAG;AAAA,QACD,SAAS,GAAG,MAAM,UAAU;AAAA,UAC1B,QAAQ;AAAA,YACN,OAAO;AAAA,YACP,QAAQ;AAAA,UACV;AAAA,UACA,UAAU;AAAA,YACR,OAAO;AAAA,YACP,QAAQ;AAAA,UACV;AAAA,UACA,WAAW;AAAA,YACT,OAAO;AAAA,UACT;AAAA,UACA,uBAAuB;AAAA,YACrB,OAAO;AAAA,UACT;AAAA,QACF,CAAC;AAAA,MACH,GAAG;AAAA,QACD,QAAQ,GAAG,MAAM,cAAc,IAAI;AAAA,MACrC,GAAG;AAAA,QACD,wBAAwB,GAAG,MAAM,UAAU;AAAA,MAC7C,GAAG;AAAA,QACD,aAAa,GAAG,MAAM,UAAU;AAAA,MAClC,CAAC;AAAA,IACH,GAAG,SAAUA,SAAQ;AACnB,UAAI,SAAS,GAAG,MAAM,WAAW,CAAC,EAAEA,OAAM;AAC1C,aAAO,MAAM,CAAC,MAAM,MAAQ,MAAM,CAAC,MAAM;AAAA,IAC3C,CAAC;AAED,QAAI,eAAe,GAAG,EAAE,aAAa;AAAA,MACnC,OAAO,CAAC;AAAA,QACN,OAAO,GAAG,MAAM,UAAU;AAAA,MAC5B,GAAG;AAAA,QACD,YAAY,CAAC;AAAA,UACX,OAAO,GAAG,MAAM,cAAc,IAAI;AAAA,QACpC,GAAG;AAAA,UACD,MAAM,GAAG,MAAM,cAAc,IAAI;AAAA,QACnC,GAAG;AAAA,UACD,QAAQ,GAAG,MAAM,cAAc,IAAI;AAAA,QACrC,GAAG;AAAA,UACD,SAAS,GAAG,MAAM,cAAc,IAAI;AAAA,QACtC,GAAG;AAAA,UACD,MAAM,GAAG,MAAM,UAAU;AAAA,YACvB,QAAQ;AAAA,cACN,OAAO;AAAA,YACT;AAAA,YACA,YAAY;AAAA,cACV,OAAO;AAAA,YACT;AAAA,YACA,MAAM;AAAA,cACJ,OAAO;AAAA,YACT;AAAA,YACA,QAAQ;AAAA,cACN,OAAO;AAAA,cACP,QAAQ;AAAA,YACV;AAAA,YACA,MAAM;AAAA,cACJ,OAAO;AAAA,cACP,QAAQ;AAAA,YACV;AAAA,UACF,CAAC;AAAA,QACH,CAAC;AAAA,MACH,IAAI,GAAG,EAAE,aAAa;AAAA,QACpB,MAAM,GAAG,MAAM,WAAW,GAAG,SAAUA,SAAQ,QAAQ,QAAQ;AAC7D,iBAAO,KAAK,IAAI,GAAG,OAAO,WAAW,IAAI,OAAO,CAAC;AAAA,QACnD,CAAC;AAAA,MACH,GAAG,SAAUA,SAAQ,QAAQ,QAAQ;AACnC,eAAO,OAAO,WAAW,IAAI;AAAA,MAC/B,CAAC,GAAG;AAAA,QACF,MAAM,CAAC;AAAA,UACL,cAAc,GAAG,MAAM,UAAU;AAAA,QACnC,GAAG,eAAe;AAAA,MACpB,CAAC;AAAA,IACH,GAAG,SAAUA,SAAQ;AACnB,cAAQ,GAAG,MAAM,UAAU,EAAEA,OAAM,MAAM;AAAA,IAC3C,CAAC;AAED,QAAI,cAAc,GAAG,EAAE,aAAa;AAAA,MAClC,MAAM,CAAC;AAAA,QACL,QAAQ,GAAG,MAAM,WAAW,CAAC;AAAA,MAC/B,GAAG;AAAA,QACD,YAAY,GAAG,MAAM,UAAU;AAAA,MACjC,GAAG;AAAA,QACD,SAAS,SAAS,QAAQA,SAAQ,QAAQ,QAAQ;AAChD,kBAAQ,GAAG,MAAM,WAAW,OAAO,KAAK,SAAS,EAAEA,OAAM;AAAA,QAC3D;AAAA,MACF,GAAG,eAAe;AAAA,IACpB,GAAG,SAAUA,SAAQ;AACnB,UAAI,SAAS,GAAG,MAAM,WAAW,CAAC,EAAEA,OAAM;AAC1C,aAAO,MAAM,CAAC,MAAM,MAAQ,MAAM,CAAC,MAAM;AAAA,IAC3C,CAAC;AAED,QAAI,qBAAqB,GAAG,EAAE,aAAa;AAAA,MACzC,aAAa,CAAC;AAAA,QACZ,QAAQ,GAAG,MAAM,WAAW,CAAC;AAAA,MAC/B,GAAG;AAAA,QACD,YAAY,GAAG,MAAM,UAAU;AAAA,MACjC,GAAG;AAAA,QACD,IAAI,SAAS,GAAGA,SAAQ,QAAQ,QAAQ;AACtC,kBAAQ,GAAG,MAAM,YAAY,OAAO,SAAS,EAAEA,OAAM;AAAA,QACvD;AAAA,MACF,GAAG,eAAe;AAAA,IACpB,GAAG,SAAUA,SAAQ;AACnB,UAAI,SAAS,GAAG,MAAM,WAAW,CAAC,EAAEA,OAAM;AAC1C,aAAO,MAAM,CAAC,MAAM,MAAQ,MAAM,CAAC,MAAM;AAAA,IAC3C,CAAC;AAED,QAAI,iBAAiB,GAAG,EAAE,aAAa;AAAA,MACrC,SAAS,CAAC;AAAA,QACR,QAAQ,GAAG,MAAM,WAAW,CAAC;AAAA,MAC/B,GAAG,eAAe;AAAA,IACpB,GAAG,SAAUA,SAAQ;AACnB,UAAI,SAAS,GAAG,MAAM,WAAW,CAAC,EAAEA,OAAM;AAC1C,aAAO,MAAM,CAAC,MAAM,MAAQ,MAAM,CAAC,MAAM;AAAA,IAC3C,CAAC;AACD,QAAI,SAAS;AAAA,MAAC;AAAA,QACZ,QAAQ,CAAC;AAAA,UACP,YAAY,GAAG,MAAM,YAAY,CAAC;AAAA,QACpC,GAAG;AAAA,UACD,UAAU,GAAG,MAAM,YAAY,CAAC;AAAA,QAClC,CAAC;AAAA,MACH;AAAA,MAAG;AAAA,QACD,KAAK,CAAC;AAAA,UACJ,QAAQ,GAAG,MAAM,cAAc,IAAI;AAAA,QACrC,GAAG;AAAA,UACD,SAAS,GAAG,MAAM,cAAc,IAAI;AAAA,QACtC,GAAG;AAAA,UACD,MAAM,GAAG,MAAM,UAAU;AAAA,YACvB,QAAQ;AAAA,cACN,OAAO;AAAA,YACT;AAAA,YACA,YAAY;AAAA,cACV,OAAO;AAAA,cACP,QAAQ;AAAA,YACV;AAAA,YACA,MAAM;AAAA,cACJ,OAAO;AAAA,YACT;AAAA,YACA,MAAM;AAAA,cACJ,OAAO;AAAA,cACP,QAAQ;AAAA,YACV;AAAA,UACF,CAAC;AAAA,QACH,GAAG;AAAA,UACD,uBAAuB,GAAG,MAAM,UAAU;AAAA,QAC5C,GAAG;AAAA,UACD,mBAAmB,GAAG,MAAM,UAAU;AAAA,QACxC,CAAC;AAAA,MACH;AAAA,OAAI,GAAG,EAAE,aAAa;AAAA,QACpB,MAAM,GAAG,MAAM,WAAW,GAAG,SAAUA,SAAQ,QAAQ;AACrD,iBAAO,KAAK,IAAI,GAAG,OAAO,IAAI,IAAI,OAAO,CAAC;AAAA,QAC5C,CAAC;AAAA,MACH,GAAG,SAAUA,SAAQ,QAAQ;AAC3B,eAAO,OAAO,IAAI,IAAI;AAAA,MACxB,CAAC;AAAA;AAAA,MACD;AAAA,QACE,SAAS,GAAG,EAAE,MAAM,CAAC,WAAW,mBAAmB,eAAe,aAAa,UAAU,GAAG,SAAUA,SAAQ;AAC5G,cAAI,YAAY,GAAG,MAAM,UAAU,EAAEA,OAAM;AAK3C,iBAAO,aAAa,MAAQ,aAAa;AAAA,QAC3C,CAAC;AAAA,MACH;AAAA,IAAC;AACD,QAAI,WAAW;AACf,IAAAD,SAAQ,SAAS,IAAI;AAAA;AAAA;;;AC1NrB;AAAA,uFAAAE,UAAA;AAAA;AAEA,WAAO,eAAeA,UAAS,cAAc;AAAA,MAC3C,OAAO;AAAA,IACT,CAAC;AACD,IAAAA,SAAQ,cAAc;AAKtB,QAAI,cAAc,SAASC,aAAY,QAAQ,OAAO;AACpD,UAAI,YAAY,IAAI,MAAM,OAAO,MAAM;AACvC,UAAI,OAAO,OAAO,SAAS;AAE3B,UAAI,QAAQ,SAASC,OAAMC,QAAOC,UAAS;AACzC,YAAI,aAAa,OAAO,MAAMA,WAAU,QAAQA,WAAU,KAAK,KAAK;AACpE,kBAAU,OAAO,MAAM,WAAW,CAACD,SAAQ,OAAO,KAAK,EAAE,OAAO,UAAU,CAAC;AAAA,MAC7E;AAGA,UAAI,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC;AACzB,UAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,CAAC;AACvB,UAAI,UAAU;AAEd,eAAS,OAAO,GAAG,OAAO,GAAG,QAAQ;AACnC,iBAAS,QAAQ,QAAQ,IAAI,GAAG,QAAQ,MAAM,SAAS,MAAM,IAAI,GAAG;AAClE,gBAAM,OAAO,OAAO;AACpB;AAAA,QACF;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAEA,IAAAH,SAAQ,cAAc;AAAA;AAAA;;;AClCtB;AAAA,+EAAAK,UAAA;AAAA;AAEA,WAAO,eAAeA,UAAS,cAAc;AAAA,MAC3C,OAAO;AAAA,IACT,CAAC;AACD,IAAAA,SAAQ,MAAM;AAMd,QAAI,MAAM,SAASC,KAAI,aAAa,MAAM,YAAY;AACpD,UAAI,iBAAiB;AACrB,UAAI,WAAW;AACf,UAAI,OAAO;AACX,UAAI,WAAW,OAAO,WAAW,WAAW,oBAAoB,SAAS,UAAU,MAAM,MAAM,GAAG,OAAO,WAAW,OAAO,KAAK,IAAI;AACpI,UAAI,YAAY,IAAI,MAAM,UAAU;AACpC,UAAI,SAAS,IAAI,MAAM,cAAc;AACrC,UAAI,SAAS,IAAI,MAAM,cAAc;AACrC,UAAI,aAAa,IAAI,MAAM,iBAAiB,CAAC;AAE7C,kBAAY;AACZ,cAAQ,KAAK;AACb,2BAAqB,QAAQ;AAC7B,kBAAY,QAAQ;AACpB,iBAAW;AACX,kBAAY,YAAY;AACxB,mBAAa,KAAK,aAAa;AAE/B,WAAK,OAAO,GAAG,OAAO,OAAO,QAAQ;AACnC,eAAO,IAAI,IAAI;AACf,eAAO,IAAI,IAAI;AAAA,MACjB;AAGA,UAAI,OAAO,MAAM,OAAO,OAAO,KAAK,IAAI;AACxC,cAAQ,OAAO,QAAQ,QAAQ,MAAM,KAAK,KAAK;AAE/C,WAAK,IAAI,GAAG,IAAI,QAAO;AACrB,YAAI,QAAQ,GAAG;AACb,cAAI,OAAO,WAAW;AAEpB,qBAAS,KAAK,EAAE,KAAK;AACrB,oBAAQ;AACR;AACA;AAAA,UACF;AAGA,iBAAO,QAAQ;AACf,oBAAU;AACV,kBAAQ;AAER,cAAI,OAAO,aAAa,QAAQ,oBAAoB;AAClD;AAAA,UACF;AAEA,cAAI,QAAQ,OAAO;AAEjB,wBAAY,YAAY;AACxB,yBAAa,KAAK,aAAa;AAC/B,wBAAY,QAAQ;AACpB,uBAAW;AACX;AAAA,UACF;AAEA,cAAI,YAAY,UAAU;AACxB,uBAAW,KAAK,IAAI,OAAO,IAAI;AAC/B,uBAAW;AACX,oBAAQ;AACR;AAAA,UACF;AAEA,oBAAU;AAEV,cAAI,QAAQ,WAAW;AACrB,uBAAW,KAAK,IAAI;AACpB,mBAAO;AAAA,UACT;AAEA,iBAAO,OAAO,OAAO;AACnB,uBAAW,KAAK,IAAI,OAAO,IAAI;AAC/B,mBAAO,OAAO,IAAI;AAAA,UACpB;AAEA,kBAAQ,OAAO,IAAI,IAAI;AACvB,qBAAW,KAAK,IAAI;AAIpB,cAAI,YAAY,gBAAgB;AAC9B,mBAAO,SAAS,IAAI;AACpB,mBAAO,SAAS,IAAI;AACpB;AAEA,iBAAK,YAAY,eAAe,KAAK,YAAY,gBAAgB;AAC/D;AACA,2BAAa;AAAA,YACf;AAAA,UACF;AAEA,qBAAW;AAAA,QACb;AAGA;AACA,kBAAU,IAAI,IAAI,WAAW,GAAG;AAChC;AAAA,MACF;AAEA,WAAK,IAAI,IAAI,IAAI,MAAM,KAAK;AAC1B,kBAAU,CAAC,IAAI;AAAA,MACjB;AAEA,aAAO;AAAA,IACT;AAEA,IAAAD,SAAQ,MAAM;AAAA;AAAA;;;ACrHd,IAAAE,eAAA;AAAA,iFAAAC,UAAA;AAAA;AAEA,WAAO,eAAeA,UAAS,cAAc;AAAA,MAC3C,OAAO;AAAA,IACT,CAAC;AACD,IAAAA,SAAQ,mBAAmBA,SAAQ,kBAAkBA,SAAQ,WAAW;AAExE,QAAI,OAAO,uBAAuB,aAAkD;AAEpF,QAAI,wBAAwB;AAE5B,QAAI,QAAQ;AAEZ,QAAI,eAAe;AAEnB,QAAI,OAAO;AAEX,aAAS,uBAAuB,KAAK;AAAE,aAAO,OAAO,IAAI,aAAa,MAAM,EAAE,WAAW,IAAI;AAAA,IAAG;AAEhG,QAAIC,YAAW,SAASA,UAAS,aAAa;AAC5C,UAAI,WAAW,IAAI,WAAW,WAAW;AACzC,cAAQ,GAAG,sBAAsB,QAAQ,GAAG,MAAM,aAAa,QAAQ,GAAG,KAAK,SAAS,CAAC;AAAA,IAC3F;AAEA,IAAAD,SAAQ,WAAWC;AAEnB,QAAI,gBAAgB,SAASC,eAAc,OAAO;AAChD,UAAI,cAAc,MAAM,OAAO;AAC/B,UAAI,YAAY,IAAI,kBAAkB,cAAc,CAAC;AAErD,eAAS,IAAI,GAAG,IAAI,aAAa,KAAK;AACpC,YAAI,MAAM,IAAI;AACd,YAAI,aAAa,MAAM,OAAO,CAAC;AAC/B,YAAI,QAAQ,MAAM,WAAW,UAAU,KAAK,CAAC,GAAG,GAAG,CAAC;AACpD,kBAAU,GAAG,IAAI,MAAM,CAAC;AACxB,kBAAU,MAAM,CAAC,IAAI,MAAM,CAAC;AAC5B,kBAAU,MAAM,CAAC,IAAI,MAAM,CAAC;AAC5B,kBAAU,MAAM,CAAC,IAAI,eAAe,MAAM,mBAAmB,MAAM;AAAA,MACrE;AAEA,aAAO;AAAA,IACT;AAEA,QAAI,kBAAkB,SAASC,iBAAgB,OAAO,KAAK,iBAAiB;AAC1E,UAAI,CAAC,MAAM,OAAO;AAChB,gBAAQ,KAAK,2CAA2C;AACxD;AAAA,MACF;AAEA,UAAI,QAAQ,MAAM;AAElB,UAAI,cAAc,MAAM,WAAW,QAAQ,MAAM,WAAW;AAE5D,UAAI,UAAU,GAAG,KAAK,KAAK,MAAM,KAAK,aAAa,MAAM,KAAK,QAAQ,WAAW;AAEjF,UAAI,MAAM,WAAW,IAAI,YAAY;AACnC,kBAAU,GAAG,aAAa,aAAa,QAAQ,MAAM,WAAW,KAAK;AAAA,MACvE;AAEA,UAAI,cAAc;AAAA,QAChB;AAAA,QACA,MAAM;AAAA,UACJ,KAAK,MAAM,MAAM,WAAW;AAAA,UAC5B,MAAM,MAAM,MAAM,WAAW;AAAA,UAC7B,OAAO,MAAM,MAAM,WAAW;AAAA,UAC9B,QAAQ,MAAM,MAAM,WAAW;AAAA,QACjC;AAAA,MACF;AAEA,UAAI,MAAM,WAAW,OAAO,MAAM,WAAW,IAAI,QAAQ;AACvD,oBAAY,aAAa,MAAM;AAAA,MACjC,OAAO;AACL,oBAAY,aAAa;AAAA,MAC3B;AAGA,UAAI,MAAM,KAAK;AACb,oBAAY,SAAS,MAAM,IAAI,SAAS,MAAM;AAE9C,oBAAY,eAAe,MAAM,IAAI,OAAO;AAE5C,YAAI,MAAM,IAAI,OAAO,uBAAuB;AAC1C,sBAAY,mBAAmB,MAAM,IAAI;AAAA,QAC3C;AAAA,MACF;AAGA,UAAI,iBAAiB;AACnB,oBAAY,QAAQ,cAAc,WAAW;AAAA,MAC/C;AAEA,aAAO;AAAA,IACT;AAEA,IAAAH,SAAQ,kBAAkB;AAE1B,QAAII,oBAAmB,SAASA,kBAAiB,WAAW,mBAAmB;AAC7E,aAAO,UAAU,OAAO,OAAO,SAAU,GAAG;AAC1C,eAAO,EAAE;AAAA,MACX,CAAC,EAAE,IAAI,SAAU,GAAG;AAClB,eAAO,gBAAgB,GAAG,UAAU,KAAK,iBAAiB;AAAA,MAC5D,CAAC;AAAA,IACH;AAEA,IAAAJ,SAAQ,mBAAmBI;AAAA;AAAA;;;;;KCxG3B,SAAAC,GAAAA;AAAA,UAAA,OAAAC,aAAA,YAAA,OAAAC,YAAA,aAAA;AAAAA,QAAAA,QAAAD,UAAAD,EAAAA;MAAAA,WAAA,OAAAG,WAAA,cAAAA,OAAAC,KAAA;AAAAD,eAAAA,CAAAA,GAAAH,CAAAA;MAAAA,OAAA;AAAA,YAAAK;AAAA,YAAA,OAAAC,WAAA,aAAA;AAAAD,cAAAC;QAAAA,WAAA,OAAAC,WAAA,aAAA;AAAAF,cAAAE;QAAAA,WAAA,OAAAC,SAAA,aAAA;AAAAH,cAAAG;QAAAA,OAAA;AAAAH,cAAAI;QAAAA;AAAAJ,UAAAK,MAAAV,EAAAA;MAAAA;IAAAA,GAAA,WAAA;AAAA,UAAAG,SAAAD,SAAAD;AAAA,aAAA,SAAAU,EAAAC,GAAAC,GAAAC,GAAAA;AAAA,iBAAAC,EAAAC,IAAAC,GAAAA;AAAA,cAAA,CAAAJ,EAAAG,EAAAA,GAAA;AAAA,gBAAA,CAAAJ,EAAAI,EAAAA,GAAA;AAAA,kBAAAE,IAAAA,OAAAC,aAAA,cAAAA;AAAA,kBAAA,CAAAF,KAAAC,EAAA,QAAAA,EAAAF,IAAAA,IAAA;AAAA,kBAAAI,EAAA,QAAAA,EAAAJ,IAAAA,IAAA;AAAA,kBAAAhB,IAAA,IAAAqB,MAAA,yBAAAL,KAAA,GAAA;AAAA,oBAAAhB,EAAAsB,OAAA,oBAAAtB;YAAAA;AAAA,gBAAAuB,IAAAV,EAAAG,EAAAA,IAAAA,EAAAf,SAAAA,CAAAA,EAAAA;AAAAW,cAAAI,EAAAA,EAAA,CAAA,EAAAQ,KAAAD,EAAAtB,SAAA,SAAAU,IAAAA;AAAA,kBAAAE,KAAAD,EAAAI,EAAAA,EAAA,CAAA,EAAAL,EAAAA;AAAA,qBAAAI,EAAAF,KAAAA,KAAAF,EAAAA;YAAAA,GAAAY,GAAAA,EAAAtB,SAAAU,GAAAC,GAAAC,GAAAC,CAAAA;UAAAA;AAAA,iBAAAD,EAAAG,EAAAA,EAAAf;QAAAA;AAAA,YAAAmB,IAAAA,OAAAD,aAAA,cAAAA;AAAA,iBAAAH,IAAA,GAAAA,IAAAF,EAAAW,QAAAT,IAAAD,GAAAD,EAAAE,CAAAA,CAAAA;AAAA,eAAAD;MAAAA,EAAAA,EAAAW,GAAAA,CAAA,SAAAP,UAAAjB,SAAAD,UAAAA;ACqBA,iBAAA0B,eAAAA;AACAlB,eAAAmB,UAAAnB,KAAAmB,WAAAA,CAAAA;AACAnB,eAAAoB,gBAAApB,KAAAoB,iBAAAC;QAAAA;AAEA5B,QAAAA,QAAAD,UAAA0B;AAGAA,qBAAAA,eAAAA;AAEAA,qBAAAI,UAAAH,UAAAE;AACAH,qBAAAI,UAAAF,gBAAAC;AAIAH,qBAAAK,sBAAA;AAIAL,qBAAAI,UAAAE,kBAAA,SAAApB,GAAAA;AACA,cAAA,CAAAqB,SAAArB,CAAAA,KAAAA,IAAA,KAAAsB,MAAAtB,CAAAA,EACA,OAAAuB,UAAA,6BAAA;AACA3B,eAAAoB,gBAAAhB;AACA,iBAAAJ;QAAAA;AAGAkB,qBAAAI,UAAAM,OAAA,SAAAC,MAAAA;AACA,cAAAC,IAAAC,SAAAC,KAAAC,MAAAtB,GAAAuB;AAEA,cAAA,CAAAlC,KAAAmB,QACAnB,MAAAmB,UAAAA,CAAAA;AAGA,cAAAU,SAAA,SAAA;AACA,gBAAA,CAAA7B,KAAAmB,QAAAgB,SACAC,SAAApC,KAAAmB,QAAAgB,KAAAA,KAAAA,CAAAnC,KAAAmB,QAAAgB,MAAAnB,QAAA;AACAc,mBAAAO,UAAA,CAAA;AACA,kBAAAP,cAAAlB,OAAA;AACA,sBAAAkB;cAAAA,OACA;AAEA,oBAAAQ,MAAA,IAAA1B,MAAA,2CAAAkB,KAAA,GAAA;AACAQ,oBAAAC,UAAAT;AACA,sBAAAQ;cAAAA;YAAAA;UAAAA;AAKAP,oBAAA/B,KAAAmB,QAAAU,IAAAA;AAEA,cAAAW,YAAAT,OAAAA,EACA,QAAA;AAEA,cAAAU,WAAAV,OAAAA,GAAA;AACA,oBAAAM,UAAArB,QAAAA;cAEA,KAAA;AACAe,wBAAAhB,KAAAf,IAAAA;AACA;cACA,KAAA;AACA+B,wBAAAhB,KAAAf,MAAAqC,UAAA,CAAA,CAAA;AACA;cACA,KAAA;AACAN,wBAAAhB,KAAAf,MAAAqC,UAAA,CAAA,GAAAA,UAAA,CAAA,CAAA;AACA;cAEA;AACAJ,uBAAAS,MAAApB,UAAAqB,MAAA5B,KAAAsB,WAAA,CAAA;AACAN,wBAAAa,MAAA5C,MAAAiC,IAAAA;YAAAA;UAAAA,WAEAG,SAAAL,OAAAA,GAAA;AACAE,mBAAAS,MAAApB,UAAAqB,MAAA5B,KAAAsB,WAAA,CAAA;AACAH,wBAAAH,QAAAY,MAAAA;AACAX,kBAAAE,UAAAlB;AACA,iBAAAL,IAAA,GAAAA,IAAAqB,KAAArB,IACAuB,WAAAvB,CAAAA,EAAAiC,MAAA5C,MAAAiC,IAAAA;UAAAA;AAGA,iBAAA;QAAA;AAGAf,qBAAAI,UAAAuB,cAAA,SAAAhB,MAAAiB,UAAAA;AACA,cAAAC;AAEA,cAAA,CAAAN,WAAAK,QAAAA,EACA,OAAAnB,UAAA,6BAAA;AAEA,cAAA,CAAA3B,KAAAmB,QACAnB,MAAAmB,UAAAA,CAAAA;AAIA,cAAAnB,KAAAmB,QAAA6B,YACAhD,MAAA4B,KAAA,eAAAC,MACAY,WAAAK,SAAAA,QAAAA,IACAA,SAAAA,WAAAA,QAAAA;AAEA,cAAA,CAAA9C,KAAAmB,QAAAU,IAAAA,EAEA7B,MAAAmB,QAAAU,IAAAA,IAAAiB;mBACAV,SAAApC,KAAAmB,QAAAU,IAAAA,CAAAA,EAEA7B,MAAAmB,QAAAU,IAAAA,EAAAoB,KAAAH,QAAAA;cAGA9C,MAAAmB,QAAAU,IAAAA,IAAAA,CAAA7B,KAAAmB,QAAAU,IAAAA,GAAAiB,QAAAA;AAGA,cAAAV,SAAApC,KAAAmB,QAAAU,IAAAA,CAAAA,KAAAA,CAAA7B,KAAAmB,QAAAU,IAAAA,EAAAqB,QAAA;AACA,gBAAA,CAAAV,YAAAxC,KAAAoB,aAAAA,GAAA;AACA2B,kBAAA/C,KAAAoB;YAAAA,OACA;AACA2B,kBAAA7B,aAAAK;YAAAA;AAGA,gBAAAwB,KAAAA,IAAA,KAAA/C,KAAAmB,QAAAU,IAAAA,EAAAb,SAAA+B,GAAA;AACA/C,mBAAAmB,QAAAU,IAAAA,EAAAqB,SAAA;AACAC,sBAAAhB,MAAA,oIAGAnC,KAAAmB,QAAAU,IAAAA,EAAAb,MAAAA;AACA,kBAAA,OAAAmC,QAAAC,UAAA,YAAA;AAEAD,wBAAAC,MAAAA;cAAAA;YAAAA;UAAAA;AAKA,iBAAApD;QAAAA;AAGAkB,qBAAAI,UAAA+B,KAAAnC,aAAAI,UAAAuB;AAEA3B,qBAAAI,UAAAgC,OAAA,SAAAzB,MAAAiB,UAAAA;AACA,cAAA,CAAAL,WAAAK,QAAAA,EACA,OAAAnB,UAAA,6BAAA;AAEA,cAAA4B,QAAA;AAEA,mBAAA3D,IAAAA;AACAI,iBAAAwD,eAAA3B,MAAAjC,CAAAA;AAEA,gBAAA,CAAA2D,OAAA;AACAA,sBAAA;AACAT,uBAAAF,MAAA5C,MAAAqC,SAAAA;YAAAA;UAAAA;AAIAzC,YAAAkD,WAAAA;AACA9C,eAAAqD,GAAAxB,MAAAjC,CAAAA;AAEA,iBAAAI;QAAAA;AAIAkB,qBAAAI,UAAAkC,iBAAA,SAAA3B,MAAAiB,UAAAA;AACA,cAAAW,MAAAC,UAAA1C,QAAAL;AAEA,cAAA,CAAA8B,WAAAK,QAAAA,EACA,OAAAnB,UAAA,6BAAA;AAEA,cAAA,CAAA3B,KAAAmB,WAAAA,CAAAnB,KAAAmB,QAAAU,IAAAA,EACA,QAAA7B;AAEAyD,iBAAAzD,KAAAmB,QAAAU,IAAAA;AACAb,mBAAAyC,KAAAzC;AACA0C,qBAAAA;AAEA,cAAAD,SAAAX,YACAL,WAAAgB,KAAAX,QAAAA,KAAAW,KAAAX,aAAAA,UAAA;AAAA,mBACA9C,KAAAmB,QAAAU,IAAAA;AACA,gBAAA7B,KAAAmB,QAAAqC,eACAxD,MAAA4B,KAAA,kBAAAC,MAAAiB,QAAAA;UAAAA,WAEAV,SAAAqB,IAAAA,GAAA;AACA,iBAAA9C,IAAAK,QAAAL,MAAA,KAAA;AACA,kBAAA8C,KAAA9C,CAAAA,MAAAmC,YACAW,KAAA9C,CAAAA,EAAAmC,YAAAW,KAAA9C,CAAAA,EAAAmC,aAAAA,UAAA;AACAY,2BAAA/C;AACA;cAAA;YAAA;AAIA,gBAAA+C,WAAA,EACA,QAAA1D;AAEA,gBAAAyD,KAAAzC,WAAA,GAAA;AACAyC,mBAAAzC,SAAA;AAAA,qBACAhB,KAAAmB,QAAAU,IAAAA;YAAAA,OACA;AACA4B,mBAAAE,OAAAD,UAAA,CAAA;YAAA;AAGA,gBAAA1D,KAAAmB,QAAAqC,eACAxD,MAAA4B,KAAA,kBAAAC,MAAAiB,QAAAA;UAAAA;AAGA,iBAAA9C;QAAAA;AAGAkB,qBAAAI,UAAAsC,qBAAA,SAAA/B,MAAAA;AACA,cAAAgC,KAAA3B;AAEA,cAAA,CAAAlC,KAAAmB,QACA,QAAAnB;AAGA,cAAA,CAAAA,KAAAmB,QAAAqC,gBAAA;AACA,gBAAAnB,UAAArB,WAAA,EACAhB,MAAAmB,UAAAA,CAAAA;qBACAnB,KAAAmB,QAAAU,IAAAA,EAAAA,QACA7B,KAAAmB,QAAAU,IAAAA;AACA,mBAAA7B;UAAAA;AAIA,cAAAqC,UAAArB,WAAA,GAAA;AACA,iBAAA6C,OAAA7D,KAAAmB,SAAA;AACA,kBAAA0C,QAAA,iBAAA;AACA7D,mBAAA4D,mBAAAC,GAAAA;YAAAA;AAEA7D,iBAAA4D,mBAAA,gBAAA;AACA5D,iBAAAmB,UAAAA,CAAAA;AACA,mBAAAnB;UAAAA;AAGAkC,sBAAAlC,KAAAmB,QAAAU,IAAAA;AAEA,cAAAY,WAAAP,SAAAA,GAAA;AACAlC,iBAAAwD,eAAA3B,MAAAK,SAAAA;UAAAA,WACAA,WAAA;AAEA,mBAAAA,UAAAlB,OACAhB,MAAAwD,eAAA3B,MAAAK,UAAAA,UAAAlB,SAAA,CAAA,CAAA;UAAA;AAAA,iBAEAhB,KAAAmB,QAAAU,IAAAA;AAEA,iBAAA7B;QAAAA;AAGAkB,qBAAAI,UAAAY,YAAA,SAAAL,MAAAA;AACA,cAAAiC;AACA,cAAA,CAAA9D,KAAAmB,WAAAA,CAAAnB,KAAAmB,QAAAU,IAAAA,EACAiC,OAAAA,CAAAA;mBACArB,WAAAzC,KAAAmB,QAAAU,IAAAA,CAAAA,EACAiC,OAAAA,CAAA9D,KAAAmB,QAAAU,IAAAA,CAAAA;cAEAiC,OAAA9D,KAAAmB,QAAAU,IAAAA,EAAAc,MAAAA;AACA,iBAAAmB;QAAAA;AAGA5C,qBAAAI,UAAAyC,gBAAA,SAAAlC,MAAAA;AACA,cAAA7B,KAAAmB,SAAA;AACA,gBAAA6C,aAAAhE,KAAAmB,QAAAU,IAAAA;AAEA,gBAAAY,WAAAuB,UAAAA,EACA,QAAA;qBACAA,WACA,QAAAA,WAAAhD;UAAAA;AAEA,iBAAA;QAAA;AAGAE,qBAAA6C,gBAAA,SAAAE,SAAApC,MAAAA;AACA,iBAAAoC,QAAAF,cAAAlC,IAAAA;QAAAA;AAGA,iBAAAY,WAAAyB,KAAAA;AACA,iBAAA,OAAAA,QAAA;QAAA;AAGA,iBAAAzC,SAAAyC,KAAAA;AACA,iBAAA,OAAAA,QAAA;QAAA;AAGA,iBAAA9B,SAAA8B,KAAAA;AACA,iBAAA,OAAAA,QAAA,YAAAA,QAAA;QAAA;AAGA,iBAAA1B,YAAA0B,KAAAA;AACA,iBAAAA,QAAAA;QAAA;MAAA,GAAA,CAAA,CAAA,GAAA,GAAA,CAAA,SAAAxD,UAAAjB,SAAAD,UAAA;AC5SA,YAAA2E,IAAAC,SAAAC,MAAAC,UAAAC;AAEAA,aAAKC,UAAUC,UAAUC,YAAAA;AACzBJ,mBAAWE,UAAUF,SAASI,YAAAA;AAC9BP,aAAKI,GAAGI,MAAM,6FAAA,KAAA,CAAmG,MAAM,WAAW,CAAA;AAClIN,eAAOF,GAAG,CAAA,MAAM,QAAQS,SAASC;AAEjCT,kBAAAA,EACEU,MAASX,GAAG,CAAA,MAAM,YAAeA,GAAG,CAAA,IAAQA,GAAG,CAAA,GAC/CY,SAASV,QAAQW,WAAcb,GAAG,CAAA,MAAM,WAAWA,GAAG,CAAA,IAAQA,GAAG,CAAA,IAAQA,GAAG,CAAA,CAAA,GAE5EG,UAAAA,EACEQ,MAASP,GAAGI,MAAM,kBAAA,IAAyB,SAAYJ,GAAGI,MAAM,mBAAA,KAAwBL,SAASK,MAAM,eAAA,KAAA,CAAqB,OAAA,GAAU,CAAA,EAAA,EAAA;AAE1IP,gBAAQA,QAAQU,IAAAA,IAAQ;AACxBV,gBAAQA,QAAQU,OAAOG,SAASb,QAAQW,SAAS,EAAA,CAAA,IAAO;AACxDX,gBAAQE,SAASF,QAAQE,SAASQ,IAAAA,IAAQ;AAE1CrF,QAAAA,QAAOD,UAAU4E;MAAAA,GAAAA,CAAAA,CAAAA,GAAAA,GAAAA,CAAAA,SAAAA,UAAAA,SAAAA,UAAAA;AClBjB,YAAAlD,cAAAjB,MAAAmE,SAAAc,SAAA,SAAAC,OAAAC,QAAAA;AAAA,mBAAAvB,OAAAuB,QAAA;AAAA,gBAAAC,QAAAtE,KAAAqE,QAAAvB,GAAAA,EAAAsB,OAAAtB,GAAAA,IAAAuB,OAAAvB,GAAAA;UAAAA;AAAA,mBAAAyB,OAAAA;AAAAtF,iBAAAuF,cAAAJ;UAAAA;AAAAG,eAAAhE,YAAA8D,OAAA9D;AAAA6D,gBAAA7D,YAAA,IAAAgE;AAAAH,gBAAAK,YAAAJ,OAAA9D;AAAA,iBAAA6D;QAAAA,GAAAA,UAAAA,CAAAA,EAAAA,gBAAAA,UAAAA,CAAAA,EAAAA,WAAAA,SAAAA,MAAAA;AAAAA,mBAAAA,IAAAA,GAAAA,IAAAA,KAAAA,QAAAA,IAAAA,GAAAA,KAAAA;AAAAA,gBAAAA,KAAAA,QAAAA,KAAAA,CAAAA,MAAAA,KAAAA,QAAAA;UAAAA;AAAAA,iBAAAA;QAAAA,GAAAA,QAAAA,CAAAA,EAAAA;AAACjE,uBAAgBR,SAAQ,QAAA,EAARQ;AACjBkD,kBAAU1D,SAAQ,kBAAA;AAEZT,QAAAA,OAAA,SAAAwF,YAAAA;AAEJ,cAAAC,UAAAC;AAAAA,iBAAAA,MAAAA,UAAAA;AAAAD,qBAAAA,EACEE,cAAc,iBACdC,SAAS,GACTC,QAAQ,GACRC,YAAY,QACZC,SAAS,IACTC,OAAO,MACPC,QAAQ,MACRC,aAAa,MACbC,OAAO,OACPC,QAAQ,MAAA;AAEVV,0BAAAA,EACEW,OAAO,KACPC,MAAM,MAAA;AAEK,mBAAAtG,KAACuG,SAAAA;AACZ,gBAAAC,MAAA5C,KAAA6C;AAAA1G,iBAAC2G,UAAU;AAEX3G,iBAACwG,UAAAA,CAAAA;AACDxG,iBAAC4G,SAAAA,CAAAA;AAED5G,iBAAC6G,cAAAA,CAAAA;AACD7G,iBAAC8G,gBAAAA,CAAAA;AAED9G,iBAAC+G,WAAWP,OAAAA;AACZ,iBAAA3C,OAAA6B,UAAA;AAAA,sBAAA,SAAA,GAAA;AAAA,mBAAA,OAAA,KAAA,SAAA,GAAA,KAAA,MAAA;AAAA,qBACW7B,GAAAA,IAAQ6C;cAAAA;YAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAErBM,YAAW,SAACnD,KAAK6C,OAAAA;AACf1G,iBAACwG,QAAQ3C,GAAAA,IAAO6C;AAChB,gBAAG1G,KAAAiH,WAAA,SAAcpD,QAAQ,WAARA,QAAiB,WAAlC;AAAA,qBACE7D,KAACiH,QAAQpD,GAAAA,IAAO6C;YAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAEpBK,aAAY,SAACP,SAAAA;AACX,gBAAA3C,KAAAqD,SAAAR;AAAAQ,sBAAAA,CAAAA;AAAAA,iBAAArD,OAAA2C,SAAA;AAAA,kBAAA,CAAA,QAAA,KAAA,SAAA,GAAA,EAAA;AAAA,sBAAA,QAAA,GAAA;AAAA,sBAAA,KAAAxG,KAACgH,UAAUnD,KAAK6C,KAAAA,CAAAA;YAAAA;AAAAA,mBAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAElBS,WAAU,SAACC,OAAOZ,SAAAA;AAChB,gBAAAa,OAAAxD;AAAAA,gBAAAA,WAAAA,MAAAA;AADgB2C,wBAAAA,CAAAA;YAAAA;AAChBa,oBAAAA,CAAAA;AACAA,kBAAMlB,cAAcnG,KAACwG,QAAQL;AAC7B,iBAAAtC,OAAA8B,eAAA;AACE0B,oBAAMxD,GAAAA,IAAO2C,QAAQ3C,GAAAA,KAAQ8B,cAAc9B,GAAAA;YAAAA;AAG7C,gBAAuC7D,KAAAwG,QAAAP,SAAA,MAAvC;AAAAjG,mBAACgH,UAAU,SAASI,MAAMnB,KAAAA;YAAAA;AAC1B,gBAAyCjG,KAAAwG,QAAAN,UAAA,MAAzC;AAAAlG,mBAACgH,UAAU,UAAUI,MAAMlB,MAAAA;YAAAA;AAE3B,gBAAA,OAAGoB,cAAA,eAAAA,cAAA,QAAeF,iBAAiBE,WAAnC;AACGD,oBAAME,OAAOH,MAAMG;YAAAA,WACjB,OAAIC,6BAAA,eAAAA,6BAAA,QAA8BJ,iBAAiBI,4BAAAA,OAA8BC,0BAAA,eAAAA,0BAAA,QAA2BL,iBAAiBK,uBAA7H;AACH,kBAAGjB,QAAQD,MAAX;AACEc,sBAAME,OAAOvH,KAAC0H,eAAeN,KAAAA;cAAAA,OAD/B;AAGEC,sBAAM9E,UAAU6E;cAAAA;YAAAA,WACZA,MAAAO,cAAA,MAAH;AACH,kBAAGnB,QAAQD,MAAX;AACEc,sBAAME,OAAOvH,KAAC4H,aAAaR,KAAAA;cAAAA,OAD7B;AAGEC,sBAAMD,QAAQA;cAAAA;YAAAA,OAJb;AAMH,oBAAU,IAAAxG,MAAM,eAAA;YAAA;AAAA,mBAElBZ,KAAC4G,OAAO3D,KAAKoE,KAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAEfQ,SAAQ,WAAA;AACN,gBAAAlH,GAAAmH,GAAAC,YAAAC;AAAA,gBAAqChI,KAAC2G,SAAtC;AAAA,oBAAU,IAAA/F,MAAM,iBAAA;YAAA;AAEhB,gBAAOZ,KAAAwG,QAAAP,SAAA,QAAuBjG,KAAAwG,QAAAN,UAAA,MAA9B;AACE,oBAAU,IAAAtF,MAAM,iDAAA;YAAA;AAElBZ,iBAAC2G,UAAU;AACX3G,iBAACiI,YAAY;AACbjI,iBAACkI,iBAAiB;AAElBlI,iBAACmI,cAAD,WAAA;AAAA,kBAAAL,IAAAE,MAAA;AAAed,wBAAAA,CAAAA;AAAAA,mBAAcvG,IAAAmH,KAAA,GAAAE,OAAAhI,KAAA4G,OAAA5F,QAAA,KAAAgH,OAAAF,KAAAE,OAAAF,KAAAE,MAAArH,IAAA,KAAAqH,OAAAA,EAAAF,KAAAA,EAAAA,IAAd;AAAA,wBAAA,KAAA,IAAA;cAAA;AAAA,qBAAA;YAAA,GAAA,KAAA,IAAA;AACfC,yBAAa/H,KAACoI,aAAAA;AAEd,gBAAGpI,KAACwG,QAAQ6B,kBAAiB,MAA7B;AACErI,mBAACsI,gBAAAA;YAAAA,OADH;AAGE,mBAA4B3H,IAAAmH,IAAA,GAAAE,MAAAD,YAAA,KAAAC,MAAAF,IAAAE,MAAAF,IAAAE,KAAArH,IAAA,KAAAqH,MAAAA,EAAAF,IAAAA,EAAAA,GAA5B;AAAA9H,qBAACsI,gBAAAA;cAAAA;YAAAA;AAEHtI,iBAAC4B,KAAK,OAAA;AAAA,mBACN5B,KAAC4B,KAAK,YAAY,CAAA;UAAA;AAAA,UAAA3B,KAAA,UAEpBsI,QAAO,WAAA;AACL,gBAAAC;AAAA,mBAAA,MAAA;AACEA,uBAASxI,KAAC8G,cAAc2B,MAAAA;AACxB,kBAAaD,UAAA,MAAb;AAAA;cAAA;AACAxI,mBAAC0I,IAAI,uBAAA;AACLF,qBAAOG,UAAAA;YAAAA;AACT3I,iBAAC2G,UAAU;AAAA,mBACX3G,KAAC4B,KAAK,OAAA;UAAA;AAAA,UAAA3B,KAAA,UAIRmI,eAAc,WAAA;AACZ,gBAAAN,GAAAC,YAAAC,KAAAd;AAAAa,yBAAaa,KAAKC,IAAI7I,KAACwG,QAAQX,SAAS7F,KAAC4G,OAAO5F,MAAAA;AAAAA,aAChD,WAAA;AAAA,wBAAA,CAAA;AAAA,uBAAA8G,KAAA,MAAA,KAAA,YAAA,QAAA,OAAA,aAAAA,KAAA,aAAAA,KAAA,YAAA,OAAA,aAAAA,OAAAA,MAAA;AAAA,wBAAA,KAAAA,EAAA;cAAA;AAAA,qBAAA;YAAA,GAAA,MAAA,IAAA,EAAmCgB,QAAQ,yBAAAC,OAAAA;AAAAA,qBAAA,SAACpI,GAAAA;AAC1C,oBAAA6H;AAAAO,sBAACL,IAAI,qBAAoB/H,CAAAA;AACzB6H,yBAAa,IAAAQ,OAAOD,MAACvC,QAAQZ,YAAAA;AAC7B4C,uBAAOS,YAAY,SAACC,OAAAA;AAClBH,wBAACjC,cAAcnD,OAAOoF,MAACjC,cAAcqC,QAAQX,MAAAA,GAAS,CAAA;AACtDO,wBAAClC,YAAY5D,KAAKuF,MAAAA;AAAAA,yBAClBO,MAACK,cAAcF,MAAM3B,IAAAA;gBAAAA;AAAAA,uBACvBwB,MAAClC,YAAY5D,KAAKuF,MAAAA;cAAAA;YAAAA,EAPuBxI,IAAAA,CAAAA;AAQ3C,mBAAO+H;UAAAA;AAAAA,UAAAA,KAAAA,UAETqB,gBAAe,SAAC/B,OAAAA;AACd,gBAAA1G,GAAAmH,GAAAE;AAAAhI,iBAAC0I,IAAI,WAAUrB,MAAMgC,QAAO,iBAAerJ,KAAC8G,cAAc9F,SAAQ,SAAA;AAClEhB,iBAACkI;AACDlI,iBAAC4B,KAAK,YAAY5B,KAACkI,iBAAiBlI,KAAC4G,OAAO5F,MAAAA;AAC5ChB,iBAACmI,WAAWd,MAAMgC,KAAAA,IAAShC;AAE3B,gBAAGrH,KAACwG,QAAQ6B,kBAAiB,MAA7B;AACErI,mBAACwG,QAAQ6B,gBAAgBhB,MAAMgB;AAC/BrI,mBAAC0I,IAAI,yBAAA;AACL,kBAAyD1I,KAAC4G,OAAO5F,SAAS,GAA1E;AAAA,qBAA4BL,IAAAmH,IAAA,GAAAE,MAAAhI,KAAA6G,YAAA7F,QAAA,KAAAgH,MAAAF,IAAAE,MAAAF,IAAAE,KAAArH,IAAA,KAAAqH,MAAAA,EAAAF,IAAAA,EAAAA,GAA5B;AAAA9H,uBAACsI,gBAAAA;gBAAAA;cAAAA;YAAAA;AACH,gBAAGa,QAAApI,KAAQf,KAACmI,YAAT,IAAA,KAAA,GAAH;AAAA,qBACEnI,KAACsI,gBAAAA;YAAAA,OADH;AAAA,qBAGEtI,KAACsJ,gBAAAA;YAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAELA,kBAAiB,WAAA;AACf,gBAAA/B,MAAAF,OAAA1G,GAAAyG,OAAAU,GAAAyB,GAAAzI,GAAAkB,KAAAwH,MAAAC,MAAAC,MAAAC,QAAAC,MAAA5B,KAAA6B,MAAAC;AAAA9H,kBAAM;AACNgG,kBAAAhI,KAAAmI;AAAA,iBAAAL,IAAA,GAAA0B,OAAAxB,IAAAhH,QAAA8G,IAAA0B,MAAA1B,KAAA;AAAA,sBAAA,IAAA,CAAA;AACE9F,sBAAQqF,MAAME,KAAKvG,SAAS,KAAKqG,MAAM0C,WAAW1C,MAAM2C;YAAAA;AAC1DhI,mBAAOqF,MAAM0C,WAAW1C,MAAM2C;AAC9BhK,iBAAC0I,IAAI,mCAAkCE,KAAKqB,MAAMjI,MAAM,GAAA,IAAO,IAAA;AAC/DuF,mBAAW,IAAA2C,WAAWlI,GAAAA;AACtB2H,qBAAS;AACTE,mBAAA7J,KAAAmI;AAAA,iBAAAoB,IAAA,GAAAE,OAAAI,KAAA7I,QAAAuI,IAAAE,MAAAF,KAAA;AAAA,sBAAA,KAAA,CAAA;AACEO,qBAAAzC,MAAAE;AAAA,mBAAA5G,IAAAG,IAAA,GAAA4I,OAAAI,KAAA9I,QAAAF,IAAA4I,MAAA/I,IAAAA,EAAAG,GAAA;AAAA,uBAAA,KAAA,CAAA;AACEyG,qBAAK4C,IAAIP,MAAMD,MAAAA;AACf,oBAAGhJ,MAAK0G,MAAME,KAAKvG,SAAS,GAA5B;AACE2I,4BAAUtC,MAAM2C;gBAAAA,OADlB;AAGEL,4BAAUtC,MAAM0C;gBAAAA;cAAAA;YAAAA;AAEtB3C,oBAAY,IAAAgD,KAAAA,CAAM7C,IAAAA,GAAAA,EAChB1F,MAAM,YAAA,CAAA;AAAA,mBAER7B,KAAC4B,KAAK,YAAYwF,OAAOG,IAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAE3Be,kBAAiB,WAAA;AACf,gBAAAjB,OAAAgD,MAAA7B;AAAA,gBAAqCxI,KAAC6G,YAAY7F,WAAU,GAA5D;AAAA,oBAAU,IAAAJ,MAAM,iBAAA;YAAA;AAChB,gBAAUZ,KAACiI,aAAajI,KAAC4G,OAAO5F,QAAhC;AAAA;YAAA;AAEAqG,oBAAQrH,KAAC4G,OAAO5G,KAACiI,WAAAA;AACjBO,qBAASxI,KAAC6G,YAAY4B,MAAAA;AACtB4B,mBAAOrK,KAACsK,QAAQjD,KAAAA;AAEhBrH,iBAAC0I,IAAI,qBAAmB2B,KAAKhB,QAAQ,KAAG,SAAOrJ,KAAC4G,OAAO5F,MAAAA;AACvDhB,iBAAC8G,cAAc7D,KAAKuF,MAAAA;AAAAA,mBACpBA,OAAO+B,YAAYF,IAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAErB3C,iBAAgB,SAAC8C,KAAAA;AACf,mBAAOA,IAAI5C,aAAa,GAAG,GAAG5H,KAACwG,QAAQP,OAAOjG,KAACwG,QAAQN,MAAAA,EAAQqB;UAAAA;AAAAA,UAAAA,KAAAA,UAEjEK,eAAc,SAACR,OAAAA;AACb,gBAAAoD;AAAA,gBAAOxK,KAAAiH,WAAA,MAAP;AACEjH,mBAACiH,UAAUrC,SAAS6F,cAAc,QAAA;AAClCzK,mBAACiH,QAAQhB,QAAQjG,KAACwG,QAAQP;AAC1BjG,mBAACiH,QAAQf,SAASlG,KAACwG,QAAQN;YAAAA;AAE7BsE,kBAAMxK,KAACiH,QAAQyD,WAAW,IAAA;AAC1BF,gBAAIG,UAAU3K,KAACwG,QAAQT;AACvByE,gBAAII,SAAS,GAAG,GAAG5K,KAACwG,QAAQP,OAAOjG,KAACwG,QAAQN,MAAAA;AAC5CsE,gBAAIK,UAAUzD,OAAO,GAAG,CAAA;AAExB,mBAAOpH,KAAC0H,eAAe8C,GAAAA;UAAAA;AAAAA,UAAAA,KAAAA,UAEzBF,UAAS,SAACjD,OAAAA;AACR,gBAAAgC,OAAAgB;AAAAhB,oBAAQrJ,KAAC4G,OAAOuC,QAAQ9B,KAAAA;AACxBgD,mBAAAA,EACEhB,OACAyB,MAAMzB,UAAUrJ,KAAC4G,OAAO5F,SAAS,GACjCsF,OAAOe,MAAMf,OACbH,aAAakB,MAAMlB,aACnBF,OAAOjG,KAACwG,QAAQP,OAChBC,QAAQlG,KAACwG,QAAQN,QACjBF,SAAShG,KAACwG,QAAQR,SAClBK,QAAQrG,KAACwG,QAAQH,QACjBgC,eAAerI,KAACwG,QAAQ6B,eACxBvC,QAAQ9F,KAACwG,QAAQV,QACjBiF,aAAc3G,QAAQU,SAAQ,SAAA;AAEhC,gBAAGuC,MAAAE,QAAA,MAAH;AACE8C,mBAAK9C,OAAOF,MAAME;YAAAA,WACZF,MAAA9E,WAAA,MAAH;AACH8H,mBAAK9C,OAAOvH,KAAC0H,eAAeL,MAAM9E,OAAAA;YAAAA,WAC5B8E,MAAAD,SAAA,MAAH;AACHiD,mBAAK9C,OAAOvH,KAAC4H,aAAaP,MAAMD,KAAAA;YAAAA,OAD7B;AAGH,oBAAU,IAAAxG,MAAM,eAAA;YAAA;AAElB,mBAAOyJ;UAAAA;AAAAA,UAAAA,KAAAA,UAET3B,MAAK,WAAA;AACH,gBAAAzG;AADIA,mBAAA,KAAAI,UAAArB,SAAA2B,MAAA5B,KAAAsB,WAAA,CAAA,IAAA,CAAA;AACJ,gBAAA,CAAcrC,KAACwG,QAAQJ,OAAvB;AAAA;YAAA;AAAA,mBACAjD,QAAQuF,IAAR9F,MAAAO,SAAYlB,IAAAA;UAAAA;AAAAA,iBAAAA;QAAAA,EA1MEf,YAAAA;AA6MlBzB,QAAAA,QAAOD,UAAUS;MAAAA,GAAAA,EAAAA,oBAAAA,GAAAA,QAAAA,EAAAA,CAAAA,EAAAA,GAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA;IAAAA,CAAAA;;;;;AChNjB;AAAA;AAAA;AACA,QAAM,UAAU,OAAK,CAAC,GAAG,CAAC,EAAE,IAAI,OAAK,EAAE,WAAW,CAAC,CAAC;AACpD,QAAM,iBAAiB,QAAQ,sBAAsB;AACrD,QAAM,mBAAmB,QAAQ,qBAAqB;AACtD,QAAM,WAAW,QAAQ,aAAa;AAEtC,aAAS,aAAa,KAAK,SAAS,GAAG;AACtC,UAAI,IAAI,IAAI,MAAM;AAClB,UAAI,MAAM;AACV,UAAI,IAAI;AACR,aAAO,EAAE,IAAI,GAAG;AACf,eAAO;AACP,aAAK,IAAI,SAAS,CAAC,IAAI;AAAA,MACxB;AAEA,aAAO;AAAA,IACR;AAEA,QAAM,WAAW,WAAS;AACzB,UAAI,EAAE,iBAAiB,cAAc,iBAAiB,eAAe,OAAO,SAAS,KAAK,IAAI;AAC7F,cAAM,IAAI,UAAU,wGAAwG,OAAO,KAAK,IAAI;AAAA,MAC7I;AAEA,YAAM,MAAM,iBAAiB,aAAa,QAAQ,IAAI,WAAW,KAAK;AAEtE,UAAI,EAAE,OAAO,IAAI,SAAS,IAAI;AAC7B,eAAO;AAAA,MACR;AAEA,YAAM,QAAQ,CAAC,QAAQ,YAAY;AAClC,kBAAU,OAAO,OAAO;AAAA,UACvB,QAAQ;AAAA,QACT,GAAG,OAAO;AAEV,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AAEvC,cAAI,QAAQ,MAAM;AAEjB,gBAAI,OAAO,CAAC,OAAO,QAAQ,KAAK,CAAC,IAAI,IAAI,IAAI,QAAQ,MAAM,IAAI;AAC9D,qBAAO;AAAA,YACR;AAAA,UACD,WAAW,OAAO,CAAC,MAAM,IAAI,IAAI,QAAQ,MAAM,GAAG;AACjD,mBAAO;AAAA,UACR;AAAA,QACD;AAEA,eAAO;AAAA,MACR;AAEA,YAAM,cAAc,CAAC,QAAQ,YAAY,MAAM,QAAQ,MAAM,GAAG,OAAO;AAEvE,UAAI,MAAM,CAAC,KAAM,KAAM,GAAI,CAAC,GAAG;AAC9B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AAC5D,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,EAAI,CAAC,GAAG;AAC9B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,WACE,MAAM,CAAC,IAAM,IAAM,IAAM,CAAG,CAAC,KAAK,MAAM,CAAC,IAAM,IAAM,GAAK,EAAI,CAAC,MAChE,MAAM,CAAC,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAC9B;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,IAAM,IAAM,IAAM,CAAG,CAAC,KAC7B,MAAM,CAAC,IAAM,IAAM,GAAK,EAAI,CAAC,GAC5B;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,EAAI,CAAC,GAAG;AACxB,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,GAAI,CAAC,GAAG;AAC9B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAIA,UAAI,MAAM,CAAC,IAAM,IAAM,GAAK,CAAG,CAAC,GAAG;AAClC,YACC,MAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAM,KAAM,KAAM,KAAM,KAAM,IAAM,IAAM,KAAM,KAAM,KAAM,KAAM,IAAM,KAAM,KAAM,KAAM,IAAM,IAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAC3L;AACD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAGA,YAAI,MAAM,gBAAgB,EAAC,QAAQ,GAAE,CAAC,GAAG;AACxC,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,YAAY,mDAAmD,EAAC,QAAQ,GAAE,CAAC,GAAG;AACjF,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,YAAY,0DAA0D,EAAC,QAAQ,GAAE,CAAC,GAAG;AACxF,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,YAAY,2DAA2D,EAAC,QAAQ,GAAE,CAAC,GAAG;AACzF,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAQA,cAAM,yBAAyB,CAAC,KAAK,UAAU,MAAM,IAAI,UAAU,CAAC,IAAI,GAAG+K,SAAQ,KAAK,WAAWA,KAAI,CAAC,MAAM,MAAQA,KAAI,IAAI,CAAC,MAAM,MAAQA,KAAI,IAAI,CAAC,MAAM,KAAOA,KAAI,IAAI,CAAC,MAAM,CAAG;AAErL,YAAI,iBAAiB;AACrB,YAAI,YAAY;AAChB,YAAI,OAAO;AAEX,WAAG;AACF,gBAAM,SAAS,iBAAiB;AAEhC,cAAI,CAAC,WAAW;AACf,wBAAa,MAAM,kBAAkB,EAAC,OAAM,CAAC,KAAK,MAAM,UAAU,EAAC,OAAM,CAAC;AAAA,UAC3E;AAEA,cAAI,CAAC,MAAM;AACV,gBAAI,YAAY,SAAS,EAAC,OAAM,CAAC,GAAG;AACnC,qBAAO;AAAA,gBACN,KAAK;AAAA,gBACL,MAAM;AAAA,cACP;AAAA,YACD,WAAW,YAAY,QAAQ,EAAC,OAAM,CAAC,GAAG;AACzC,qBAAO;AAAA,gBACN,KAAK;AAAA,gBACL,MAAM;AAAA,cACP;AAAA,YACD,WAAW,YAAY,OAAO,EAAC,OAAM,CAAC,GAAG;AACxC,qBAAO;AAAA,gBACN,KAAK;AAAA,gBACL,MAAM;AAAA,cACP;AAAA,YACD;AAAA,UACD;AAEA,cAAI,aAAa,MAAM;AACtB,mBAAO;AAAA,UACR;AAEA,2BAAiB,uBAAuB,KAAK,MAAM;AAAA,QACpD,SAAS,kBAAkB;AAG3B,YAAI,MAAM;AACT,iBAAO;AAAA,QACR;AAAA,MACD;AAEA,UACC,MAAM,CAAC,IAAM,EAAI,CAAC,MACjB,IAAI,CAAC,MAAM,KAAO,IAAI,CAAC,MAAM,KAAO,IAAI,CAAC,MAAM,OAC/C,IAAI,CAAC,MAAM,KAAO,IAAI,CAAC,MAAM,KAAO,IAAI,CAAC,MAAM,IAC/C;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,KAAM,KAAM,IAAM,GAAI,GAAG,EAAC,QAAQ,IAAG,CAAC,GAAG;AACzD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,IAAM,IAAM,KAAM,IAAM,IAAM,CAAG,CAAC,MACxC,IAAI,CAAC,MAAM,KAAO,IAAI,CAAC,MAAM,IAC7B;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,KAAM,CAAG,CAAC,GAAG;AAC7B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,GAAI,CAAC,GAAG;AAC9B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,KAAM,KAAM,KAAM,IAAM,EAAI,CAAC,GAAG;AAChD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,CAAI,CAAC,GAAG;AACxB,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,KAAM,KAAM,EAAI,CAAC;AAAA,MAEhC,MAAM,CAAC,GAAK,GAAK,CAAG,CAAC,KAAK,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,MAEnE,MAAM,CAAC,KAAM,KAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,KAAM,KAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MACrC,MAAM,CAAC,KAAM,IAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,IAE3C;AACH,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,KAAM,GAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,IAAM,KAAM,GAAI,CAAC,GAAG;AACpC,cAAM,SAAS,IAAI,SAAS,GAAG,IAAI,IAAI;AACvC,cAAM,QAAQ,OAAO,UAAU,CAAC,IAAI,GAAG,QAAQ,IAAI,CAAC,MAAM,MAAQ,IAAI,IAAI,CAAC,MAAM,GAAI;AAErF,YAAI,UAAU,IAAI;AACjB,gBAAM,aAAa,QAAQ;AAC3B,gBAAM,cAAc,UAAQ,CAAC,GAAG,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM,OAAO,aAAa,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;AAEhG,cAAI,YAAY,UAAU,GAAG;AAC5B,mBAAO;AAAA,cACN,KAAK;AAAA,cACL,MAAM;AAAA,YACP;AAAA,UACD;AAEA,cAAI,YAAY,MAAM,GAAG;AACxB,mBAAO;AAAA,cACN,KAAK;AAAA,cACL,MAAM;AAAA,YACP;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,GAAK,GAAK,GAAK,IAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAM,EAAI,CAAC,KAC9E,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,KACnE,MAAM,CAAC,KAAM,KAAM,IAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC;AAAA,MAC3C,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AAC9C,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,YAAI,MAAM,CAAC,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AAC3C,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAGA,YAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,IAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAM,KAAM,GAAI,CAAC,GAAG;AAGxE,YAAI,SAAS;AACb,WAAG;AACF,gBAAM,aAAa,aAAa,KAAK,SAAS,EAAE;AAChD,cAAI,MAAM,CAAC,KAAM,GAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAM,KAAM,KAAM,GAAM,KAAM,IAAM,IAAM,IAAM,GAAI,GAAG,EAAC,OAAM,CAAC,GAAG;AAEtH,gBAAI,MAAM,CAAC,IAAM,KAAM,KAAM,KAAM,IAAM,IAAM,KAAM,IAAM,KAAM,KAAM,GAAM,KAAM,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,SAAS,GAAE,CAAC,GAAG;AAEnI,qBAAO;AAAA,gBACN,KAAK;AAAA,gBACL,MAAM;AAAA,cACP;AAAA,YACD;AAEA,gBAAI,MAAM,CAAC,KAAM,KAAM,IAAM,KAAM,IAAM,IAAM,KAAM,IAAM,KAAM,KAAM,GAAM,KAAM,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,SAAS,GAAE,CAAC,GAAG;AAEnI,qBAAO;AAAA,gBACN,KAAK;AAAA,gBACL,MAAM;AAAA,cACP;AAAA,YACD;AAEA;AAAA,UACD;AAEA,oBAAU;AAAA,QACX,SAAS,SAAS,MAAM,IAAI;AAG5B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,GAAK,GAAK,GAAK,GAAI,CAAC,KAC3B,MAAM,CAAC,GAAK,GAAK,GAAK,GAAI,CAAC,GAC1B;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,KAAM,KAAM,KAAM,IAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AAC7D,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,eAAS,QAAQ,GAAG,QAAQ,KAAK,QAAS,IAAI,SAAS,IAAK,SAAS;AACpE,YACC,MAAM,CAAC,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,MAAK,CAAC;AAAA,QACzC,MAAM,CAAC,KAAM,GAAI,GAAG,EAAC,QAAQ,OAAO,MAAM,CAAC,KAAM,GAAI,EAAC,CAAC,GACtD;AACD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YACC,MAAM,CAAC,KAAM,GAAI,GAAG,EAAC,QAAQ,OAAO,MAAM,CAAC,KAAM,GAAI,EAAC,CAAC,GACtD;AACD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YACC,MAAM,CAAC,KAAM,GAAI,GAAG,EAAC,QAAQ,OAAO,MAAM,CAAC,KAAM,GAAI,EAAC,CAAC,GACtD;AACD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YACC,MAAM,CAAC,KAAM,GAAI,GAAG,EAAC,QAAQ,OAAO,MAAM,CAAC,KAAM,GAAI,EAAC,CAAC,GACtD;AACD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAEA,UACC,MAAM,CAAC,KAAM,KAAM,KAAM,KAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAC5D;AACD,eAAO;AAAA;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,KAAM,KAAM,KAAM,IAAM,KAAM,IAAM,GAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AAC1E,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,KAAM,KAAM,EAAI,CAAC,GAAG;AAIpC,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AACpE,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAGA,YAAI,MAAM,CAAC,GAAM,KAAM,KAAM,KAAM,KAAM,KAAM,CAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AACpE,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAGA,YAAI,MAAM,CAAC,KAAM,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AACxD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAGA,YAAI,MAAM,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AACpE,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAGA,YAAI,MAAM,CAAC,GAAM,KAAM,KAAM,KAAM,IAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AACpE,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAGA,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AAChD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,EAAI,CAAC,GAAG;AACxB,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,WACE,IAAI,CAAC,MAAM,MAAQ,IAAI,CAAC,MAAM,OAC/B,MAAM,CAAC,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAC9B;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,IAAM,KAAM,KAAM,GAAI,CAAC,GAAG;AAC1C,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,GAAM,IAAM,KAAM,GAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,KAAM,IAAM,IAAM,EAAI,CAAC,MAE7B,MAAM,CAAC,GAAM,GAAM,GAAM,CAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,KAC3C,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,IAE3C;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,KAAM,IAAM,IAAM,EAAI,CAAC,MAE7B,MAAM,CAAC,GAAM,GAAM,GAAM,CAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,KAC3C,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,IAE3C;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,IAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,MAE/B,MAAM,CAAC,GAAM,GAAM,CAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,KACrC,MAAM,CAAC,GAAM,GAAM,CAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,KACrC,MAAM,CAAC,GAAM,GAAM,CAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,IAErC;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,GAAM,GAAM,GAAM,GAAM,CAAI,CAAC,GAAG;AAC1C,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,IAAM,CAAI,CAAC,GAAG;AAC1C,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,GAAM,GAAM,GAAM,CAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,GAAM,GAAM,GAAM,CAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,CAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,EAAI,CAAC,GAAG;AACxB,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,IAAM,KAAM,IAAM,IAAM,CAAI,CAAC,GAAG;AAChD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,GAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,KAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,KAC9B,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAC7B;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,KAAM,IAAM,KAAM,IAAM,IAAM,KAAM,KAAM,IAAM,KAAM,IAAM,KAAM,IAAM,IAAM,KAAM,KAAM,IAAM,KAAM,GAAI,CAAC,GAAG;AAC1I,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,KAAM,IAAM,KAAM,EAAI,CAAC,GAAG;AACtD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UACC,MAAM,CAAC,IAAM,GAAI,CAAC,KAClB,MAAM,CAAC,IAAM,GAAI,CAAC,GACjB;AACD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,KAAM,IAAM,KAAM,KAAM,KAAM,IAAM,GAAI,CAAC,GAAG;AAC5D,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,CAAI,CAAC,GAAG;AAChG,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,MAAM,MAAM,CAAC,EAAI,GAAG,EAAC,QAAQ,IAAG,CAAC,KAAK,MAAM,CAAC,EAAI,GAAG,EAAC,QAAQ,IAAG,CAAC,IAAI;AACjG,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACtD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,GAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,GAAM,GAAM,GAAM,IAAM,KAAM,IAAM,IAAM,IAAM,IAAM,IAAM,KAAM,EAAI,CAAC,GAAG;AAGpF,YAAI,MAAM,CAAC,KAAM,KAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AAClD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AAClD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AAClD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AAClD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,YAAY,QAAQ,GAAG;AAC1B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,GAAE,CAAC,GAAG;AAC1E,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjD,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjD,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,KAAK,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjG,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAEA,YAAI,MAAM,CAAC,KAAM,KAAM,KAAM,EAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,KAAK,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,GAAG,EAAC,QAAQ,EAAC,CAAC,GAAG;AACjG,iBAAO;AAAA,YACN,KAAK;AAAA,YACL,MAAM;AAAA,UACP;AAAA,QACD;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,KAAM,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpF,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,GAAG,EAAC,QAAQ,IAAG,CAAC,GAAG;AACnD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,IAAM,EAAI,CAAC,GAAG;AAC9B,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAGA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AACpC,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,IAAM,IAAM,IAAM,IAAM,IAAM,EAAI,CAAC,GAAG;AAChD,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,KAAM,IAAM,IAAM,GAAM,GAAM,GAAM,CAAI,CAAC,GAAG;AAC5D,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,UAAI,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,CAAC,KAAK,MAAM,CAAC,KAAM,KAAM,KAAM,GAAI,CAAC,GAAG;AACvE,eAAO;AAAA,UACN,KAAK;AAAA,UACL,MAAM;AAAA,QACP;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAEA,WAAO,UAAU;AAEjB,WAAO,QAAQ,UAAU;AAEzB,WAAO,eAAe,UAAU,gBAAgB,EAAC,OAAO,KAAI,CAAC;AAE7D,WAAO,QAAQ,SAAS,oBAAkB,IAAI,QAAQ,CAAC,SAAS,WAAW;AAE1E,YAAM,SAAS,KAAK,SAAS,EAAE,QAAQ;AAEvC,qBAAe,KAAK,YAAY,MAAM;AACrC,cAAM,OAAO,IAAI,OAAO,YAAY;AACpC,cAAM,QAAQ,eAAe,KAAK,OAAO,QAAQ,YAAY,KAAK,eAAe,KAAK;AACtF,YAAI;AACH,eAAK,WAAW,SAAS,KAAK;AAAA,QAC/B,SAAS,OAAO;AACf,iBAAO,KAAK;AAAA,QACb;AAEA,uBAAe,QAAQ,KAAK;AAE5B,YAAI,OAAO,UAAU;AACpB,kBAAQ,OAAO,SAAS,gBAAgB,MAAM,MAAM;AAAA,UAAC,CAAC,CAAC;AAAA,QACxD,OAAO;AACN,kBAAQ,eAAe,KAAK,IAAI,CAAC;AAAA,QAClC;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AAAA;AAAA;;;ACx7BD;AAAA,+EAAAC,UAAAC,SAAA;AAAA;AACA,QAAMC,YAAW;AAEjB,QAAM,YAAY,oBAAI,IAAI;AAAA,MACzB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD,CAAC;AAED,QAAMC,aAAY,WAAS;AAC1B,YAAM,MAAMD,UAAS,KAAK;AAC1B,aAAO,UAAU,IAAI,OAAO,IAAI,GAAG,IAAI,MAAM;AAAA,IAC9C;AAEA,IAAAD,QAAO,UAAUE;AAEjB,IAAAF,QAAO,QAAQ,UAAUE;AAEzB,WAAO,eAAeA,YAAW,gBAAgB,EAAC,OAAOD,UAAS,aAAY,CAAC;AAAA;AAAA;;;ACG/E,uBAA2C;AApC3C,IAAI,YAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAUE,UAAS;AAAE,MAAAA,SAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAUA,UAASC,SAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAOD,SAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AACA,IAAI,cAA4C,SAAU,SAAS,MAAM;AACrE,MAAI,IAAI,EAAE,OAAO,GAAG,MAAM,WAAW;AAAE,QAAI,EAAE,CAAC,IAAI,EAAG,OAAM,EAAE,CAAC;AAAG,WAAO,EAAE,CAAC;AAAA,EAAG,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG;AAC/G,SAAO,IAAI,EAAE,MAAM,KAAK,CAAC,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,KAAK,CAAC,EAAE,GAAG,OAAO,WAAW,eAAe,EAAE,OAAO,QAAQ,IAAI,WAAW;AAAE,WAAO;AAAA,EAAM,IAAI;AACvJ,WAAS,KAAK,GAAG;AAAE,WAAO,SAAU,GAAG;AAAE,aAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IAAG;AAAA,EAAG;AACjE,WAAS,KAAK,IAAI;AACd,QAAI,EAAG,OAAM,IAAI,UAAU,iCAAiC;AAC5D,WAAO,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,IAAI,KAAK,EAAG,KAAI;AAC1C,UAAI,IAAI,GAAG,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,QAAQ,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,OAAO,IAAI,EAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,KAAM,QAAO;AAC3J,UAAI,IAAI,GAAG,EAAG,MAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,KAAK;AACtC,cAAQ,GAAG,CAAC,GAAG;AAAA,QACX,KAAK;AAAA,QAAG,KAAK;AAAG,cAAI;AAAI;AAAA,QACxB,KAAK;AAAG,YAAE;AAAS,iBAAO,EAAE,OAAO,GAAG,CAAC,GAAG,MAAM,MAAM;AAAA,QACtD,KAAK;AAAG,YAAE;AAAS,cAAI,GAAG,CAAC;AAAG,eAAK,CAAC,CAAC;AAAG;AAAA,QACxC,KAAK;AAAG,eAAK,EAAE,IAAI,IAAI;AAAG,YAAE,KAAK,IAAI;AAAG;AAAA,QACxC;AACI,cAAI,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI;AAAE,gBAAI;AAAG;AAAA,UAAU;AAC3G,cAAI,GAAG,CAAC,MAAM,MAAM,CAAC,KAAM,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAK;AAAE,cAAE,QAAQ,GAAG,CAAC;AAAG;AAAA,UAAO;AACrF,cAAI,GAAG,CAAC,MAAM,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,gBAAI;AAAI;AAAA,UAAO;AACpE,cAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,cAAE,IAAI,KAAK,EAAE;AAAG;AAAA,UAAO;AAClE,cAAI,EAAE,CAAC,EAAG,GAAE,IAAI,IAAI;AACpB,YAAE,KAAK,IAAI;AAAG;AAAA,MACtB;AACA,WAAK,KAAK,KAAK,SAAS,CAAC;AAAA,IAC7B,SAAS,GAAG;AAAE,WAAK,CAAC,GAAG,CAAC;AAAG,UAAI;AAAA,IAAG,UAAE;AAAU,UAAI,IAAI;AAAA,IAAG;AACzD,QAAI,GAAG,CAAC,IAAI,EAAG,OAAM,GAAG,CAAC;AAAG,WAAO,EAAE,OAAO,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,MAAM,KAAK;AAAA,EACnF;AACJ;AAEA,IAAI;AAAA;AAAA,EAAyB,WAAY;AACrC,aAASE,SAAQ,KAAK;AAClB,aAAO,eAAe,MAAM,OAAO;AAAA,QAC/B,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,YAAY;AAAA,QACpC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AAKD,aAAO,eAAe,MAAM,uBAAuB;AAAA,QAC/C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO,SAAU,KAAK;AAClB,cAAI,aAAa;AACjB,mBAAS,KAAK,GAAG,KAAK,IAAI,QAAQ,KAAK,GAAG,QAAQ,MAAM;AACpD,gBAAI,QAAQ,GAAG,EAAE;AACjB,yBAAa,MAAM,MAAM,MAAM,MAAM;AAErC,gBAAI,WAAW,SAAS,EAAE,SAAS,QAAQ;AACvC,oBAAM,MAAM;AAAA,YAChB;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ,CAAC;AAAA,IACL;AACA,WAAO,eAAeA,SAAQ,WAAW,UAAU;AAAA,MAC/C,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,eAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI;AACJ,iBAAO,YAAY,MAAM,SAAU,IAAI;AACnC,oBAAQ,GAAG,OAAO;AAAA,cACd,KAAK;AAAG,uBAAO,CAAC,GAAa,KAAK,eAAe,KAAK,GAAG,CAAC;AAAA,cAC1D,KAAK;AACD,4BAAY,GAAG,KAAK;AACpB,qBAAK,eAAW,2BAAS,SAAS;AAClC,qBAAK,oBAAoB,KAAK,QAAQ;AACtC,uBAAO,CAAC,GAAc,KAAK,QAAQ;AAAA,YAC3C;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,SAAQ,WAAW,oBAAoB;AAAA,MACzD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,eAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI,cAAc;AAClB,iBAAO,YAAY,MAAM,SAAU,IAAI;AACnC,oBAAQ,GAAG,OAAO;AAAA,cACd,KAAK;AACD,oBAAI,CAAC,CAAC,KAAK,SAAU,QAAO,CAAC,GAAa,CAAC;AAC3C,uBAAO,CAAC,GAAa,KAAK,OAAO,CAAC;AAAA,cACtC,KAAK;AACD,mBAAG,KAAK;AACR,mBAAG,QAAQ;AAAA,cACf,KAAK;AAAG,uBAAO,CAAC,OAAa,mCAAiB,KAAK,UAAU,IAAI,CAAC;AAAA,cAClE,KAAK;AACD,+BAAe,GAAG,KAAK;AACvB,yBAAS,KAAK,mBAAmB,YAAY;AAK7C,uBAAO,CAAC,GAAc;AAAA,kBACd;AAAA,kBACA,QAAQ,aAAa,IAAI,SAAU,MAAM;AAAE,2BAAO,KAAK;AAAA,kBAAO,CAAC;AAAA,kBAC/D;AAAA,gBACJ,CAAC;AAAA,YACb;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AAKD,WAAO,eAAeA,SAAQ,WAAW,sBAAsB;AAAA,MAC3D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,cAAc;AAC3B,eAAO,aACF,IAAI,SAAU,MAAM;AACrB,cAAI,YAAY,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK;AACjE,cAAI,QAAQ,IAAI,UAAU,UAAU,OAAO,UAAU,MAAM;AAC3D,gBAAM,KAAK,IAAI,KAAK,KAAK;AACzB,iBAAO;AAAA,QACX,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AAKD,WAAO,eAAeA,SAAQ,WAAW,wCAAwC;AAAA,MAC7E,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,QAAQ,cAAc;AACnC,YAAI,QAAQ;AACZ,eAAO,OACF,IAAI,SAAU,MAAM,OAAO;AAC5B,cAAI;AACJ,cAAI,aAAa,KAAK,aAAa,KAAK,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG;AACnF,cAAI,MAAM,MAAM,SAAS;AACzB,cAAI,QAAQ,IAAI,UAAU,IAAI,OAAO,IAAI,MAAM;AAC/C,gBAAM,KAAK,IAAI,IAAI,kBAAkB,IAAI,CAAC;AAC1C,iBAAO;AAAA,QACX,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AAKD,WAAO,eAAeA,SAAQ,WAAW,kBAAkB;AAAA,MACvD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,KAAK;AAClB,eAAO,IAAI,QAAQ,SAAUF,UAASC,SAAQ;AAC1C,cAAI,MAAM,IAAI,eAAe;AAC7B,cAAI,KAAK,OAAO,KAAK,IAAI;AACzB,cAAI,eAAe;AACnB,cAAI,SAAS,SAAU,GAAG;AACtB,gBAAI,EAAE,EAAE,kBAAkB;AACtB;AACJ,gBAAI,EAAE,OAAO,WAAW,OAAO,EAAE,OAAO,WAAW,KAAK;AACpD,cAAAA,QAAO,mBAAmB,EAAE,OAAO,MAAM;AACzC;AAAA,YACJ;AACA,gBAAI,OAAO,EAAE,OAAO;AACpB,gBAAI,KAAK,SAAS,EAAE,QAAQ,aAAa,IAAI,GAAG;AAC5C,qBAAO,IAAI,WAAW,IAAI;AAAA,YAC9B;AACA,YAAAD,SAAQ,IAAI;AAAA,UAChB;AACA,cAAI,UAAU,SAAU,GAAG;AACvB,YAAAC,QAAO,CAAC;AAAA,UACZ;AACA,cAAI,KAAK;AAAA,QACb,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeC,SAAQ,WAAW,gBAAgB;AAAA,MACrD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,QAAQ;AACrB,YAAI,UAAU,KAAK,SAAS;AAC5B,YAAI,OAAO,QAAQ,QAAQ,QAAQ,SAAS;AAC5C,YAAI,cAAc,CAAC;AACnB,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,EAAE,GAAG;AACpC,cAAI,QAAQ,OAAO,CAAC;AACpB,cAAI,aAAa,MAAM,KAAK,OAAO,IAAI,CAAC,EAAE,iBAAiB,IACrD,IAAI,kBAAkB,IAAI,IAC1B,YAAY,IAAI,CAAC,EAAE,MAAM;AAC/B,sBAAY,KAAK,KAAK,UAAU,YAAY,OAAO,OAAO,CAAC;AAAA,QAC/D;AACA,eAAO;AAAA,MACX;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,SAAQ,WAAW,aAAa;AAAA,MAClD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,YAAY,OAAO,SAAS;AACzC,YAAI,CAAC,MAAM;AACP,iBAAO;AACX,YAAI,KAAK,MAAM,MAAM,QAAQ,GAAG,OAAO,SAAS,GAAG,QAAQ,KAAK,GAAG,KAAK,KAAK,GAAG;AAChF,YAAI,SAAS,KAAK,QAAQ,QAAQ;AAClC,iBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC7B,mBAAS,IAAI,GAAG,IAAI,OAAO,KAAK;AAC5B,gBAAI,OAAO,IAAI,QAAQ;AACvB,gBAAI,aAAa,MAAM,OAAO,IAAI;AAClC,gBAAI,QAAQ,SAAS,IAAI,QAAQ,QAAQ;AACzC,gBAAI,QAAQ,MAAM,WAAW,UAAU,KAAK,CAAC,GAAG,GAAG,CAAC;AACpD,gBAAI,eAAe,MAAM,kBAAkB;AACvC,yBAAW,QAAQ,CAAC,IAAI;AACxB,yBAAW,QAAQ,IAAI,CAAC,IAAI;AAC5B,yBAAW,QAAQ,IAAI,CAAC,IAAI;AAC5B,yBAAW,QAAQ,IAAI,CAAC,IAAI;AAAA,YAChC,OACK;AACD,yBAAW,QAAQ,CAAC,IAAI,MAAM,CAAC;AAC/B,yBAAW,QAAQ,IAAI,CAAC,IAAI,MAAM,CAAC;AACnC,yBAAW,QAAQ,IAAI,CAAC,IAAI,MAAM,CAAC;AACnC,yBAAW,QAAQ,IAAI,CAAC,IAAI;AAAA,YAChC;AAAA,UACJ;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AAAA,IACJ,CAAC;AACD,WAAOA;AAAA,EACX,EAAE;AAAA;;;ACvPF,IAAO,qBAAQ;;;ACAR,IAAI,iBAAiB,WAAY;AACpC,MAAI,iBAAiB,IAAI,KAAK,CAAC,SAAS,GAAG,EAAE,MAAM,yBAAyB,CAAC;AAC7E,MAAI,eAAe,IAAI,gBAAgB,cAAc;AACrD,SAAO;AACX;AACO,IAAI,YAAY;;;ACLvB,IAAAC,cAAgB;AAEhB,IAAI;AAAA;AAAA,EAA8B,WAAY;AAC1C,aAASC,cAAa,IAAI;AACtB,UAAI,SAAS,GAAG,QAAQ,oBAAoB,GAAG,mBAAmB,cAAc,GAAG,aAAa,KAAK,GAAG,cAAc,eAAe,OAAO,SAAS,CAAC,IAAI,IAAI,aAAa,GAAG;AAC9K,aAAO,eAAe,MAAM,iBAAiB;AAAA,QACzC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,UAAU;AAAA,QAClC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,eAAe;AAAA,QACvC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QACxC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,cAAc;AAAA,QACtC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,WAAK,gBAAgB,kBAAkB;AACvC,WAAK,SAAS;AACd,WAAK,cAAc;AACnB,WAAK,eAAe;AACpB,WAAK,aAAa;AAAA,IACtB;AACA,WAAO,eAAeA,cAAa,WAAW,aAAa;AAAA,MACvD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,YAAI,QAAQ;AACZ,eAAO,IAAI,QAAQ,SAAUC,UAASC,SAAQ;AAC1C,cAAI,eAAe,eAAwB;AAC3C,cAAI,aAAa,OAAO,OAAO;AAAA,YAC3B,SAAS;AAAA,YACT,SAAS;AAAA,YACT,cAAc;AAAA,YACd,OAAO,MAAM,cAAc;AAAA,YAC3B,QAAQ,MAAM,cAAc;AAAA,YAC5B,aAAa;AAAA,UACjB,GAAG,MAAM,gBAAgB,CAAC,CAAC;AAC3B,cAAI,MAAM,IAAI,YAAAC,QAAI,UAAU;AAC5B,cAAI,GAAG,YAAY,SAAU,MAAM;AAC/B,gBAAI,MAAM,eAAe,WAAW,MAAM;AACtC,cAAAF,SAAQ,IAAI;AAAA,YAChB,WACS,MAAM,eAAe,WAAW,QAAQ;AAC7C,cAAAA,SAAQ,MAAM,mBAAmB,IAAI,CAAC;AAAA,YAC1C,OACK;AACD,kBAAI,UAAU,OAAO,IAAI,gBAAgB,IAAI;AAC7C,cAAAA,SAAQ,OAAO;AAAA,YACnB;AAAA,UACJ,CAAC;AACD,gBAAM,OAAO,QAAQ,SAAU,OAAO,KAAK;AACvC,gBAAI,SAAS,OAAO,EAAE,OAAO,MAAM,YAAY,GAAG,GAAG,MAAM,KAAK,CAAC;AAAA,UACrE,CAAC;AACD,cAAI,OAAO;AAAA,QACf,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeD,cAAa,WAAW,sBAAsB;AAAA,MAChE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,MAAM;AACnB,eAAO,IAAI,QAAQ,SAAUC,UAASC,SAAQ;AAC1C,cAAI,SAAS,IAAI,WAAW;AAC5B,iBAAO,SAAS,SAAU,OAAO;AAC7B,gBAAI;AACJ,YAAAD,UAAS,KAAK,UAAU,QAAQ,UAAU,SAAS,SAAS,MAAM,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,UAC5H;AACA,iBAAO,UAAU,SAAU,GAAG;AAC1B,YAAAC,QAAO,CAAC;AAAA,UACZ;AACA,iBAAO,cAAc,IAAI;AAAA,QAC7B,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAOF;AAAA,EACX,EAAE;AAAA;;;ACjGF,IAAII,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAUC,UAAS;AAAE,MAAAA,SAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAUA,UAASC,SAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAOD,SAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AACA,IAAIE,eAA4C,SAAU,SAAS,MAAM;AACrE,MAAI,IAAI,EAAE,OAAO,GAAG,MAAM,WAAW;AAAE,QAAI,EAAE,CAAC,IAAI,EAAG,OAAM,EAAE,CAAC;AAAG,WAAO,EAAE,CAAC;AAAA,EAAG,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG;AAC/G,SAAO,IAAI,EAAE,MAAM,KAAK,CAAC,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,KAAK,CAAC,EAAE,GAAG,OAAO,WAAW,eAAe,EAAE,OAAO,QAAQ,IAAI,WAAW;AAAE,WAAO;AAAA,EAAM,IAAI;AACvJ,WAAS,KAAK,GAAG;AAAE,WAAO,SAAU,GAAG;AAAE,aAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IAAG;AAAA,EAAG;AACjE,WAAS,KAAK,IAAI;AACd,QAAI,EAAG,OAAM,IAAI,UAAU,iCAAiC;AAC5D,WAAO,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,IAAI,KAAK,EAAG,KAAI;AAC1C,UAAI,IAAI,GAAG,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,QAAQ,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,OAAO,IAAI,EAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,KAAM,QAAO;AAC3J,UAAI,IAAI,GAAG,EAAG,MAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,KAAK;AACtC,cAAQ,GAAG,CAAC,GAAG;AAAA,QACX,KAAK;AAAA,QAAG,KAAK;AAAG,cAAI;AAAI;AAAA,QACxB,KAAK;AAAG,YAAE;AAAS,iBAAO,EAAE,OAAO,GAAG,CAAC,GAAG,MAAM,MAAM;AAAA,QACtD,KAAK;AAAG,YAAE;AAAS,cAAI,GAAG,CAAC;AAAG,eAAK,CAAC,CAAC;AAAG;AAAA,QACxC,KAAK;AAAG,eAAK,EAAE,IAAI,IAAI;AAAG,YAAE,KAAK,IAAI;AAAG;AAAA,QACxC;AACI,cAAI,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI;AAAE,gBAAI;AAAG;AAAA,UAAU;AAC3G,cAAI,GAAG,CAAC,MAAM,MAAM,CAAC,KAAM,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAK;AAAE,cAAE,QAAQ,GAAG,CAAC;AAAG;AAAA,UAAO;AACrF,cAAI,GAAG,CAAC,MAAM,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,gBAAI;AAAI;AAAA,UAAO;AACpE,cAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,cAAE,IAAI,KAAK,EAAE;AAAG;AAAA,UAAO;AAClE,cAAI,EAAE,CAAC,EAAG,GAAE,IAAI,IAAI;AACpB,YAAE,KAAK,IAAI;AAAG;AAAA,MACtB;AACA,WAAK,KAAK,KAAK,SAAS,CAAC;AAAA,IAC7B,SAAS,GAAG;AAAE,WAAK,CAAC,GAAG,CAAC;AAAG,UAAI;AAAA,IAAG,UAAE;AAAU,UAAI,IAAI;AAAA,IAAG;AACzD,QAAI,GAAG,CAAC,IAAI,EAAG,OAAM,GAAG,CAAC;AAAG,WAAO,EAAE,OAAO,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,MAAM,KAAK;AAAA,EACnF;AACJ;AACA,IAAI;AAAA;AAAA,EAA8B,WAAY;AAC1C,aAASC,cAAa,OAAO;AACzB,aAAO,eAAe,MAAM,UAAU;AAAA,QAClC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QACxC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,qBAAqB;AAAA,QAC7C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,mBAAmB;AAAA,QAC3C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,mBAAmB;AAAA,QAC3C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,cAAc;AAAA,QACtC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QACxC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,iBAAiB;AAAA,QACzC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,WAAW;AAAA,QACnC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,WAAW;AAAA,QACnC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,oBAAoB;AAAA,QAC5C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,oBAAoB;AAAA,QAC5C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,gBAAgB;AAAA,QACxC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO,CAAC;AAAA,MACZ,CAAC;AACD,WAAK,KAAK,KAAK;AAAA,IACnB;AACA,WAAO,eAAeA,cAAa,WAAW,QAAQ;AAAA,MAClD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,IAAI;AACjB,YAAI,oBAAoB,GAAG;AAC3B,aAAK,oBAAoB;AACzB,aAAK,gBAAgB,kBAAkB;AAEvC,aAAK,eAAe,CAAC;AACrB,YAAI,CAAC,KAAK,mBAAmB,CAAC,KAAK,iBAAiB;AAChD,eAAK,YAAY;AAAA,QACrB;AACA,aAAK,YAAY;AAAA,MACrB;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,WAAW;AAAA,MACrD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,iBAAiB;AAC9B,YAAI,IAAI;AACR,eAAOJ,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI,QAAQ,cAAc,UAAU,cAAc,uBAAuB;AACzE,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,qBAAS,gBAAgB,QAAQ,eAAe,gBAAgB;AAChE,iBAAK,SAAS;AACd,iBAAK,eAAe;AACpB,uBAAW;AACX,mBAAO,WAAW,KAAK,OAAO,QAAQ;AAClC,6BAAe,KAAK,OAAO,QAAQ;AACnC,sCAAwB,KAAK,aAAa,QAAQ;AAElD,kBAAI,sBAAsB,iBAAiB,GAAG;AAC1C,qBAAK,aAAa,UAAU,GAAG,GAAG,KAAK,gBAAgB,OAAO,KAAK,gBAAgB,MAAM;AAAA,cAC7F;AAEA,kBAAI,KAAK,aAAa,8BAA8B,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,aAAa;AAC9H,qBAAK,aAAa,cAAc,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe;AAChH,qBAAK,aAAa,2BAA2B;AAC7C,qBAAK,aAAa,SAAS,GAAG,GAAG,KAAK,gBAAgB,OAAO,KAAK,gBAAgB,MAAM;AACxF,qBAAK,aAAa,2BAA2B;AAAA,cACjD;AAEA,kBAAI,CAAC;AACD;AACJ,0BAAY,KAAK,eAAe,KAAK,oBAAoB,cAAc,QAAQ,CAAC;AAChF,mBAAK,aAAa,KAAK,SAAS;AAEhC,mBAAK,WAAW,WAAW,QAAQ;AACnC;AAAA,YACJ;AACA,mBAAO,CAAC,GAAc,KAAK,YAAY;AAAA,UAC3C,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeC,cAAa,WAAW,mBAAmB;AAAA,MAC7D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,sBAAsB;AACnC,eAAO,KAAK,eAAe,oBAAoB;AAAA,MACnD;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,kBAAkB;AAAA,MAC5D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,sBAAsB;AACnC,aAAK,aAAa,KAAK;AAEvB,aAAK,aAAa,UAAU,KAAK,kBAAkB,KAAK,gBAAgB;AACxE,aAAK,aAAa,OAAQ,KAAK,cAAc,SAAS,KAAK,KAAM,GAAG;AACpE,aAAK,aAAa,MAAM,KAAK,cAAc,QAAQ,KAAK,cAAc,MAAM;AAC5E,aAAK,aAAa,UAAU,sBAAsB,CAAC,KAAK,gBAAgB,QAAQ,GAAG,CAAC,KAAK,gBAAgB,SAAS,CAAC;AACnH,aAAK,aAAa,QAAQ;AAC1B,YAAI,uBAAuB,KAAK,kBAAkB,mBAAmB,KAAK;AAC1E,YAAI,YAAY,KAAK,aAAa,aAAa,uBAAuB,KAAK,cAAc,IAAI,KAAK,SAAS,uBAAuB,KAAK,cAAc,IAAI,KAAK,SAAS,KAAK,cAAc,OAAO,KAAK,cAAc,MAAM;AAC1N,eAAO;AAAA,MACX;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,uBAAuB;AAAA,MACjE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,OAAO,OAAO;AAC3B,YAAI;AACJ,YAAI,QAAQ,KAAK,KAAK,aAAa,KAAK,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG;AACnF,aAAK,WAAW,UAAU,GAAG,GAAG,KAAK,gBAAgB,OAAO,KAAK,gBAAgB,MAAM;AACvF,aAAK,WAAW,aAAa,OAAO,KAAK,MAAM,KAAK,GAAG;AACvD,eAAO,KAAK;AAAA,MAChB;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,cAAc;AAAA,MACxD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,WAAW,OAAO;AAE/B,YAAI,UAAU,SAAS,OAAO,SAAS,kBAAkB;AACzD,mBAAW,SAAS,KAAK,gBAAgB,WAAW,KAAK;AAAA,MAC7D;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,mBAAmB;AAAA,MAC7D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,OAAO,OAAO;AAC3B,YAAI;AACJ,YAAI,QAAQ,KAAK,KAAK,aAAa,KAAK,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG;AACnF,YAAI,aAAa,SAAS,cAAc,QAAQ;AAEhD,mBAAW,QAAQ,KAAK,gBAAgB;AACxC,mBAAW,SAAS,KAAK,gBAAgB;AAEzC,YAAI,MAAM,WAAW,WAAW,IAAI;AACpC,YAAI,CAAC;AACD;AACJ,gBAAQ,QAAQ,QAAQ,SAAS,SAAS,IAAI,aAAa,OAAO,KAAK,MAAM,KAAK,GAAG;AAErF,YAAI,YAAY;AAChB,YAAI,cAAc;AAClB,YAAI,YAAY;AAChB,YAAI,KAAK;AACT,YAAI,UAAU;AACd,YAAI,OAAO;AACX,YAAI,SAAS,OAAO,KAAK,GAAG,IAAI,EAAE;AAClC,YAAI,QAAQ;AACZ,YAAI,UAAU;AAEd,iBAAS,KAAK,YAAY,UAAU;AAAA,MACxC;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,eAAe;AAAA,MACzD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,YAAI,kBAAmB,KAAK,kBAAkB,SAAS,cAAc,QAAQ;AAC7E,YAAI,kBAAmB,KAAK,kBAAkB,SAAS,cAAc,QAAQ;AAC7E,wBAAgB,YAAY;AAC5B,wBAAgB,YAAY;AAC5B,wBAAgB,MAAM,UAAU;AAChC,wBAAgB,MAAM,UAAU;AAChC,YAAI,eAAe,gBAAgB,WAAW,IAAI;AAClD,YAAI,aAAa,gBAAgB,WAAW,IAAI;AAChD,yBAAiB,KAAK,eAAe;AACrC,uBAAe,KAAK,aAAa;AACjC,iBAAS,KAAK,YAAY,eAAe;AACzC,iBAAS,KAAK,YAAY,eAAe;AAAA,MAC7C;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,eAAe;AAAA,MACzD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AAEf,YAAI,SAAU,KAAK,KAAK,MAAO,KAAK,cAAc;AAClD,YAAI,YAAY,KAAK,kBAAkB;AAEvC,YAAI,kBAAkB,UAAU;AAGhC,YAAI,mBAAmB,UAAU;AAIjC,aAAK,UAAU,CAAC,KAAK,IAAI,KAAK,cAAc,GAAG,CAAC;AAChD,aAAK,UAAU,CAAC,KAAK,IAAI,KAAK,cAAc,GAAG,CAAC;AAEhD,aAAK,mBAAmB,KAAK,UAAU,kBAAkB;AACzD,aAAK,mBAAmB,KAAK,UAAU,mBAAmB;AAE1D,aAAK,gBAAgB,QAAQ,KAAK,IAAI,KAAK,UAAU,iBAAiB,KAAK,UAAU,KAAK,cAAc,OAAO,KAAK,cAAc,IAAI,KAAK,cAAc,KAAK;AAC9J,aAAK,gBAAgB,SAAS,KAAK,IAAI,KAAK,UAAU,kBAAkB,KAAK,UAAU,KAAK,cAAc,QAAQ,KAAK,cAAc,IAAI,KAAK,cAAc,MAAM;AAClK,aAAK,gBAAgB,QAAQ,UAAU;AACvC,aAAK,gBAAgB,SAAS,UAAU;AAExC,aAAK,aAAa,UAAU,GAAG,GAAG,KAAK,gBAAgB,OAAO,KAAK,gBAAgB,MAAM;AACzF,aAAK,WAAW,UAAU,GAAG,GAAG,KAAK,gBAAgB,OAAO,KAAK,gBAAgB,MAAM;AAAA,MAC3F;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,cAAa,WAAW,kBAAkB;AAAA,MAC5D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,KAAK,OAAO;AACzB,YAAI,CAAC;AACD;AACJ,YAAI,cAAc,MAAM,OAAO;AAC/B,YAAI,UAAU,IAAI,gBAAgB,MAAM,KAAK,OAAO,MAAM,KAAK,MAAM;AACrE,YAAI,YAAY,QAAQ;AACxB,iBAAS,IAAI,GAAG,IAAI,aAAa,KAAK;AAClC,cAAI,MAAM,IAAI;AACd,cAAI,aAAa,MAAM,OAAO,CAAC;AAC/B,cAAI,QAAQ,MAAM,WAAW,UAAU;AACvC,oBAAU,GAAG,IAAI,MAAM,CAAC;AACxB,oBAAU,MAAM,CAAC,IAAI,MAAM,CAAC;AAC5B,oBAAU,MAAM,CAAC,IAAI,MAAM,CAAC;AAC5B,oBAAU,MAAM,CAAC,IAAI,eAAe,MAAM,mBAAmB,MAAM;AAAA,QACvE;AACA,eAAO;AAAA,MACX;AAAA,IACJ,CAAC;AACD,WAAOA;AAAA,EACX,EAAE;AAAA;;;ACjSF,wBAAsB;AApCtB,IAAIC,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAUC,UAAS;AAAE,MAAAA,SAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAUA,UAASC,SAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAOD,SAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AACA,IAAIE,eAA4C,SAAU,SAAS,MAAM;AACrE,MAAI,IAAI,EAAE,OAAO,GAAG,MAAM,WAAW;AAAE,QAAI,EAAE,CAAC,IAAI,EAAG,OAAM,EAAE,CAAC;AAAG,WAAO,EAAE,CAAC;AAAA,EAAG,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG;AAC/G,SAAO,IAAI,EAAE,MAAM,KAAK,CAAC,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,KAAK,CAAC,EAAE,GAAG,OAAO,WAAW,eAAe,EAAE,OAAO,QAAQ,IAAI,WAAW;AAAE,WAAO;AAAA,EAAM,IAAI;AACvJ,WAAS,KAAK,GAAG;AAAE,WAAO,SAAU,GAAG;AAAE,aAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IAAG;AAAA,EAAG;AACjE,WAAS,KAAK,IAAI;AACd,QAAI,EAAG,OAAM,IAAI,UAAU,iCAAiC;AAC5D,WAAO,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,IAAI,KAAK,EAAG,KAAI;AAC1C,UAAI,IAAI,GAAG,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,QAAQ,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,OAAO,IAAI,EAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,KAAM,QAAO;AAC3J,UAAI,IAAI,GAAG,EAAG,MAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,KAAK;AACtC,cAAQ,GAAG,CAAC,GAAG;AAAA,QACX,KAAK;AAAA,QAAG,KAAK;AAAG,cAAI;AAAI;AAAA,QACxB,KAAK;AAAG,YAAE;AAAS,iBAAO,EAAE,OAAO,GAAG,CAAC,GAAG,MAAM,MAAM;AAAA,QACtD,KAAK;AAAG,YAAE;AAAS,cAAI,GAAG,CAAC;AAAG,eAAK,CAAC,CAAC;AAAG;AAAA,QACxC,KAAK;AAAG,eAAK,EAAE,IAAI,IAAI;AAAG,YAAE,KAAK,IAAI;AAAG;AAAA,QACxC;AACI,cAAI,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI;AAAE,gBAAI;AAAG;AAAA,UAAU;AAC3G,cAAI,GAAG,CAAC,MAAM,MAAM,CAAC,KAAM,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAK;AAAE,cAAE,QAAQ,GAAG,CAAC;AAAG;AAAA,UAAO;AACrF,cAAI,GAAG,CAAC,MAAM,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,gBAAI;AAAI;AAAA,UAAO;AACpE,cAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,cAAE,IAAI,KAAK,EAAE;AAAG;AAAA,UAAO;AAClE,cAAI,EAAE,CAAC,EAAG,GAAE,IAAI,IAAI;AACpB,YAAE,KAAK,IAAI;AAAG;AAAA,MACtB;AACA,WAAK,KAAK,KAAK,SAAS,CAAC;AAAA,IAC7B,SAAS,GAAG;AAAE,WAAK,CAAC,GAAG,CAAC;AAAG,UAAI;AAAA,IAAG,UAAE;AAAU,UAAI,IAAI;AAAA,IAAG;AACzD,QAAI,GAAG,CAAC,IAAI,EAAG,OAAM,GAAG,CAAC;AAAG,WAAO,EAAE,OAAO,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,MAAM,KAAK;AAAA,EACnF;AACJ;AAEO,IAAI,eAAe,SAAU,QAAQ;AAAE,SAAOH,WAAU,QAAQ,QAAQ,QAAQ,WAAY;AAC/F,QAAI,IAAI,KAAK;AACb,WAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,cAAQ,GAAG,OAAO;AAAA,QACd,KAAK;AACD,eAAK,OAAO,KAAK,MAAM,OAAO,SAAS,KAAK;AAC5C,cAAI,CAAC;AACD,mBAAO,CAAC,GAAc;AAAA,cACd,OAAO;AAAA,cACP,QAAQ;AAAA,cACR,cAAc;AAAA,cACd,eAAe;AAAA,YACnB,CAAC;AACT,iBAAO,CAAC,GAAa,UAAU,MAAM,CAAC;AAAA,QAC1C,KAAK;AACD,0BAAiB,GAAG,KAAK,EAAG;AAC5B,iBAAO,CAAC,GAAc;AAAA,YACd,OAAO,cAAc;AAAA,YACrB,QAAQ,cAAc;AAAA,YACtB,cAAc,cAAc;AAAA,YAC5B,eAAe,cAAc;AAAA,UACjC,CAAC;AAAA,MACb;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AAAG;AACG,IAAI,eAAe,SAAU,iBAAiB;AAAE,SAAOH,WAAU,QAAQ,QAAQ,QAAQ,WAAY;AACxG,QAAI;AACJ,WAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,0BAAgB,kBAAAC,SAAU,IAAI,WAAW,eAAe,CAAC;AACzD,aAAO,CAAC,GAAc,aAAa;AAAA,IACvC,CAAC;AAAA,EACL,CAAC;AAAG;AACG,IAAI,YAAY,SAAU,QAAQ;AACrC,MAAI,KAAK,OAAO,KAAK,MAAM,OAAO,SAAS,KAAK,IAAI,cAAc,OAAO;AACzE,SAAO,IAAI,QAAQ,SAAUH,UAASC,SAAQ;AAC1C,QAAI,QAAQ,IAAI,MAAM;AACtB,QAAI,OAAO,gBAAgB,aAAa;AACpC,YAAM,cAAc;AAAA,IACxB;AACA,UAAM,SAAS,SAAU,MAAM;AAAE,aAAOF,WAAU,QAAQ,QAAQ,QAAQ,WAAY;AAClF,YAAIK,KAAI;AACR,YAAI;AACJ,eAAOF,aAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,cAAAE,MAAKJ;AACL,mBAAK;AAAA,gBACD,eAAe;AAAA,gBACf;AAAA,cACJ;AACA,mBAAK;AACL,qBAAO,CAAC,GAAa,+BAA+B,KAAK,CAAC;AAAA,YAC9D,KAAK;AAAG,qBAAO,CAAC,GAAa,GAAG,MAAM,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AAAA,YAC1D,KAAK;AACD,cAAAI,IAAG,MAAM,QAAQ,EAAE,GAAG,YAAY,GAAG,KAAK,GAClC,GAAG,CAAC;AACZ,qBAAO;AAAA,gBAAC;AAAA;AAAA,cAAY;AAAA,UAC5B;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,UAAM,MAAM;AACZ,UAAM,UAAUH;AAAA,EACpB,CAAC;AACL;AACO,IAAI,iCAAiC,SAAU,OAAO;AACzD,MAAI,SAAS,SAAS,cAAc,QAAQ;AAC5C,SAAO,QAAQ,MAAM;AACrB,SAAO,SAAS,MAAM;AACtB,MAAI,MAAM,OAAO,WAAW,IAAI;AAChC,UAAQ,QAAQ,QAAQ,SAAS,SAAS,IAAI,UAAU,OAAO,GAAG,CAAC;AACnE,MAAI,UAAU,OAAO,UAAU;AAC/B,MAAI,aAAa,QAAQ,MAAM,GAAG,EAAE,CAAC;AACrC,MAAI,aAAa,KAAK,UAAU;AAChC,MAAI,MAAM,WAAW;AACrB,MAAI,QAAQ,IAAI,WAAW,GAAG;AAC9B,WAAS,IAAI,GAAG,IAAI,KAAK,KAAK;AAC1B,UAAM,CAAC,IAAI,WAAW,WAAW,CAAC;AAAA,EACtC;AACA,SAAO,MAAM;AACjB;;;ACpHA,IAAII,aAAwC,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,WAAS,MAAM,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAUC,UAAS;AAAE,MAAAA,SAAQ,KAAK;AAAA,IAAG,CAAC;AAAA,EAAG;AAC3G,SAAO,KAAK,MAAM,IAAI,UAAU,SAAUA,UAASC,SAAQ;AACvD,aAAS,UAAU,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC1F,aAAS,SAAS,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,MAAG,SAAS,GAAG;AAAE,QAAAA,QAAO,CAAC;AAAA,MAAG;AAAA,IAAE;AAC7F,aAAS,KAAK,QAAQ;AAAE,aAAO,OAAOD,SAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,IAAG;AAC7G,UAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,EACxE,CAAC;AACL;AACA,IAAIE,eAA4C,SAAU,SAAS,MAAM;AACrE,MAAI,IAAI,EAAE,OAAO,GAAG,MAAM,WAAW;AAAE,QAAI,EAAE,CAAC,IAAI,EAAG,OAAM,EAAE,CAAC;AAAG,WAAO,EAAE,CAAC;AAAA,EAAG,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG;AAC/G,SAAO,IAAI,EAAE,MAAM,KAAK,CAAC,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,KAAK,CAAC,EAAE,GAAG,OAAO,WAAW,eAAe,EAAE,OAAO,QAAQ,IAAI,WAAW;AAAE,WAAO;AAAA,EAAM,IAAI;AACvJ,WAAS,KAAK,GAAG;AAAE,WAAO,SAAU,GAAG;AAAE,aAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IAAG;AAAA,EAAG;AACjE,WAAS,KAAK,IAAI;AACd,QAAI,EAAG,OAAM,IAAI,UAAU,iCAAiC;AAC5D,WAAO,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,IAAI,KAAK,EAAG,KAAI;AAC1C,UAAI,IAAI,GAAG,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,QAAQ,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,OAAO,IAAI,EAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,KAAM,QAAO;AAC3J,UAAI,IAAI,GAAG,EAAG,MAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,KAAK;AACtC,cAAQ,GAAG,CAAC,GAAG;AAAA,QACX,KAAK;AAAA,QAAG,KAAK;AAAG,cAAI;AAAI;AAAA,QACxB,KAAK;AAAG,YAAE;AAAS,iBAAO,EAAE,OAAO,GAAG,CAAC,GAAG,MAAM,MAAM;AAAA,QACtD,KAAK;AAAG,YAAE;AAAS,cAAI,GAAG,CAAC;AAAG,eAAK,CAAC,CAAC;AAAG;AAAA,QACxC,KAAK;AAAG,eAAK,EAAE,IAAI,IAAI;AAAG,YAAE,KAAK,IAAI;AAAG;AAAA,QACxC;AACI,cAAI,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI;AAAE,gBAAI;AAAG;AAAA,UAAU;AAC3G,cAAI,GAAG,CAAC,MAAM,MAAM,CAAC,KAAM,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAK;AAAE,cAAE,QAAQ,GAAG,CAAC;AAAG;AAAA,UAAO;AACrF,cAAI,GAAG,CAAC,MAAM,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,gBAAI;AAAI;AAAA,UAAO;AACpE,cAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,cAAE,QAAQ,EAAE,CAAC;AAAG,cAAE,IAAI,KAAK,EAAE;AAAG;AAAA,UAAO;AAClE,cAAI,EAAE,CAAC,EAAG,GAAE,IAAI,IAAI;AACpB,YAAE,KAAK,IAAI;AAAG;AAAA,MACtB;AACA,WAAK,KAAK,KAAK,SAAS,CAAC;AAAA,IAC7B,SAAS,GAAG;AAAE,WAAK,CAAC,GAAG,CAAC;AAAG,UAAI;AAAA,IAAG,UAAE;AAAU,UAAI,IAAI;AAAA,IAAG;AACzD,QAAI,GAAG,CAAC,IAAI,EAAG,OAAM,GAAG,CAAC;AAAG,WAAO,EAAE,OAAO,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,MAAM,KAAK;AAAA,EACnF;AACJ;AAMO,IAAI;AAAA,CACV,SAAUC,aAAY;AACnB,EAAAA,YAAW,QAAQ,IAAI;AACvB,EAAAA,YAAW,MAAM,IAAI;AACrB,EAAAA,YAAW,UAAU,IAAI;AAC7B,GAAG,eAAe,aAAa,CAAC,EAAE;AAClC,IAAI;AAAA;AAAA,EAAmC,WAAY;AAC/C,aAASC,qBAAoB;AACzB,aAAO,eAAe,MAAM,qBAAqB;AAAA,QAC7C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,iBAAiB;AAAA,QACzC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,eAAe;AAAA,QACvC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,mBAAmB;AAAA,QAC3C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,qBAAqB;AAAA,QAC7C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,wBAAwB;AAAA,QAChD,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,uBAAuB;AAAA,QAC/C,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AACD,aAAO,eAAe,MAAM,iBAAiB;AAAA,QACzC,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,UAAU;AAAA,QACV,OAAO;AAAA,MACX,CAAC;AAAA,IACL;AACA,WAAO,eAAeA,mBAAkB,WAAW,QAAQ;AAAA,MACvD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,qBAAqB;AAClC,YAAI;AACJ,eAAOL,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI,aAAa;AACjB,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,oBAAQ,GAAG,OAAO;AAAA,cACd,KAAK;AACD,qBAAK,mBAAmB,mBAAmB;AAC3C,qBAAK,sBAAsB,KAAK,eAAe,mBAAmB;AAClE,uBAAO,CAAC,GAAa,KAAK,KAAK,CAAC;AAAA,cACpC,KAAK;AACD,mBAAG,KAAK;AACR,uBAAO,CAAC,GAAa,KAAK,UAAU,CAAC;AAAA,cACzC,KAAK;AACD,mBAAG,KAAK;AACR,uBAAO,CAAC,GAAa,KAAK,mBAAmB,CAAC;AAAA,cAClD,KAAK;AACD,8BAAc,GAAG,KAAK;AACtB,oBAAI,CAAC,YAAY,SAAU,QAAO,CAAC,GAAa,CAAC;AACjD,uBAAO,CAAC,GAAc,KAAK,kBAAkB,YAAY,UAAU,aAAa,CAAC;AAAA,cACrF,KAAK;AAAG,uBAAO,CAAC,GAAa,KAAK,WAAW,CAAC;AAAA,cAC9C,KAAK;AACD,+BAAe,GAAG,KAAK;AACvB,uBAAO,CAAC,GAAc,KAAK,QAAQ,gBAAgB,KAAK,KAAK,qBAAqB,QAAQ,OAAO,SAAS,SAAS,GAAG,WAAW,CAAC,CAAC,CAAC;AAAA,YAC5I;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeE,mBAAkB,WAAW,QAAQ;AAAA,MACvD,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,YAAI,IAAI,IAAI;AACZ,eAAOL,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI,gBAAgB,cAAc,WAAW;AAC7C,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,oBAAQ,GAAG,OAAO;AAAA,cACd,KAAK;AACD,qBAAK,oBAAoB,KAAK,oBAAoB;AAClD,iCAAiB;AAAA,kBACb,OAAO;AAAA,kBACP,QAAQ;AAAA,kBACR,QAAQ;AAAA,kBACR,QAAQ;AAAA,kBACR,GAAG;AAAA,kBACH,GAAG;AAAA,kBACH,QAAQ;AAAA,kBACR,MAAM;AAAA,kBACN,KAAK;AAAA,gBACT;AACA,+BAAe,OAAO,OAAO,gBAAgB,KAAK,oBAAoB,iBAAiB,CAAC,KAAK,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,MAAM,CAAC,CAAC;AAClL,sBAAO,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,aAAa;AACzF,oBAAI,GAAI,QAAO,CAAC,GAAa,CAAC;AAC9B,uBAAO,CAAC,GAAa,aAAa;AAAA,kBAC1B,KAAK,KAAK,oBAAoB;AAAA,kBAC9B,aAAa,KAAK,oBAAoB;AAAA,gBAC1C,CAAC,CAAC;AAAA,cACV,KAAK;AACD,qBAAM,GAAG,KAAK;AACd,mBAAG,QAAQ;AAAA,cACf,KAAK;AACD,4BAAY,MAAM,CAAC;AACnB,qBAAK,oBAAoB;AAAA,kBACrB,eAAe,KAAK,gBAAgB,cAAc,SAAS;AAAA,kBAC3D;AAAA,kBACA,eAAe,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe,MAAM;AAAA,kBACzG,kBAAkB,CAAC,KAAK;AAAA,gBAC5B;AACA,qBAAK,kBAAkB,cAAc,SAAS,KAAK,gBAAgB,KAAK,kBAAkB,cAAc,MAAM;AAC9G,uBAAO;AAAA,kBAAC;AAAA;AAAA,gBAAY;AAAA,YAC5B;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeE,mBAAkB,WAAW,kBAAkB;AAAA,MACjE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,gBAAgB;AAC7B,YAAI,kBAAkB,eAAe;AACrC,YAAI,iBAAiB;AACjB,iBAAO,eAAe,eAAe;AACrC,iBAAO,eAAe,KAAK;AAAA,QAC/B;AACA,eAAO;AAAA,MACX;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,mBAAkB,WAAW,sBAAsB;AAAA,MACrE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,gBAAgB;AAC7B,YAAI,kBAAkB,eAAe,iBAAiB,gBAAgB,eAAe,eAAe,MAAM,eAAe;AACzH,YAAI,CAAC,iBAAiB;AAClB,cAAI,CAAC,eAAe;AAChB,kBAAM,IAAI,MAAM,uEAAuE;AAAA,UAC3F,WACS,CAAC,KAAK;AACX,kBAAM,IAAI,MAAM,6DAA6D;AAAA,UACjF;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,mBAAkB,WAAW,mBAAmB;AAAA,MAClE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,UAAU;AACvB,eAAO,WAAW,IAAI,MAAO,WAAW,MAAO;AAAA,MACnD;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,mBAAkB,WAAW,mBAAmB;AAAA,MAClE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,cAAc,WAAW;AACtC,qBAAa,OAAO,aAAa;AACjC,qBAAa,MAAM,aAAa;AAChC,qBAAa,QAAQ,aAAa,SAAS,UAAU;AACrD,qBAAa,SAAS,aAAa,UAAU,UAAU;AACvD,eAAO;AAAA,MACX;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,mBAAkB,WAAW,yBAAyB;AAAA,MACxE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,SAAS;AACtB,YAAI,QAAQ;AACZ,eAAO,IAAI,QAAQ,SAAUJ,UAASC,SAAQ;AAC1C,cAAI,IAAI;AACR,cAAI,CAAC,QAAQ,KAAK;AACd,kBAAM,IAAI,MAAM,+BAA+B;AAAA,UACnD;AACA,cAAI,MAAM,SAAS,cAAc,KAAK;AACtC,cAAI,MAAM,QAAQ;AAClB,cAAI,MAAM,eAAe;AACrB,qBAAS,KAAK,YAAY,MAAM,aAAa;AAC7C,aAAC,KAAK,MAAM,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ;AAAA,UACnF;AAEA,gBAAM,gBAAgB,SAAS,cAAc,KAAK;AAClD,gBAAM,cAAc,MAAM,QAAQ;AAClC,gBAAM,cAAc,MAAM,UAAU;AACpC,mBAAS,KAAK,OAAO,MAAM,aAAa;AACxC,cAAI,MAAM,gBAAgB,QAAQ,KAAK;AACnC,kBAAM,cAAc,QAAQ;AAC5B,kBAAM,cAAc,MAAM,QAAQ;AAAA,UACtC;AAEA,cAAI,cAAc,IAAI,QAAQ,MAAM,eAAe;AAAA,YAC/C,UAAU;AAAA,YACV,YAAY,CAAC,GAAG,KAAK,QAAQ,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA,YACpF,MAAM,QAAQ;AAAA,YACd,UAAU;AAAA,UACd,CAAC;AAED,gBAAM,cAAc,iBAAiB,SAAS,WAAY;AACtD,gBAAII;AACJ,gBAAI,YAAY,SAAS;AACrB,0BAAY,QAAQ,MAAM,UAAU;AACpC,oBAAMA,MAAK,QAAQ,mBAAmB,QAAQA,QAAO,SAAS,SAASA,IAAG,UAAU,MAAM,eAAe;AACrG,sBAAM,cAAc,MAAM,QAAQ,QAAQ,cAAc,QAAQ;AAAA,cACpE;AACA,cAAAL,SAAQ,WAAW;AAAA,YACvB;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeI,mBAAkB,WAAW,aAAa;AAAA,MAC5D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,YAAI;AACJ,eAAOL,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI,SAAS;AACb,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,oBAAQ,GAAG,OAAO;AAAA,cACd,KAAK;AACD,0BAAU,IAAI,QAAQ,KAAK,oBAAoB,SAAS,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,EAAE;AACvI,uBAAO,CAAC,GAAa,QAAQ,iBAAiB,CAAC;AAAA,cACnD,KAAK;AACD,kCAAkB,GAAG,KAAK;AAC1B,qBAAK,kBAAkB;AACvB,uBAAO;AAAA,kBAAC;AAAA;AAAA,gBAAY;AAAA,YAC5B;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeE,mBAAkB,WAAW,2BAA2B;AAAA,MAC1E,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,YAAI,CAAC,KAAK,sBAAsB;AAC5B,eAAK,uBAAuB,IAAI,aAAa;AAAA,YACzC,mBAAmB,KAAK;AAAA,UAC5B,CAAC;AAAA,QACL;AAAA,MACJ;AAAA,IACJ,CAAC;AACD,WAAO,eAAeA,mBAAkB,WAAW,cAAc;AAAA,MAC7D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,eAAOL,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,iBAAK,wBAAwB;AAC7B,iBAAK,qBAAqB,KAAK;AAAA,cAC3B,mBAAmB,KAAK;AAAA,YAC5B,CAAC;AACD,mBAAO,CAAC,GAAc,KAAK,qBAAqB,QAAQ,KAAK,eAAe,CAAC;AAAA,UACjF,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeE,mBAAkB,WAAW,WAAW;AAAA,MAC1D,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,cAAc,aAAa;AACxC,eAAOL,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI;AACJ,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,2BAAe,IAAI,aAAa;AAAA,cAC5B,QAAQ;AAAA,cACR,mBAAmB,KAAK;AAAA,cACxB;AAAA,cACA,cAAc,KAAK,oBAAoB;AAAA,cACvC,YAAY,KAAK,oBAAoB;AAAA,YACzC,CAAC;AACD,mBAAO,CAAC,GAAc,aAAa,UAAU,CAAC;AAAA,UAClD,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeE,mBAAkB,WAAW,sBAAsB;AAAA,MACrE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,WAAY;AACf,YAAI,IAAI,IAAI,IAAI;AAChB,eAAOL,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI,KAAK;AACT,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,oBAAQ,GAAG,OAAO;AAAA,cACd,KAAK;AACD,uBAAO,MAAM,KAAK,KAAK,uBAAuB,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS,QAAQ,OAAO,SAAS,MAAM,KAAK,KAAK,yBAAyB,QAAQ,OAAO,SAAS,SAAS,GAAG;AAChM,uBAAO,CAAC,GAAa,UAAU;AAAA,kBACvB,KAAK;AAAA,kBACL,aAAa,KAAK,oBAAoB;AAAA,gBAC1C,CAAC,CAAC;AAAA,cACV,KAAK;AACD,4BAAY,GAAG,KAAK;AACpB,uBAAO,CAAC,GAAc;AAAA,kBACd,YAAY,KAAK,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,UAAU;AAAA,kBAC9I;AAAA,gBACJ,CAAC;AAAA,YACb;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAO,eAAeE,mBAAkB,WAAW,qBAAqB;AAAA,MACpE,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,MACV,OAAO,SAAU,eAAe;AAC5B,eAAOL,WAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,cAAI,QAAQ,KAAK;AACjB,cAAI,QAAQ;AACZ,iBAAOG,aAAY,MAAM,SAAU,IAAI;AACnC,oBAAQ,GAAG,OAAO;AAAA,cACd,KAAK;AACD,yBAAS,SAAS,cAAc,QAAQ;AACxC,sBAAM,OAAO,WAAW,IAAI;AAC5B,uBAAO,QAAQ,cAAc;AAC7B,uBAAO,SAAS,cAAc;AAC9B,wBAAQ,QAAQ,QAAQ,SAAS,SAAS,IAAI,UAAU,eAAe,GAAG,CAAC;AAC3E,qBAAK,wBAAwB;AAE7B,qBAAK,qBAAqB,KAAK;AAAA,kBAC3B,mBAAmB,KAAK;AAAA,gBAC5B,CAAC;AACD,uBAAO,CAAC,GAAa,KAAK,qBAAqB,gBAAgB,MAAM,CAAC;AAAA,cAC1E,KAAK;AACD,mCAAmB,GAAG,KAAK;AAC3B,wBAAQ,QAAQ,QAAQ,SAAS,SAAS,IAAI,UAAU,GAAG,GAAG,OAAO,OAAO,OAAO,MAAM;AACzF,uBAAO,QAAQ,iBAAiB;AAChC,uBAAO,SAAS,iBAAiB;AACjC,wBAAQ,QAAQ,QAAQ,SAAS,SAAS,IAAI,aAAa,kBAAkB,GAAG,CAAC;AACjF,uBAAO,CAAC,GAAc,IAAI,QAAQ,SAAUF,UAASC,SAAQ;AACrD,sBAAII,KAAI;AACR,sBAAI,KAAK,MAAM,oBAAoB,YAAY,aAAa,OAAO,SAAS,WAAW,WAAW;AAClG,sBAAI,eAAe,WAAW,QAAQ;AAClC,oBAAAL,SAAQ,OAAO,WAAWK,MAAK,MAAM,mBAAmB,QAAQA,QAAO,SAAS,SAASA,IAAG,IAAI,CAAC;AAAA,kBACrG,OACK;AACD,2BAAO,OAAO,SAAU,MAAM;AAC1B,0BAAI,CAAC;AACD,+BAAOJ,QAAO,IAAI;AACtB,0BAAI,eAAe,WAAW,MAAM;AAChC,wBAAAD,SAAQ,IAAI;AAAA,sBAChB,OACK;AACD,4BAAI,UAAU,OAAO,IAAI,gBAAgB,IAAI;AAC7C,wBAAAA,SAAQ,OAAO;AAAA,sBACnB;AAAA,oBACJ,IAAI,KAAK,MAAM,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,IAAI;AAAA,kBAC9E;AAAA,gBACJ,CAAC,CAAC;AAAA,YACd;AAAA,UACJ,CAAC;AAAA,QACL,CAAC;AAAA,MACL;AAAA,IACJ,CAAC;AACD,WAAOI;AAAA,EACX,EAAE;AAAA;",
  "names": ["exports", "parse", "stream", "conditional", "loop", "exports", "buildStream", "readByte", "stream", "peekByte", "readBytes", "peekBytes", "readString", "readUnsigned", "readArray", "subBitsTotal", "readBits", "exports", "stream", "exports", "deinterlace", "cpRow", "toRow", "fromRow", "exports", "lzw", "require_lib", "exports", "parseGIF", "generatePatch", "decompressFrame", "decompressFrames", "f", "exports", "module", "define", "amd", "g", "window", "global", "self", "this", "GIF", "e", "t", "n", "r", "s", "o", "u", "a", "require", "i", "Error", "code", "l", "call", "length", "1", "EventEmitter", "_events", "_maxListeners", "undefined", "prototype", "defaultMaxListeners", "setMaxListeners", "isNumber", "isNaN", "TypeError", "emit", "type", "er", "handler", "len", "args", "listeners", "error", "isObject", "arguments", "err", "context", "isUndefined", "isFunction", "Array", "slice", "apply", "addListener", "listener", "m", "newListener", "push", "warned", "console", "trace", "on", "once", "fired", "removeListener", "list", "position", "splice", "removeAllListeners", "key", "ret", "listenerCount", "evlistener", "emitter", "arg", "UA", "browser", "mode", "platform", "ua", "navigator", "userAgent", "toLowerCase", "match", "document", "documentMode", "name", "version", "parseFloat", "parseInt", "extend", "child", "parent", "hasProp", "ctor", "constructor", "__super__", "superClass", "defaults", "frameDefaults", "workerScript", "workers", "repeat", "background", "quality", "width", "height", "transparent", "debug", "dither", "delay", "copy", "options", "base", "value", "running", "frames", "freeWorkers", "activeWorkers", "setOptions", "setOption", "_canvas", "results", "addFrame", "image", "frame", "ImageData", "data", "CanvasRenderingContext2D", "WebGLRenderingContext", "getContextData", "childNodes", "getImageData", "render", "j", "numWorkers", "ref", "nextFrame", "finishedFrames", "imageParts", "spawnWorkers", "globalPalette", "renderNextFrame", "abort", "worker", "shift", "log", "terminate", "Math", "min", "forEach", "_this", "Worker", "onmessage", "event", "indexOf", "frameFinished", "index", "finishRendering", "k", "len1", "len2", "len3", "offset", "page", "ref1", "ref2", "pageSize", "cursor", "round", "Uint8Array", "set", "Blob", "task", "getTask", "postMessage", "ctx", "createElement", "getContext", "setFill", "fillRect", "drawImage", "last", "canTransfer", "arr", "exports", "module", "fileType", "imageType", "resolve", "reject", "Decoder", "import_gif", "SyntheticGIF", "resolve", "reject", "GIF", "__awaiter", "resolve", "reject", "__generator", "FrameCropper", "__awaiter", "resolve", "reject", "__generator", "imageType", "_a", "__awaiter", "resolve", "reject", "__generator", "OutputType", "SuperImageCropper", "_a"]
}
