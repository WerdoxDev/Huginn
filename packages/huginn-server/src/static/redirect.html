<!doctype html>
<html class="h-full">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="./output.css" rel="stylesheet">

   <script>
      window.onload = () => {
         /** @type {HTMLAnchorElement} */
         const linkAnchor = document.getElementById("link");
         linkAnchor.href = "huginn://oauth-confirm" + window.location.search;

         const successIcon = document.getElementById("success");
         const successText = document.getElementById("success-text");
         const errorIcon = document.getElementById("error");
         const errorText = document.getElementById("error-text");
         const titleText = document.getElementById("title");
         const search = new URLSearchParams(document.location.search);

         if (search.get("error")?.toLowerCase() === "cancelled") {
            successIcon.style.display = "none";
            successText.style.display = "none";
            titleText.innerText = "Cancelled";
         } else {
            errorIcon.style.display = "none";
            errorText.style.display = "none";
            titleText.innerText = "Redirected to Huginn";
         }
      }
   </script>
</head>

<body class="h-full">
   <div class="flex h-full w-full bg-[#262626]">
      <div class="flex w-full items-center justify-center">
         <div class="flex h-max flex-col items-center justify-center gap-y-5">
            <img src="favicon.ico" class="size-32 animate-pulse text-[#EBEBD3] drop-shadow-[0px_0px_50px_#EBEBD3]" />
            <div class="text-center">
               <div class="font-bold text-2xl text-[#EBEBD3] flex justify-center items-center gap-x-2">
                  <span id="title"></span>
                  <svg id="success" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                     class="size-8 text-[#76FF7A]">
                     <g fill="none" fill-rule="evenodd">
                        <path
                           d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z" />
                        <path fill="currentColor"
                           d="M21.546 5.111a1.5 1.5 0 0 1 0 2.121L10.303 18.475a1.6 1.6 0 0 1-2.263 0L2.454 12.89a1.5 1.5 0 1 1 2.121-2.121l4.596 4.596L19.424 5.111a1.5 1.5 0 0 1 2.122 0" />
                     </g>
                  </svg>
                  <svg id="error" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-8 text-[#FA8072]">
                     <g fill="none" fill-rule="evenodd">
                        <path
                           d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z" />
                        <path fill="currentColor"
                           d="m12 14.122l5.303 5.303a1.5 1.5 0 0 0 2.122-2.122L14.12 12l5.304-5.303a1.5 1.5 0 1 0-2.122-2.121L12 9.879L6.697 4.576a1.5 1.5 0 1 0-2.122 2.12L9.88 12l-5.304 5.304a1.5 1.5 0 1 0 2.122 2.12z" />
                     </g>
                  </svg>
               </div>
               <div id="success-text" class="mt-2 text-lg text-[#EBEBD3]/80 max-w-lg">
                  <span>You can return to the application and safetly close this window. If you are not redirected
                     automatically, Please click</span>
                  <a id="link" class="text-[#00A7E3] underline">here</a>
               </div>
               <div id="error-text" class="mt-2 text-lg text-[#EBEBD3]/80 max-w-lg">
                  <span>The authentication process was cancelled! You can safetly close this window and start again in
                     the application</span>
               </div>
            </div>
         </div>
      </div>
   </div>
</body>

</html>
